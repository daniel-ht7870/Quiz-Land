(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Hd={exports:{}},Dl={};var $y;function KS(){if($y)return Dl;$y=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Dl.Fragment=t,Dl.jsx=i,Dl.jsxs=i,Dl}var Wy;function YS(){return Wy||(Wy=1,Hd.exports=KS()),Hd.exports}var U=YS(),Fd={exports:{}},vt={};var tv;function XS(){if(tv)return vt;tv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,J={};function et(M,Y,it){this.props=M,this.context=Y,this.refs=J,this.updater=it||$}et.prototype.isReactComponent={},et.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},et.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function pt(){}pt.prototype=et.prototype;function ht(M,Y,it){this.props=M,this.context=Y,this.refs=J,this.updater=it||$}var Pt=ht.prototype=new pt;Pt.constructor=ht,tt(Pt,et.prototype),Pt.isPureReactComponent=!0;var Ft=Array.isArray;function Mt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(M,Y,it){var at=it.ref;return{$$typeof:s,type:M,key:Y,ref:at!==void 0?at:null,props:it}}function V(M,Y){return w(M.type,Y,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function z(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(it){return Y[it]})}var R=/\/+/g;function re(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):Y.toString(36)}function Ne(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Mt,Mt):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,Y,it,at,_t){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var zt=!1;if(M===null)zt=!0;else switch(St){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(M.$$typeof){case s:case t:zt=!0;break;case T:return zt=M._init,Q(zt(M._payload),Y,it,at,_t)}}if(zt)return _t=_t(M),zt=at===""?"."+re(M,0):at,Ft(_t)?(it="",zt!=null&&(it=zt.replace(R,"$&/")+"/"),Q(_t,Y,it,"",function(fr){return fr})):_t!=null&&(D(_t)&&(_t=V(_t,it+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+zt)),Y.push(_t)),1;zt=0;var Oe=at===""?".":at+":";if(Ft(M))for(var ae=0;ae<M.length;ae++)at=M[ae],St=Oe+re(at,ae),zt+=Q(at,Y,it,St,_t);else if(ae=H(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(at=M.next()).done;)at=at.value,St=Oe+re(at,ae++),zt+=Q(at,Y,it,St,_t);else if(St==="object"){if(typeof M.then=="function")return Q(Ne(M),Y,it,at,_t);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return zt}function nt(M,Y,it){if(M==null)return M;var at=[],_t=0;return Q(M,at,"","",function(St){return Y.call(it,St,_t++)}),at}function ft(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(it){(M._status===0||M._status===-1)&&(M._status=1,M._result=it)},function(it){(M._status===0||M._status===-1)&&(M._status=2,M._result=it)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Qt={map:nt,forEach:function(M,Y,it){nt(M,function(){Y.apply(this,arguments)},it)},count:function(M){var Y=0;return nt(M,function(){Y++}),Y},toArray:function(M){return nt(M,function(Y){return Y})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return vt.Activity=b,vt.Children=Qt,vt.Component=et,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ht,vt.StrictMode=r,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},vt.cache=function(M){return function(){return M.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(M,Y,it){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=tt({},M.props),_t=M.key;if(Y!=null)for(St in Y.key!==void 0&&(_t=""+Y.key),Y)!S.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(at[St]=Y[St]);var St=arguments.length-2;if(St===1)at.children=it;else if(1<St){for(var zt=Array(St),Oe=0;Oe<St;Oe++)zt[Oe]=arguments[Oe+2];at.children=zt}return w(M.type,_t,at)},vt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},vt.createElement=function(M,Y,it){var at,_t={},St=null;if(Y!=null)for(at in Y.key!==void 0&&(St=""+Y.key),Y)S.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=Y[at]);var zt=arguments.length-2;if(zt===1)_t.children=it;else if(1<zt){for(var Oe=Array(zt),ae=0;ae<zt;ae++)Oe[ae]=arguments[ae+2];_t.children=Oe}if(M&&M.defaultProps)for(at in zt=M.defaultProps,zt)_t[at]===void 0&&(_t[at]=zt[at]);return w(M,St,_t)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(M){return{$$typeof:g,render:M}},vt.isValidElement=D,vt.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ft}},vt.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},vt.startTransition=function(M){var Y=C.T,it={};C.T=it;try{var at=M(),_t=C.S;_t!==null&&_t(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Mt,Lt)}catch(St){Lt(St)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),C.T=Y}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(M){return C.H.use(M)},vt.useActionState=function(M,Y,it){return C.H.useActionState(M,Y,it)},vt.useCallback=function(M,Y){return C.H.useCallback(M,Y)},vt.useContext=function(M){return C.H.useContext(M)},vt.useDebugValue=function(){},vt.useDeferredValue=function(M,Y){return C.H.useDeferredValue(M,Y)},vt.useEffect=function(M,Y){return C.H.useEffect(M,Y)},vt.useEffectEvent=function(M){return C.H.useEffectEvent(M)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(M,Y,it){return C.H.useImperativeHandle(M,Y,it)},vt.useInsertionEffect=function(M,Y){return C.H.useInsertionEffect(M,Y)},vt.useLayoutEffect=function(M,Y){return C.H.useLayoutEffect(M,Y)},vt.useMemo=function(M,Y){return C.H.useMemo(M,Y)},vt.useOptimistic=function(M,Y){return C.H.useOptimistic(M,Y)},vt.useReducer=function(M,Y,it){return C.H.useReducer(M,Y,it)},vt.useRef=function(M){return C.H.useRef(M)},vt.useState=function(M){return C.H.useState(M)},vt.useSyncExternalStore=function(M,Y,it){return C.H.useSyncExternalStore(M,Y,it)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.0",vt}var ev;function xm(){return ev||(ev=1,Fd.exports=XS()),Fd.exports}var wt=xm(),Qd={exports:{}},Nl={},Gd={exports:{}},Kd={};var nv;function ZS(){return nv||(nv=1,(function(s){function t(Q,nt){var ft=Q.length;Q.push(nt);t:for(;0<ft;){var Lt=ft-1>>>1,Qt=Q[Lt];if(0<l(Qt,nt))Q[Lt]=nt,Q[ft]=Qt,ft=Lt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var nt=Q[0],ft=Q.pop();if(ft!==nt){Q[0]=ft;t:for(var Lt=0,Qt=Q.length,M=Qt>>>1;Lt<M;){var Y=2*(Lt+1)-1,it=Q[Y],at=Y+1,_t=Q[at];if(0>l(it,ft))at<Qt&&0>l(_t,it)?(Q[Lt]=_t,Q[at]=ft,Lt=at):(Q[Lt]=it,Q[Y]=ft,Lt=Y);else if(at<Qt&&0>l(_t,ft))Q[Lt]=_t,Q[at]=ft,Lt=at;else break t}}return nt}function l(Q,nt){var ft=Q.sortIndex-nt.sortIndex;return ft!==0?ft:Q.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],T=1,b=null,O=3,H=!1,$=!1,tt=!1,J=!1,et=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Pt(Q){for(var nt=i(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=Q)r(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function Ft(Q){if(tt=!1,Pt(Q),!$)if(i(_)!==null)$=!0,Mt||(Mt=!0,z());else{var nt=i(y);nt!==null&&Ne(Ft,nt.startTime-Q)}}var Mt=!1,C=-1,S=5,w=-1;function V(){return J?!0:!(s.unstable_now()-w<S)}function D(){if(J=!1,Mt){var Q=s.unstable_now();w=Q;var nt=!0;try{t:{$=!1,tt&&(tt=!1,pt(C),C=-1),H=!0;var ft=O;try{e:{for(Pt(Q),b=i(_);b!==null&&!(b.expirationTime>Q&&V());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,O=b.priorityLevel;var Qt=Lt(b.expirationTime<=Q);if(Q=s.unstable_now(),typeof Qt=="function"){b.callback=Qt,Pt(Q),nt=!0;break e}b===i(_)&&r(_),Pt(Q)}else r(_);b=i(_)}if(b!==null)nt=!0;else{var M=i(y);M!==null&&Ne(Ft,M.startTime-Q),nt=!1}}break t}finally{b=null,O=ft,H=!1}nt=void 0}}finally{nt?z():Mt=!1}}}var z;if(typeof ht=="function")z=function(){ht(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,re=R.port2;R.port1.onmessage=D,z=function(){re.postMessage(null)}}else z=function(){et(D,0)};function Ne(Q,nt){C=et(function(){Q(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(Q){switch(O){case 1:case 2:case 3:var nt=3;break;default:nt=O}var ft=O;O=nt;try{return Q()}finally{O=ft}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(Q,nt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=O;O=Q;try{return nt()}finally{O=ft}},s.unstable_scheduleCallback=function(Q,nt,ft){var Lt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Lt+ft:Lt):ft=Lt,Q){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=ft+Qt,Q={id:T++,callback:nt,priorityLevel:Q,startTime:ft,expirationTime:Qt,sortIndex:-1},ft>Lt?(Q.sortIndex=ft,t(y,Q),i(_)===null&&Q===i(y)&&(tt?(pt(C),C=-1):tt=!0,Ne(Ft,ft-Lt))):(Q.sortIndex=Qt,t(_,Q),$||H||($=!0,Mt||(Mt=!0,z()))),Q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(Q){var nt=O;return function(){var ft=O;O=nt;try{return Q.apply(this,arguments)}finally{O=ft}}}})(Kd)),Kd}var iv;function JS(){return iv||(iv=1,Gd.exports=ZS()),Gd.exports}var Yd={exports:{}},Xe={};var sv;function $S(){if(sv)return Xe;sv=1;var s=xm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},Xe.flushSync=function(_){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=T,r.d.f()}},Xe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Xe.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Xe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:H}):T==="script"&&r.d.X(_,{crossOrigin:b,integrity:O,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Xe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin);r.d.L(_,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Xe.requestFormReset=function(_){r.d.r(_)},Xe.unstable_batchedUpdates=function(_,y){return _(y)},Xe.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var rv;function WS(){if(rv)return Yd.exports;rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Yd.exports=$S(),Yd.exports}var av;function t1(){if(av)return Nl;av=1;var s=JS(),t=xm(),i=WS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,O=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),Ft=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case et:return"Profiler";case J:return"StrictMode";case Ft:return"Suspense";case Mt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ht:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}var Ne=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Lt=[],Qt=-1;function M(e){return{current:e}}function Y(e){0>Qt||(e.current=Lt[Qt],Lt[Qt]=null,Qt--)}function it(e,n){Qt++,Lt[Qt]=e.current,e.current=n}var at=M(null),_t=M(null),St=M(null),zt=M(null);function Oe(e,n){switch(it(St,n),it(_t,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ty(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ty(n),e=Ay(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),it(at,e)}function ae(){Y(at),Y(_t),Y(St)}function fr(e){e.memoizedState!==null&&it(zt,e);var n=at.current,a=Ay(n,e.type);n!==a&&(it(_t,e),it(at,a))}function ra(e){_t.current===e&&(Y(at),Y(_t)),zt.current===e&&(Y(zt),wl._currentValue=ft)}var aa,oa;function ai(e){if(aa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);aa=n&&n[1]||"",oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+e+oa}var wo=!1;function dr(e,n){if(!e||wo)return"";wo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var q=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){q=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){q=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&q&&typeof B.stack=="string")return[B.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),k=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===k.length)for(o=I.length-1,h=k.length-1;1<=o&&0<=h&&I[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==k[h]){var F=`
`+I[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{wo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ai(a):""}function Ro(e,n){switch(e.tag){case 26:case 27:case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return e.child!==n&&n!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return dr(e.type,!1);case 11:return dr(e.type.render,!1);case 1:return dr(e.type,!0);case 31:return ai("Activity");default:return""}}function Io(e){try{var n="",a=null;do n+=Ro(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,gs=s.unstable_cancelCallback,Fh=s.unstable_shouldYield,hu=s.unstable_requestPaint,tn=s.unstable_now,mr=s.unstable_getCurrentPriorityLevel,Co=s.unstable_ImmediatePriority,Do=s.unstable_UserBlockingPriority,ps=s.unstable_NormalPriority,Qh=s.unstable_LowPriority,fu=s.unstable_IdlePriority,du=s.log,mu=s.unstable_setDisableYieldValue,jn=null,qe=null;function bn(e){if(typeof du=="function"&&mu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(jn,e)}catch{}}var fe=Math.clz32?Math.clz32:pu,gu=Math.log,la=Math.LN2;function pu(e){return e>>>=0,e===0?32:31-(gu(e)/la|0)|0}var oi=256,gr=262144,ye=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(p&=E,p!==0?h=li(p):a||(a=E&~e,a!==0&&(h=li(a))))):(E=o&~f,E!==0?h=li(E):p!==0?h=li(p):a||(a=o&~e,a!==0&&(h=li(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Gh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ci(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Kh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,k=e.hiddenUpdates;for(a=p&~a;0<a;){var F=31-fe(a),K=1<<F;E[F]=0,I[F]=-1;var q=k[F];if(q!==null)for(k[F]=null,F=0;F<q.length;F++){var B=q[F];B!==null&&(B.lane&=-536870913)}a&=~K}o!==0&&_r(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function _r(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function No(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Oo(e,n){var a=n&-n;return a=(a&42)!==0?1:yr(a),(a&(e.suspendedLanes|n))!==0?0:a}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:Qy(e.type))}function Hn(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Fn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Fn,ze="__reactProps$"+Fn,hi="__reactContainer$"+Fn,ua="__reactEvents$"+Fn,Yh="__reactListeners$"+Fn,vu="__reactHandles$"+Fn,Eu="__reactResources$"+Fn,fi="__reactMarker$"+Fn;function ca(e){delete e[ve],delete e[ze],delete e[ua],delete e[Yh],delete e[vu]}function di(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[hi]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Dy(e);e!==null;){if(a=e[ve])return a;e=Dy(e)}return n}e=a,a=e.parentNode}return null}function wn(e){if(e=e[ve]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function mi(e){var n=e[Eu];return n||(n=e[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[fi]=!0}var Vo=new Set,Mo={};function gi(e,n){pi(e,n),pi(e+"Capture",n)}function pi(e,n){for(Mo[e]=n,e=0;e<n.length;e++)Vo.add(n[e])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Uo={};function Tu(e){return _e.call(Uo,e)?!0:_e.call(zo,e)?!1:xo.test(e)?Uo[e]=!0:(zo[e]=!0,!1)}function ha(e,n,a){if(Tu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function pn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Te(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _s(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=_s(e)?"checked":"value";e._valueTracker=Lo(e,n,""+e[n])}}function vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=_s(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Er=/[\n"\\]/g;function an(e){return e.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fa(e,n,a,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Po(e,p,Ue(n)):a!=null?Po(e,p,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function Au(e,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gt(e)}function Po(e,n,a){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ys(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Su(e,n,a){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ue(a):""}function vs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ne(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ue(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Gt(e)}function on(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||bu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function qo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&ko(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ko(e,f,n[f])}function da(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(e){return Es.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var jo=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,yi=null;function Tr(e){var n=wn(e);if(n&&(e=n.stateNode)){var a=e[ze]||null;t:switch(e=n.stateNode,n.type){case"input":if(fa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ze]||null;if(!h)throw Error(r(90));fa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&vr(o)}break t;case"textarea":Su(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ys(e,!!a.multiple,n,!1)}}}var ga=!1;function As(e,n,a){if(ga)return e(n,a);ga=!0;try{var o=e(n);return o}finally{if(ga=!1,(Ts!==null||yi!==null)&&(yc(),Ts&&(n=Ts,e=yi,yi=Ts=null,Tr(n),e)))for(n=0;n<e.length;n++)Tr(e[n])}}function Gn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ze]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(In)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Ar=!1}var vi=null,Bo=null,Sr=null;function Ho(){if(Sr)return Sr;var e,n=Bo,a=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return Sr=h.slice(e,1<o?1-o:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Kn(){return!1}function je(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Kn,this.isPropagationStopped=Kn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=je(ki),Ss=b({},ki,{view:0,detail:0}),Fo=je(Ss),bs,pa,Ti,_a=b({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(bs=e.screenX-Ti.screenX,pa=e.screenY-Ti.screenY):pa=bs=0,Ti=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:pa}}),Qo=je(_a),wr=b({},_a,{dataTransfer:0}),Ru=je(wr),Iu=b({},Ss,{relatedTarget:0}),Rr=je(Iu),Go=b({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=je(Go),ya=b({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Du=je(ya),Nu=b({},ki,{data:0}),Ai=je(Nu),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Mu[e])?!!n[e]:!1}function ws(){return xu}var en=b({},Ss,{key:function(e){if(e.key){var n=Ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zu=je(en),Uu=b({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=je(Uu),u=b({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),m=je(u),v=b({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=je(v),L=b({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=je(L),W=b({},ki,{newState:0,oldState:0}),Tt=je(W),de=[9,13,27,32],jt=In&&"CompositionEvent"in window,oe=null;In&&"documentMode"in document&&(oe=document.documentMode);var Cn=In&&"TextEvent"in window&&!oe,Si=In&&(!jt||oe&&8<oe&&11>=oe),Yn=" ",Xn=!1;function Ir(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function _A(e,n){switch(e){case"compositionend":return va(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return e=n.data,e===Yn&&Xn?null:e;default:return null}}function yA(e,n){if(Ea)return e==="compositionend"||!jt&&Ir(e,n)?(e=Ho(),Sr=Bo=vi=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var vA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!vA[e.type]:n==="textarea"}function Mg(e,n,a,o){Ts?yi?yi.push(o):yi=[o]:Ts=o,n=wc(n,"onChange"),0<n.length&&(a=new Ei("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Ko=null,Yo=null;function EA(e){gy(e,0)}function Lu(e){var n=gn(e);if(vr(n))return e}function xg(e,n){if(e==="change")return n}var zg=!1;if(In){var Xh;if(In){var Zh="oninput"in document;if(!Zh){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),Zh=typeof Ug.oninput=="function"}Xh=Zh}else Xh=!1;zg=Xh&&(!document.documentMode||9<document.documentMode)}function Lg(){Ko&&(Ko.detachEvent("onpropertychange",Pg),Yo=Ko=null)}function Pg(e){if(e.propertyName==="value"&&Lu(Yo)){var n=[];Mg(n,Yo,e,Rn(e)),As(EA,n)}}function TA(e,n,a){e==="focusin"?(Lg(),Ko=n,Yo=a,Ko.attachEvent("onpropertychange",Pg)):e==="focusout"&&Lg()}function AA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lu(Yo)}function SA(e,n){if(e==="click")return Lu(n)}function bA(e,n){if(e==="input"||e==="change")return Lu(n)}function wA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:wA;function Xo(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qg(e,n){var a=kg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kg(a)}}function jg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=_i(e.document)}return n}function Jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var RA=In&&"documentMode"in document&&11>=document.documentMode,Ta=null,$h=null,Zo=null,Wh=!1;function Hg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||Ta==null||Ta!==_i(o)||(o=Ta,"selectionStart"in o&&Jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zo&&Xo(Zo,o)||(Zo=o,o=wc($h,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Ta)))}function Cr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Aa={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},tf={},Fg={};In&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Dr(e){if(tf[e])return tf[e];if(!Aa[e])return e;var n=Aa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Fg)return tf[e]=n[a];return e}var Qg=Dr("animationend"),Gg=Dr("animationiteration"),Kg=Dr("animationstart"),IA=Dr("transitionrun"),CA=Dr("transitionstart"),DA=Dr("transitioncancel"),Yg=Dr("transitionend"),Xg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Zn(e,n){Xg.set(e,n),gi(n,[e])}var Pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],Sa=0,nf=0;function ku(){for(var e=Sa,n=nf=Sa=0;n<e;){var a=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Zg(a,h,f)}}function qu(e,n,a,o){Dn[Sa++]=e,Dn[Sa++]=n,Dn[Sa++]=a,Dn[Sa++]=o,nf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function sf(e,n,a,o){return qu(e,n,a,o),ju(e)}function Nr(e,n){return qu(e,null,null,n),ju(e)}function Zg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function ju(e){if(50<yl)throw yl=0,dd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ba={};function NA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,a,o){return new NA(e,n,a,o)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,n){var a=e.alternate;return a===null?(a=yn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Jg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Bu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")rf(e)&&(p=1);else if(typeof e=="string")p=zS(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=yn(31,a,n,h),e.elementType=w,e.lanes=f,e;case tt:return Or(a.children,h,f,n);case J:p=8,h|=24;break;case et:return e=yn(12,a,n,h|2),e.elementType=et,e.lanes=f,e;case Ft:return e=yn(13,a,n,h),e.elementType=Ft,e.lanes=f,e;case Mt:return e=yn(19,a,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:p=10;break t;case pt:p=9;break t;case Pt:p=11;break t;case C:p=14;break t;case S:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=yn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Or(e,n,a,o){return e=yn(7,e,o,n),e.lanes=a,e}function af(e,n,a){return e=yn(6,e,null,n),e.lanes=a,e}function $g(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function of(e,n,a){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Wg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var a=Wg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Io(n)},Wg.set(e,n),n)}return{value:e,source:n,stack:Io(n)}}var wa=[],Ra=0,Hu=null,Jo=0,On=[],Vn=0,Rs=null,bi=1,wi="";function Bi(e,n){wa[Ra++]=Jo,wa[Ra++]=Hu,Hu=e,Jo=n}function tp(e,n,a){On[Vn++]=bi,On[Vn++]=wi,On[Vn++]=Rs,Rs=e;var o=bi;e=wi;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,bi=1<<32-fe(n)+h|a<<h|o,wi=f+e}else bi=1<<f|a<<h|o,wi=e}function lf(e){e.return!==null&&(Bi(e,1),tp(e,1,0))}function uf(e){for(;e===Hu;)Hu=wa[--Ra],wa[Ra]=null,Jo=wa[--Ra],wa[Ra]=null;for(;e===Rs;)Rs=On[--Vn],On[Vn]=null,wi=On[--Vn],On[Vn]=null,bi=On[--Vn],On[Vn]=null}function ep(e,n){On[Vn++]=bi,On[Vn++]=wi,On[Vn++]=Rs,bi=n.id,wi=n.overflow,Rs=e}var Be=null,ne=null,xt=!1,Is=null,Mn=!1,cf=Error(r(519));function Cs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(Nn(n,e)),cf}function np(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[ze]=o,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<El.length;a++)It(El[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),vs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||vy(n.textContent,a)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||Cs(e,!0)}function ip(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Be=Be.return}}function Ia(e){if(e!==Be)return!1;if(!xt)return ip(e),xt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cd(e.type,e.memoizedProps)),a=!a),a&&ne&&Cs(e),ip(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=Cy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=Cy(e)}else n===27?(n=ne,Bs(e.type)?(e=Md,Md=null,ne=e):ne=n):ne=Be?zn(e.stateNode.nextSibling):null;return!0}function Vr(){ne=Be=null,xt=!1}function hf(){var e=Is;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Is=null),e}function $o(e){Is===null?Is=[e]:Is.push(e)}var ff=M(null),Mr=null,Hi=null;function Ds(e,n,a){it(ff,n._currentValue),n._currentValue=a}function Fi(e){e._currentValue=ff.current,Y(ff)}function df(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function mf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),df(f.return,a,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),df(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ca(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;_n(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===zt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}h=h.return}e!==null&&mf(n,e,a,o),n.flags|=262144}function Fu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xr(e){Mr=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return sp(Mr,e)}function Qu(e,n){return Mr===null&&xr(e),sp(e,n)}function sp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Hi===null){if(e===null)throw Error(r(308));Hi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hi=Hi.next=n;return a}var OA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},VA=s.unstable_scheduleCallback,MA=s.unstable_NormalPriority,Ae={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new OA,data:new Map,refCount:0}}function Wo(e){e.refCount--,e.refCount===0&&VA(MA,function(){e.controller.abort()})}var tl=null,pf=0,Da=0,Na=null;function xA(e,n){if(tl===null){var a=tl=[];pf=0,Da=vd(),Na={status:"pending",value:void 0,then:function(o){a.push(o)}}}return pf++,n.then(rp,rp),n}function rp(){if(--pf===0&&tl!==null){Na!==null&&(Na.status="fulfilled");var e=tl;tl=null,Da=0,Na=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function zA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ap=Q.S;Q.S=function(e,n){H_=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&xA(e,n),ap!==null&&ap(e,n)};var zr=M(null);function _f(){var e=zr.current;return e!==null?e:te.pooledCache}function Gu(e,n){n===null?it(zr,zr.current):it(zr,n.pool)}function op(){var e=_f();return e===null?null:{parent:Ae._currentValue,pool:e}}var Oa=Error(r(460)),yf=Error(r(474)),Ku=Error(r(542)),Yu={then:function(){}};function lp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function up(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Qn,Qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hp(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hp(e),e}throw Lr=n,Oa}}function Ur(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Lr=a,Oa):a}}var Lr=null;function cp(){if(Lr===null)throw Error(r(459));var e=Lr;return Lr=null,e}function hp(e){if(e===Oa||e===Ku)throw Error(r(483))}var Va=null,el=0;function Xu(e){var n=el;return el+=1,Va===null&&(Va=[]),up(Va,e,n)}function nl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Zu(e,n){throw n.$$typeof===O?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function fp(e){function n(x,N){if(e){var P=x.deletions;P===null?(x.deletions=[N],x.flags|=16):P.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=ji(x,N),x.index=0,x.sibling=null,x}function f(x,N,P){return x.index=P,e?(P=x.alternate,P!==null?(P=P.index,P<N?(x.flags|=67108866,N):P):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function p(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,P,G){return N===null||N.tag!==6?(N=af(P,x.mode,G),N.return=x,N):(N=h(N,P),N.return=x,N)}function I(x,N,P,G){var ut=P.type;return ut===tt?F(x,N,P.props.children,G,P.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Ur(ut)===N.type)?(N=h(N,P.props),nl(N,P),N.return=x,N):(N=Bu(P.type,P.key,P.props,null,x.mode,G),nl(N,P),N.return=x,N)}function k(x,N,P,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=of(P,x.mode,G),N.return=x,N):(N=h(N,P.children||[]),N.return=x,N)}function F(x,N,P,G,ut){return N===null||N.tag!==7?(N=Or(P,x.mode,G,ut),N.return=x,N):(N=h(N,P),N.return=x,N)}function K(x,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=af(""+N,x.mode,P),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return P=Bu(N.type,N.key,N.props,null,x.mode,P),nl(P,N),P.return=x,P;case $:return N=of(N,x.mode,P),N.return=x,N;case S:return N=Ur(N),K(x,N,P)}if(Ne(N)||z(N))return N=Or(N,x.mode,P,null),N.return=x,N;if(typeof N.then=="function")return K(x,Xu(N),P);if(N.$$typeof===ht)return K(x,Qu(x,N),P);Zu(x,N)}return null}function q(x,N,P,G){var ut=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(x,N,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ut?I(x,N,P,G):null;case $:return P.key===ut?k(x,N,P,G):null;case S:return P=Ur(P),q(x,N,P,G)}if(Ne(P)||z(P))return ut!==null?null:F(x,N,P,G,null);if(typeof P.then=="function")return q(x,N,Xu(P),G);if(P.$$typeof===ht)return q(x,N,Qu(x,P),G);Zu(x,P)}return null}function B(x,N,P,G,ut){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(P)||null,E(N,x,""+G,ut);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case H:return x=x.get(G.key===null?P:G.key)||null,I(N,x,G,ut);case $:return x=x.get(G.key===null?P:G.key)||null,k(N,x,G,ut);case S:return G=Ur(G),B(x,N,P,G,ut)}if(Ne(G)||z(G))return x=x.get(P)||null,F(N,x,G,ut,null);if(typeof G.then=="function")return B(x,N,P,Xu(G),ut);if(G.$$typeof===ht)return B(x,N,P,Qu(N,G),ut);Zu(N,G)}return null}function ot(x,N,P,G){for(var ut=null,kt=null,lt=N,bt=N=0,Dt=null;lt!==null&&bt<P.length;bt++){lt.index>bt?(Dt=lt,lt=null):Dt=lt.sibling;var qt=q(x,lt,P[bt],G);if(qt===null){lt===null&&(lt=Dt);break}e&&lt&&qt.alternate===null&&n(x,lt),N=f(qt,N,bt),kt===null?ut=qt:kt.sibling=qt,kt=qt,lt=Dt}if(bt===P.length)return a(x,lt),xt&&Bi(x,bt),ut;if(lt===null){for(;bt<P.length;bt++)lt=K(x,P[bt],G),lt!==null&&(N=f(lt,N,bt),kt===null?ut=lt:kt.sibling=lt,kt=lt);return xt&&Bi(x,bt),ut}for(lt=o(lt);bt<P.length;bt++)Dt=B(lt,x,bt,P[bt],G),Dt!==null&&(e&&Dt.alternate!==null&&lt.delete(Dt.key===null?bt:Dt.key),N=f(Dt,N,bt),kt===null?ut=Dt:kt.sibling=Dt,kt=Dt);return e&&lt.forEach(function(Ks){return n(x,Ks)}),xt&&Bi(x,bt),ut}function dt(x,N,P,G){if(P==null)throw Error(r(151));for(var ut=null,kt=null,lt=N,bt=N=0,Dt=null,qt=P.next();lt!==null&&!qt.done;bt++,qt=P.next()){lt.index>bt?(Dt=lt,lt=null):Dt=lt.sibling;var Ks=q(x,lt,qt.value,G);if(Ks===null){lt===null&&(lt=Dt);break}e&&lt&&Ks.alternate===null&&n(x,lt),N=f(Ks,N,bt),kt===null?ut=Ks:kt.sibling=Ks,kt=Ks,lt=Dt}if(qt.done)return a(x,lt),xt&&Bi(x,bt),ut;if(lt===null){for(;!qt.done;bt++,qt=P.next())qt=K(x,qt.value,G),qt!==null&&(N=f(qt,N,bt),kt===null?ut=qt:kt.sibling=qt,kt=qt);return xt&&Bi(x,bt),ut}for(lt=o(lt);!qt.done;bt++,qt=P.next())qt=B(lt,x,bt,qt.value,G),qt!==null&&(e&&qt.alternate!==null&&lt.delete(qt.key===null?bt:qt.key),N=f(qt,N,bt),kt===null?ut=qt:kt.sibling=qt,kt=qt);return e&&lt.forEach(function(GS){return n(x,GS)}),xt&&Bi(x,bt),ut}function $t(x,N,P,G){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ut=P.key;N!==null;){if(N.key===ut){if(ut=P.type,ut===tt){if(N.tag===7){a(x,N.sibling),G=h(N,P.props.children),G.return=x,x=G;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Ur(ut)===N.type){a(x,N.sibling),G=h(N,P.props),nl(G,P),G.return=x,x=G;break t}a(x,N);break}else n(x,N);N=N.sibling}P.type===tt?(G=Or(P.props.children,x.mode,G,P.key),G.return=x,x=G):(G=Bu(P.type,P.key,P.props,null,x.mode,G),nl(G,P),G.return=x,x=G)}return p(x);case $:t:{for(ut=P.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(x,N.sibling),G=h(N,P.children||[]),G.return=x,x=G;break t}else{a(x,N);break}else n(x,N);N=N.sibling}G=of(P,x.mode,G),G.return=x,x=G}return p(x);case S:return P=Ur(P),$t(x,N,P,G)}if(Ne(P))return ot(x,N,P,G);if(z(P)){if(ut=z(P),typeof ut!="function")throw Error(r(150));return P=ut.call(P),dt(x,N,P,G)}if(typeof P.then=="function")return $t(x,N,Xu(P),G);if(P.$$typeof===ht)return $t(x,N,Qu(x,P),G);Zu(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(x,N.sibling),G=h(N,P),G.return=x,x=G):(a(x,N),G=af(P,x.mode,G),G.return=x,x=G),p(x)):a(x,N)}return function(x,N,P,G){try{el=0;var ut=$t(x,N,P,G);return Va=null,ut}catch(lt){if(lt===Oa||lt===Ku)throw lt;var kt=yn(29,lt,null,x.mode);return kt.lanes=G,kt.return=x,kt}finally{}}}var Pr=fp(!0),dp=fp(!1),Ns=!1;function vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ju(e),Zg(e,null,a),n}return qu(e,o,n,a),ju(e)}function il(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,No(e,a)}}function Tf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Af=!1;function sl(){if(Af){var e=Na;if(e!==null)throw e}}function rl(e,n,a,o){Af=!1;var h=e.updateQueue;Ns=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,k=I.next;I.next=null,p===null?f=k:p.next=k,p=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=k:E.next=k,F.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;p=0,F=k=I=null,E=f;do{var q=E.lane&-536870913,B=q!==E.lane;if(B?(Ct&q)===q:(o&q)===q){q!==0&&q===Da&&(Af=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,dt=E;q=n;var $t=a;switch(dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){K=ot.call($t,K,q);break t}K=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,q=typeof ot=="function"?ot.call($t,K,q):ot,q==null)break t;K=b({},K,q);break t;case 2:Ns=!0}}q=E.callback,q!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[q]:B.push(q))}else B={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(k=F=B,I=K):F=F.next=B,p|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(I=K),h.baseState=I,h.firstBaseUpdate=k,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ls|=p,e.lanes=p,e.memoizedState=K}}function mp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function gp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)mp(a[e],n)}var Ma=M(null),Ju=M(0);function pp(e,n){e=Wi,it(Ju,e),it(Ma,n),Wi=e|n.baseLanes}function Sf(){it(Ju,Wi),it(Ma,Ma.current)}function bf(){Wi=Ju.current,Y(Ma),Y(Ju)}var vn=M(null),xn=null;function Ms(e){var n=e.alternate;it(me,me.current&1),it(vn,e),xn===null&&(n===null||Ma.current!==null||n.memoizedState!==null)&&(xn=e)}function wf(e){it(me,me.current),it(vn,e),xn===null&&(xn=e)}function _p(e){e.tag===22?(it(me,me.current),it(vn,e),xn===null&&(xn=e)):xs()}function xs(){it(me,me.current),it(vn,vn.current)}function En(e){Y(vn),xn===e&&(xn=null),Y(me)}var me=M(0);function $u(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Od(a)||Vd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,At=null,Zt=null,Se=null,Wu=!1,xa=!1,kr=!1,tc=0,al=0,za=null,UA=0;function ce(){throw Error(r(321))}function Rf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!_n(e[a],n[a]))return!1;return!0}function If(e,n,a,o,h,f){return Qi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?t_:Bf,kr=!1,f=a(o,h),kr=!1,xa&&(f=vp(n,a,o,h)),yp(e),f}function yp(e){Q.H=ul;var n=Zt!==null&&Zt.next!==null;if(Qi=0,Se=Zt=At=null,Wu=!1,al=0,za=null,n)throw Error(r(300));e===null||be||(e=e.dependencies,e!==null&&Fu(e)&&(be=!0))}function vp(e,n,a,o){At=e;var h=0;do{if(xa&&(za=null),al=0,xa=!1,25<=h)throw Error(r(301));if(h+=1,Se=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=e_,f=n(a,o)}while(xa);return f}function LA(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?ol(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(At.flags|=1024),n}function Cf(){var e=tc!==0;return tc=0,e}function Df(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Nf(e){if(Wu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Wu=!1}Qi=0,Se=Zt=At=null,xa=!1,al=tc=0,za=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function ge(){if(Zt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,Zt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var n=al;return al+=1,za===null&&(za=[]),e=up(za,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?t_:Bf),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===ht)return He(e)}throw Error(r(438,String(e)))}function Of(e){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ec(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function Gi(e,n){return typeof n=="function"?n(e):n}function ic(e){var n=ge();return Vf(n,Zt,e)}function Vf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,k=n,F=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(Ct&K)===K:(Qi&K)===K){var q=k.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===Da&&(F=!0);else if((Qi&q)===q){k=k.next,q===Da&&(F=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},I===null?(E=I=K,p=f):I=I.next=K,At.lanes|=q,Ls|=q;K=k.action,kr&&a(f,K),f=k.hasEagerState?k.eagerState:a(f,K)}else q={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},I===null?(E=I=q,p=f):I=I.next=q,At.lanes|=K,Ls|=K;k=k.next}while(k!==null&&k!==n);if(I===null?p=f:I.next=E,!_n(f,e.memoizedState)&&(be=!0,F&&(a=Na,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Mf(e){var n=ge(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);_n(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Ep(e,n,a){var o=At,h=ge(),f=xt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!_n((Zt||h).memoizedState,a);if(p&&(h.memoizedState=a,be=!0),h=h.queue,Uf(Sp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Ua(9,{destroy:void 0},Ap.bind(null,o,h,a,n),null),te===null)throw Error(r(349));f||(Qi&127)!==0||Tp(o,n,a)}return a}function Tp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=ec(),At.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ap(e,n,a,o){n.value=a,n.getSnapshot=o,bp(n)&&wp(e)}function Sp(e,n,a){return a(function(){bp(n)&&wp(e)})}function bp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!_n(e,a)}catch{return!0}}function wp(e){var n=Nr(e,2);n!==null&&fn(n,e,2)}function xf(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),kr){bn(!0);try{a()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},n}function Rp(e,n,a,o){return e.baseState=a,Vf(e,Zt,typeof o=="function"?o:Gi)}function PA(e,n,a,o,h){if(ac(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};Q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ip(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ip(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=Q.T,p={};Q.T=p;try{var E=a(h,o),I=Q.S;I!==null&&I(p,E),Cp(e,n,E)}catch(k){zf(e,n,k)}finally{f!==null&&p.types!==null&&(f.types=p.types),Q.T=f}}else try{f=a(h,o),Cp(e,n,f)}catch(k){zf(e,n,k)}}function Cp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Dp(e,n,o)},function(o){return zf(e,n,o)}):Dp(e,n,a)}function Dp(e,n,a){n.status="fulfilled",n.value=a,Np(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ip(e,a)))}function zf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Np(n),n=n.next;while(n!==o)}e.action=null}function Np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Op(e,n){return n}function Vp(e,n){if(xt){var a=te.formState;if(a!==null){t:{var o=At;if(xt){if(ne){e:{for(var h=ne,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=zn(h.nextSibling),o=h.data==="F!";break t}}Cs(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:n},a.queue=o,a=Jp.bind(null,At,o),o.dispatch=a,o=xf(!1),f=jf.bind(null,At,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=PA.bind(null,At,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Mp(e){var n=ge();return xp(n,Zt,e)}function xp(e,n,a){if(n=Vf(e,n,Op)[0],e=ic(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ol(n)}catch(p){throw p===Oa?Ku:p}else o=n;n=ge();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(At.flags|=2048,Ua(9,{destroy:void 0},kA.bind(null,h,a),null)),[o,f,e]}function kA(e,n){e.action=n}function zp(e){var n=ge(),a=Zt;if(a!==null)return xp(n,a,e);ge(),n=n.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ua(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=ec(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Up(){return ge().memoizedState}function sc(e,n,a,o){var h=nn();At.flags|=e,h.memoizedState=Ua(1|n,{destroy:void 0},a,o===void 0?null:o)}function rc(e,n,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&Rf(o,Zt.memoizedState.deps)?h.memoizedState=Ua(n,f,a,o):(At.flags|=e,h.memoizedState=Ua(1|n,f,a,o))}function Lp(e,n){sc(8390656,8,e,n)}function Uf(e,n){rc(2048,8,e,n)}function qA(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=ec(),At.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Pp(e){var n=ge().memoizedState;return qA({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function kp(e,n){return rc(4,2,e,n)}function qp(e,n){return rc(4,4,e,n)}function jp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bp(e,n,a){a=a!=null?a.concat([e]):null,rc(4,4,jp.bind(null,n,e),a)}function Lf(){}function Hp(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Rf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Fp(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Rf(n,o[1]))return o[0];if(o=e(),kr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o}function Pf(e,n,a){return a===void 0||(Qi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Q_(),At.lanes|=e,Ls|=e,a)}function Qp(e,n,a,o){return _n(a,n)?a:Ma.current!==null?(e=Pf(e,a,o),_n(e,n)||(be=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Ct&261930)===0?(be=!0,e.memoizedState=a):(e=Q_(),At.lanes|=e,Ls|=e,n)}function Gp(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=Q.T,E={};Q.T=E,jf(e,!1,n,a);try{var I=h(),k=Q.S;if(k!==null&&k(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=zA(I,o);ll(e,n,F,Sn(e))}else ll(e,n,o,Sn(e))}catch(K){ll(e,n,{then:function(){},status:"rejected",reason:K},Sn())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),Q.T=p}}function jA(){}function kf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Kp(e).queue;Gp(e,h,n,ft,a===null?jA:function(){return Yp(e),a(o)})}function Kp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yp(e){var n=Kp(e);n.next===null&&(n=e.alternate.memoizedState),ll(e,n.next.queue,{},Sn())}function qf(){return He(wl)}function Xp(){return ge().memoizedState}function Zp(){return ge().memoizedState}function BA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Sn();e=Os(a);var o=Vs(n,e,a);o!==null&&(fn(o,n,a),il(o,n,a)),n={cache:gf()},e.payload=n;return}n=n.return}}function HA(e,n,a){var o=Sn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(e)?$p(n,a):(a=sf(e,n,a,o),a!==null&&(fn(a,e,o),Wp(a,n,o)))}function Jp(e,n,a){var o=Sn();ll(e,n,a,o)}function ll(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(e))$p(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,p))return qu(e,n,h,0),te===null&&ku(),!1}catch{}finally{}if(a=sf(e,n,h,o),a!==null)return fn(a,e,o),Wp(a,n,o),!0}return!1}function jf(e,n,a,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(e)){if(n)throw Error(r(479))}else n=sf(e,a,o,2),n!==null&&fn(n,e,2)}function ac(e){var n=e.alternate;return e===At||n!==null&&n===At}function $p(e,n){xa=Wu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Wp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,No(e,a)}}var ul={readContext:He,use:nc,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};ul.useEffectEvent=ce;var t_={readContext:He,use:nc,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Lp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,sc(4194308,4,jp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return sc(4194308,4,e,n)},useInsertionEffect:function(e,n){sc(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(kr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(kr){bn(!0);try{a(n)}finally{bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=HA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=xf(e);var n=e.queue,a=Jp.bind(null,At,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(e,n){var a=nn();return Pf(a,e,n)},useTransition:function(){var e=xf(!1);return e=Gp.bind(null,At,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=At,h=nn();if(xt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),te===null)throw Error(r(349));(Ct&127)!==0||Tp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Lp(Sp.bind(null,o,f,e),[e]),o.flags|=2048,Ua(9,{destroy:void 0},Ap.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=te.identifierPrefix;if(xt){var a=wi,o=bi;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=tc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=UA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:qf,useFormState:Vp,useActionState:Vp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=jf.bind(null,At,!0,a),a.dispatch=n,[e,n]},useMemoCache:Of,useCacheRefresh:function(){return nn().memoizedState=BA.bind(null,At)},useEffectEvent:function(e){var n=nn(),a={impl:e};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Bf={readContext:He,use:nc,useCallback:Hp,useContext:He,useEffect:Uf,useImperativeHandle:Bp,useInsertionEffect:kp,useLayoutEffect:qp,useMemo:Fp,useReducer:ic,useRef:Up,useState:function(){return ic(Gi)},useDebugValue:Lf,useDeferredValue:function(e,n){var a=ge();return Qp(a,Zt.memoizedState,e,n)},useTransition:function(){var e=ic(Gi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:ol(e),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:qf,useFormState:Mp,useActionState:Mp,useOptimistic:function(e,n){var a=ge();return Rp(a,Zt,e,n)},useMemoCache:Of,useCacheRefresh:Zp};Bf.useEffectEvent=Pp;var e_={readContext:He,use:nc,useCallback:Hp,useContext:He,useEffect:Uf,useImperativeHandle:Bp,useInsertionEffect:kp,useLayoutEffect:qp,useMemo:Fp,useReducer:Mf,useRef:Up,useState:function(){return Mf(Gi)},useDebugValue:Lf,useDeferredValue:function(e,n){var a=ge();return Zt===null?Pf(a,e,n):Qp(a,Zt.memoizedState,e,n)},useTransition:function(){var e=Mf(Gi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:ol(e),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:qf,useFormState:zp,useActionState:zp,useOptimistic:function(e,n){var a=ge();return Zt!==null?Rp(a,Zt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Of,useCacheRefresh:Zp};e_.useEffectEvent=Pp;function Hf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ff={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Sn(),h=Os(o);h.payload=n,a!=null&&(h.callback=a),n=Vs(e,h,o),n!==null&&(fn(n,e,o),il(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Sn(),h=Os(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Vs(e,h,o),n!==null&&(fn(n,e,o),il(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Sn(),o=Os(a);o.tag=2,n!=null&&(o.callback=n),n=Vs(e,o,a),n!==null&&(fn(n,e,a),il(n,e,a))}};function n_(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Xo(a,o)||!Xo(h,f):!0}function i_(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Ff.enqueueReplaceState(n,n.state,null)}function qr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function s_(e){Pu(e)}function r_(e){console.error(e)}function a_(e){Pu(e)}function oc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function o_(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qf(e,n,a){return a=Os(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(e,n)},a}function l_(e){return e=Os(e),e.tag=3,e}function u_(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){o_(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){o_(n,a,o),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function FA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ca(n,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?vc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Yu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),pd(e,o,h)),!1;case 22:return a.flags|=65536,o===Yu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),pd(e,o,h)),!1}throw Error(r(435,a.tag))}return pd(e,o,h),vc(),!1}if(xt)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==cf&&(e=Error(r(422),{cause:o}),$o(Nn(e,a)))):(o!==cf&&(n=Error(r(423),{cause:o}),$o(Nn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,a),h=Qf(e.stateNode,o,h),Tf(e,h),he!==4&&(he=2)),!1;var f=Error(r(520),{cause:o});if(f=Nn(f,a),_l===null?_l=[f]:_l.push(f),he!==4&&(he=2),n===null)return!0;o=Nn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Qf(a.stateNode,o,e),Tf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=l_(h),u_(h,e,a,o),Tf(a,h),!1}a=a.return}while(a!==null);return!1}var Gf=Error(r(461)),be=!1;function Fe(e,n,a,o){n.child=e===null?dp(n,null,a,o):Pr(n,e.child,a,o)}function c_(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return xr(n),o=If(e,n,a,p,f,h),E=Cf(),e!==null&&!be?(Df(e,n,h),Ki(e,n,h)):(xt&&E&&lf(n),n.flags|=1,Fe(e,n,o,h),n.child)}function h_(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,f_(e,n,f,o,h)):(e=Bu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!td(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(p,o)&&e.ref===n.ref)return Ki(e,n,h)}return n.flags|=1,e=ji(f,o),e.ref=n.ref,e.return=n,n.child=e}function f_(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Xo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,td(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Ki(e,n,h)}return Kf(e,n,a,o,h)}function d_(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return m_(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gu(n,f!==null?f.cachePool:null),f!==null?pp(n,f):Sf(),_p(n);else return o=n.lanes=536870912,m_(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Gu(n,f.cachePool),pp(n,f),xs(),n.memoizedState=null):(e!==null&&Gu(n,null),Sf(),xs());return Fe(e,n,h,a),n.child}function cl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function m_(e,n,a,o,h){var f=_f();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Gu(n,null),Sf(),_p(n),e!==null&&Ca(e,n,o,!0),n.childLanes=h,null}function lc(e,n){return n=cc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function g_(e,n,a){return Pr(n,e.child,null,a),e=lc(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function QA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(xt){if(o.mode==="hidden")return e=lc(n,o),n.lanes=536870912,cl(null,e);if(wf(n),(e=ne)?(e=Iy(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=$g(e),a.return=n,n.child=a,Be=n,ne=null)):e=null,e===null)throw Cs(n);return n.lanes=536870912,null}return lc(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=g_(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||Ca(e,n,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=te,o!==null&&(p=Oo(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Nr(e,p),fn(o,e,p),Gf;vc(),n=g_(e,n,a)}else e=f.treeContext,ne=zn(p.nextSibling),Be=n,xt=!0,Is=null,Mn=!1,e!==null&&ep(n,e),n=lc(n,o),n.flags|=4096;return n}return e=ji(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function uc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Kf(e,n,a,o,h){return xr(n),a=If(e,n,a,o,void 0,h),o=Cf(),e!==null&&!be?(Df(e,n,h),Ki(e,n,h)):(xt&&o&&lf(n),n.flags|=1,Fe(e,n,a,h),n.child)}function p_(e,n,a,o,h,f){return xr(n),n.updateQueue=null,a=vp(n,o,a,h),yp(e),o=Cf(),e!==null&&!be?(Df(e,n,f),Ki(e,n,f)):(xt&&o&&lf(n),n.flags|=1,Fe(e,n,a,f),n.child)}function __(e,n,a,o,h){if(xr(n),n.stateNode===null){var f=ba,p=a.contextType;typeof p=="object"&&p!==null&&(f=He(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},vf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?He(p):ba,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Hf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Ff.enqueueReplaceState(f,f.state,null),rl(n,o,f,h),sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=qr(a,E);f.props=I;var k=f.context,F=a.contextType;p=ba,typeof F=="object"&&F!==null&&(p=He(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==p)&&i_(n,f,o,p),Ns=!1;var q=n.memoizedState;f.state=q,rl(n,o,f,h),sl(),k=n.memoizedState,E||q!==k||Ns?(typeof K=="function"&&(Hf(n,a,K,o),k=n.memoizedState),(I=Ns||n_(n,a,I,o,q,k,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ef(e,n),p=n.memoizedProps,F=qr(a,p),f.props=F,K=n.pendingProps,q=f.context,k=a.contextType,I=ba,typeof k=="object"&&k!==null&&(I=He(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||q!==I)&&i_(n,f,o,I),Ns=!1,q=n.memoizedState,f.state=q,rl(n,o,f,h),sl();var B=n.memoizedState;p!==K||q!==B||Ns||e!==null&&e.dependencies!==null&&Fu(e.dependencies)?(typeof E=="function"&&(Hf(n,a,E,o),B=n.memoizedState),(F=Ns||n_(n,a,F,o,q,B,I)||e!==null&&e.dependencies!==null&&Fu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,uc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Pr(n,e.child,null,h),n.child=Pr(n,null,a,h)):Fe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Ki(e,n,h),e}function y_(e,n,a,o){return Vr(),n.flags|=256,Fe(e,n,a,o),n.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(e){return{baseLanes:e,cachePool:op()}}function Zf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=An),e}function v_(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(h?Ms(n):xs(),(e=ne)?(e=Iy(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=$g(e),a.return=n,n.child=a,Be=n,ne=null)):e=null,e===null)throw Cs(n);return Vd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(xs(),h=n.mode,E=cc({mode:"hidden",children:E},h),o=Or(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Xf(a),o.childLanes=Zf(e,p,a),n.memoizedState=Yf,cl(null,o)):(Ms(n),Jf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ms(n),n.flags&=-257,n=$f(e,n,a)):n.memoizedState!==null?(xs(),n.child=e.child,n.flags|=128,n=null):(xs(),E=o.fallback,h=n.mode,o=cc({mode:"visible",children:o.children},h),E=Or(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Pr(n,e.child,null,a),o=n.child,o.memoizedState=Xf(a),o.childLanes=Zf(e,p,a),n.memoizedState=Yf,n=cl(null,o));else if(Ms(n),Vd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var k=p.dgst;p=k,o=Error(r(419)),o.stack="",o.digest=p,$o({value:o,source:null,stack:null}),n=$f(e,n,a)}else if(be||Ca(e,n,a,!1),p=(a&e.childLanes)!==0,be||p){if(p=te,p!==null&&(o=Oo(p,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Nr(e,o),fn(p,e,o),Gf;Od(E)||vc(),n=$f(e,n,a)}else Od(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=zn(E.nextSibling),Be=n,xt=!0,Is=null,Mn=!1,e!==null&&ep(n,e),n=Jf(n,o.children),n.flags|=4096);return n}return h?(xs(),E=o.fallback,h=n.mode,I=e.child,k=I.sibling,o=ji(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,k!==null?E=ji(k,E):(E=Or(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,cl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Xf(a):(h=E.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=op(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Zf(e,p,a),n.memoizedState=Yf,cl(e.child,o)):(Ms(n),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function Jf(e,n){return n=cc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function cc(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function $f(e,n,a){return Pr(n,e.child,null,a),e=Jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function E_(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),df(e.return,n,a)}function Wf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function T_(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,it(me,p),Fe(e,n,o,a),o=xt?Jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&E_(e,a,n);else if(e.tag===19)E_(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&$u(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Wf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&$u(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Wf(n,!0,a,null,f,o);break;case"together":Wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ki(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ls|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ca(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=ji(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function td(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fu(e)))}function GA(e,n,a){switch(n.tag){case 3:Oe(n,n.stateNode.containerInfo),Ds(n,Ae,e.memoizedState.cache),Vr();break;case 27:case 5:fr(n);break;case 4:Oe(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ms(n),n.flags|=128,null):(a&n.child.childLanes)!==0?v_(e,n,a):(Ms(n),e=Ki(e,n,a),e!==null?e.sibling:null);Ms(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ca(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return T_(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(me,me.current),o)break;return null;case 22:return n.lanes=0,d_(e,n,a,n.pendingProps);case 24:Ds(n,Ae,e.memoizedState.cache)}return Ki(e,n,a)}function A_(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!td(e,a)&&(n.flags&128)===0)return be=!1,GA(e,n,a);be=(e.flags&131072)!==0}else be=!1,xt&&(n.flags&1048576)!==0&&tp(n,Jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ur(n.elementType),n.type=e,typeof e=="function")rf(e)?(o=qr(e,o),n.tag=1,n=__(null,n,e,o,a)):(n.tag=0,n=Kf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Pt){n.tag=11,n=c_(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=h_(null,n,e,o,a);break t}}throw n=re(e)||e,Error(r(306,n,""))}}return n;case 0:return Kf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=qr(o,n.pendingProps),__(e,n,o,h,a);case 3:t:{if(Oe(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ef(e,n),rl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Ds(n,Ae,o),o!==f.cache&&mf(n,[Ae],a,!0),sl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=y_(e,n,o,a);break t}else if(o!==h){h=Nn(Error(r(424)),n),$o(h),n=y_(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=zn(e.firstChild),Be=n,xt=!0,Is=null,Mn=!0,a=dp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vr(),o===h){n=Ki(e,n,a);break t}Fe(e,n,o,a)}n=n.child}return n;case 26:return uc(e,n),e===null?(a=My(n.type,null,n.pendingProps,null))?n.memoizedState=a:xt||(a=n.type,e=n.pendingProps,o=Rc(St.current).createElement(a),o[ve]=n,o[ze]=e,Qe(o,a,e),Ee(o),n.stateNode=o):n.memoizedState=My(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return fr(n),e===null&&xt&&(o=n.stateNode=Ny(n.type,n.pendingProps,St.current),Be=n,Mn=!0,h=ne,Bs(n.type)?(Md=h,ne=zn(o.firstChild)):ne=h),Fe(e,n,n.pendingProps.children,a),uc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xt&&((h=o=ne)&&(o=AS(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,Be=n,ne=zn(o.firstChild),Mn=!1,h=!0):h=!1),h||Cs(n)),fr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Cd(h,f)?o=null:p!==null&&Cd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=If(e,n,LA,null,null,a),wl._currentValue=h),uc(e,n),Fe(e,n,o,a),n.child;case 6:return e===null&&xt&&((e=a=ne)&&(a=SS(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,Be=n,ne=null,e=!0):e=!1),e||Cs(n)),null;case 13:return v_(e,n,a);case 4:return Oe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Pr(n,null,o,a):Fe(e,n,o,a),n.child;case 11:return c_(e,n,n.type,n.pendingProps,a);case 7:return Fe(e,n,n.pendingProps,a),n.child;case 8:return Fe(e,n,n.pendingProps.children,a),n.child;case 12:return Fe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),Fe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,xr(n),h=He(h),o=o(h),n.flags|=1,Fe(e,n,o,a),n.child;case 14:return h_(e,n,n.type,n.pendingProps,a);case 15:return f_(e,n,n.type,n.pendingProps,a);case 19:return T_(e,n,a);case 31:return QA(e,n,a);case 22:return d_(e,n,a,n.pendingProps);case 24:return xr(n),o=He(Ae),e===null?(h=_f(),h===null&&(h=te,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},vf(n),Ds(n,Ae,h)):((e.lanes&a)!==0&&(Ef(e,n),rl(n,null,null,a),sl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,Ae,o)):(o=f.cache,Ds(n,Ae,o),o!==h.cache&&mf(n,[Ae],a,!0))),Fe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Yi(e){e.flags|=4}function ed(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(X_())e.flags|=8192;else throw Lr=Yu,yf}else e.flags&=-16777217}function S_(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Py(n))if(X_())e.flags|=8192;else throw Lr=Yu,yf}function hc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?_u():536870912,e.lanes|=n,qa|=n)}function hl(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function KA(e,n,a){var o=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(Ae),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ia(n)?Yi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hf())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Yi(n),f!==null?(ie(n),S_(n,f)):(ie(n),ed(n,h,null,o,a))):f?f!==e.memoizedState?(Yi(n),ie(n),S_(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Yi(n),ie(n),ed(n,h,e,o,a)),null;case 27:if(ra(n),a=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}e=at.current,Ia(n)?np(n):(e=Ny(h,o,a),n.stateNode=e,Yi(n))}return ie(n),null;case 5:if(ra(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(f=at.current,Ia(n))np(n);else{var p=Rc(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[ze]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Yi(n)}}return ie(n),ed(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=St.current,Ia(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||vy(e.nodeValue,a)),e||Cs(n,!0)}else e=Rc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ie(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ia(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ve]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else a=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ve]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),hc(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&Sd(n.stateNode.containerInfo),ie(n),null;case 10:return Fi(n.type),ie(n),null;case 19:if(Y(me),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)hl(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=$u(e),f!==null){for(n.flags|=128,hl(o,!1),e=f.updateQueue,n.updateQueue=e,hc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Jg(a,e),a=a.sibling;return it(me,me.current&1|2),xt&&Bi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>pc&&(n.flags|=128,h=!0,hl(o,!1),n.lanes=4194304)}else{if(!h)if(e=$u(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,hc(n,e),hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!xt)return ie(n),null}else 2*tn()-o.renderingStartTime>pc&&a!==536870912&&(n.flags|=128,h=!0,hl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=me.current,it(me,h?a&1|2:a&1),xt&&Bi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return En(n),bf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&hc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(zr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Fi(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function YA(e,n){switch(uf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(Ae),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ra(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(r(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(me),null;case 4:return ae(),null;case 10:return Fi(n.type),null;case 22:case 23:return En(n),bf(),e!==null&&Y(zr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(Ae),null;case 25:return null;default:return null}}function b_(e,n){switch(uf(n),n.tag){case 3:Fi(Ae),ae();break;case 26:case 27:case 5:ra(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:Y(me);break;case 10:Fi(n.type);break;case 22:case 23:En(n),bf(),e!==null&&Y(zr);break;case 24:Fi(Ae)}}function fl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function zs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=a,k=E;try{k()}catch(F){Yt(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){Yt(n,n.return,F)}}function w_(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{gp(n,a)}catch(o){Yt(e,e.return,o)}}}function R_(e,n,a){a.props=qr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function dl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,n,h)}}function Ri(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function I_(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function nd(e,n,a){try{var o=e.stateNode;pS(o,e.type,a,n),o[ze]=n}catch(h){Yt(e,e.return,h)}}function C_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bs(e.type)||e.tag===4}function id(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||C_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Qn));else if(o!==4&&(o===27&&Bs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(sd(e,n,a),e=e.sibling;e!==null;)sd(e,n,a),e=e.sibling}function fc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Bs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(fc(e,n,a),e=e.sibling;e!==null;)fc(e,n,a),e=e.sibling}function D_(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qe(n,o,a),n[ve]=e,n[ze]=a}catch(f){Yt(e,e.return,f)}}var Xi=!1,we=!1,rd=!1,N_=typeof WeakSet=="function"?WeakSet:Set,Le=null;function XA(e,n){if(e=e.containerInfo,Rd=Mc,e=Bg(e),Jh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,I=-1,k=0,F=0,K=e,q=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(E=p+h),K!==f||o!==0&&K.nodeType!==3||(I=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(B=K.firstChild)!==null;)q=K,K=B;for(;;){if(K===e)break e;if(q===a&&++k===h&&(E=p),q===f&&++F===o&&(I=p),(B=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=B}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:e,selectionRange:a},Mc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=qr(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Yt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Nd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function O_(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(e,a),o&4&&fl(5,a);break;case 1:if(Ji(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(a,a.return,p)}else{var h=qr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(a,a.return,p)}}o&64&&w_(a),o&512&&dl(a,a.return);break;case 3:if(Ji(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{gp(e,n)}catch(p){Yt(a,a.return,p)}}break;case 27:n===null&&o&4&&D_(a);case 26:case 5:Ji(e,a),n===null&&o&4&&I_(a),o&512&&dl(a,a.return);break;case 12:Ji(e,a);break;case 31:Ji(e,a),o&4&&x_(e,a);break;case 13:Ji(e,a),o&4&&z_(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=sS.bind(null,a),bS(e,a))));break;case 22:if(o=a.memoizedState!==null||Xi,!o){n=n!==null&&n.memoizedState!==null||we,h=Xi;var f=we;Xi=o,(we=n)&&!f?$i(e,a,(a.subtreeFlags&8772)!==0):Ji(e,a),Xi=h,we=f}break;case 30:break;default:Ji(e,a)}}function V_(e){var n=e.alternate;n!==null&&(e.alternate=null,V_(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ca(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,ln=!1;function Zi(e,n,a){for(a=a.child;a!==null;)M_(e,n,a),a=a.sibling}function M_(e,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:we||Ri(a,n),Zi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ri(a,n);var o=le,h=ln;Bs(a.type)&&(le=a.stateNode,ln=!1),Zi(e,n,a),Al(a.stateNode),le=o,ln=h;break;case 5:we||Ri(a,n);case 6:if(o=le,h=ln,le=null,Zi(e,n,a),le=o,ln=h,le!==null)if(ln)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:le!==null&&(ln?(e=le,wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ya(e)):wy(le,a.stateNode));break;case 4:o=le,h=ln,le=a.stateNode.containerInfo,ln=!0,Zi(e,n,a),le=o,ln=h;break;case 0:case 11:case 14:case 15:zs(2,a,n),we||zs(4,a,n),Zi(e,n,a);break;case 1:we||(Ri(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&R_(a,n,o)),Zi(e,n,a);break;case 21:Zi(e,n,a);break;case 22:we=(o=we)||a.memoizedState!==null,Zi(e,n,a),we=o;break;default:Zi(e,n,a)}}function x_(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ya(e)}catch(a){Yt(n,n.return,a)}}}function z_(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ya(e)}catch(a){Yt(n,n.return,a)}}function ZA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new N_),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new N_),n;default:throw Error(r(435,e.tag))}}function dc(e,n){var a=ZA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=rS.bind(null,e,o);o.then(h,h)}})}function un(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Bs(E.type)){le=E.stateNode,ln=!1;break t}break;case 5:le=E.stateNode,ln=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(le===null)throw Error(r(160));M_(f,p,h),le=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)U_(n,e),n=n.sibling}var Jn=null;function U_(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(zs(3,e,e.return),fl(3,e),zs(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(we||a===null||Ri(a,a.return)),o&64&&Xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(un(n,e),cn(e),o&512&&(we||a===null||Ri(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Qe(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var p=Uy("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,a),h.head.appendChild(f);break;case"meta":if(p=Uy("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else Ly(h,e.type,e.stateNode);else e.stateNode=zy(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Ly(h,e.type,e.stateNode):zy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&nd(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(we||a===null||Ri(a,a.return)),a!==null&&o&4&&nd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(we||a===null||Ri(a,a.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(ot){Yt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,nd(e,h,a!==null?a.memoizedProps:h)),o&1024&&(rd=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Yt(e,e.return,ot)}}break;case 3:if(Dc=null,h=Jn,Jn=Ic(n.containerInfo),un(n,e),Jn=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ya(n.containerInfo)}catch(ot){Yt(e,e.return,ot)}rd&&(rd=!1,L_(e));break;case 4:o=Jn,Jn=Ic(e.stateNode.containerInfo),un(n,e),cn(e),Jn=o;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,k=Xi,F=we;if(Xi=k||h,we=F||I,un(n,e),we=F,Xi=k,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Xi||we||jr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,q=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ot){Yt(I,I.return,ot)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Yt(I,I.return,ot)}}}else if(n.tag===18){if(a===null){I=n;try{var B=I.stateNode;h?Ry(B,!0):Ry(I.stateNode,!1)}catch(ot){Yt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,dc(e,a))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(C_(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=id(e);fc(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(on(p,""),a.flags&=-33);var E=id(e);fc(e,E,p);break;case 3:case 4:var I=a.stateNode.containerInfo,k=id(e);sd(e,k,I);break;default:throw Error(r(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function L_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;L_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)O_(e,n.alternate,n),n=n.sibling}function jr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),jr(n);break;case 1:Ri(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&R_(n,n.return,a),jr(n);break;case 27:Al(n.stateNode);case 26:case 5:Ri(n,n.return),jr(n);break;case 22:n.memoizedState===null&&jr(n);break;case 30:jr(n);break;default:jr(n)}e=e.sibling}}function $i(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,a),fl(4,f);break;case 1:if($i(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Yt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)mp(I[h],E)}catch(k){Yt(o,o.return,k)}}a&&p&64&&w_(f),dl(f,f.return);break;case 27:D_(f);case 26:case 5:$i(h,f,a),a&&o===null&&p&4&&I_(f),dl(f,f.return);break;case 12:$i(h,f,a);break;case 31:$i(h,f,a),a&&p&4&&x_(h,f);break;case 13:$i(h,f,a),a&&p&4&&z_(h,f);break;case 22:f.memoizedState===null&&$i(h,f,a),dl(f,f.return);break;case 30:break;default:$i(h,f,a)}n=n.sibling}}function ad(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wo(a))}function od(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Wo(e))}function $n(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)P_(e,n,a,o),n=n.sibling}function P_(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,a,o),h&2048&&fl(9,n);break;case 1:$n(e,n,a,o);break;case 3:$n(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Wo(e)));break;case 12:if(h&2048){$n(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else $n(e,n,a,o);break;case 31:$n(e,n,a,o);break;case 13:$n(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,a,o):ml(e,n):f._visibility&2?$n(e,n,a,o):(f._visibility|=2,La(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ad(p,n);break;case 24:$n(e,n,a,o),h&2048&&od(n.alternate,n);break;default:$n(e,n,a,o)}}function La(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=a,I=o,k=p.flags;switch(p.tag){case 0:case 11:case 15:La(f,p,E,I,h),fl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?La(f,p,E,I,h):ml(f,p):(F._visibility|=2,La(f,p,E,I,h)),h&&k&2048&&ad(p.alternate,p);break;case 24:La(f,p,E,I,h),h&&k&2048&&od(p.alternate,p);break;default:La(f,p,E,I,h)}n=n.sibling}}function ml(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:ml(a,o),h&2048&&ad(o.alternate,o);break;case 24:ml(a,o),h&2048&&od(o.alternate,o);break;default:ml(a,o)}n=n.sibling}}var gl=8192;function Pa(e,n,a){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)k_(e,n,a),e=e.sibling}function k_(e,n,a){switch(e.tag){case 26:Pa(e,n,a),e.flags&gl&&e.memoizedState!==null&&US(a,Jn,e.memoizedState,e.memoizedProps);break;case 5:Pa(e,n,a);break;case 3:case 4:var o=Jn;Jn=Ic(e.stateNode.containerInfo),Pa(e,n,a),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=gl,gl=16777216,Pa(e,n,a),gl=o):Pa(e,n,a));break;default:Pa(e,n,a)}}function q_(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function pl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,B_(o,e)}q_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)j_(e),e=e.sibling}function j_(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&zs(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,mc(e)):pl(e);break;default:pl(e)}}function mc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,B_(o,e)}q_(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zs(8,n,n.return),mc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mc(n));break;default:mc(n)}e=e.sibling}}function B_(e,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:zs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(V_(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var JA={getCacheForType:function(e){var n=He(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(Ae).controller.signal}},$A=typeof WeakMap=="function"?WeakMap:Map,Bt=0,te=null,Rt=null,Ct=0,Kt=0,Tn=null,Us=!1,ka=!1,ld=!1,Wi=0,he=0,Ls=0,Br=0,ud=0,An=0,qa=0,_l=null,hn=null,cd=!1,gc=0,H_=0,pc=1/0,_c=null,Ps=null,Me=0,ks=null,ja=null,ts=0,hd=0,fd=null,F_=null,yl=0,dd=null;function Sn(){return(Bt&2)!==0&&Ct!==0?Ct&-Ct:Q.T!==null?vd():yu()}function Q_(){if(An===0)if((Ct&536870912)===0||xt){var e=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),An=e}else An=536870912;return e=vn.current,e!==null&&(e.flags|=32),An}function fn(e,n,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),qs(e,Ct,An,!1)),pr(e,a),((Bt&2)===0||e!==te)&&(e===te&&((Bt&2)===0&&(Br|=a),he===4&&qs(e,Ct,An,!1)),Ii(e))}function G_(e,n,a){if((Bt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Bn(e,n),h=o?eS(e,n):gd(e,n,!0),f=o;do{if(h===0){ka&&!o&&qs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!WA(a)){h=gd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=_l;var I=E.current.memoizedState.isDehydrated;if(I&&(Ba(E,p).flags|=256),p=gd(E,p,!1),p!==2){if(ld&&!I){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ba(e,0),qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,An,!Us);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=gc+300-tn(),10<h)){if(qs(o,n,An,!Us),ui(o,0,!0)!==0)break t;ts=n,o.timeoutHandle=Sy(K_.bind(null,o,a,hn,_c,cd,n,An,Br,qa,Us,f,"Throttled",-0,0),h);break t}K_(o,a,hn,_c,cd,n,An,Br,qa,Us,f,null,-0,0)}}break}while(!0);Ii(e)}function K_(e,n,a,o,h,f,p,E,I,k,F,K,q,B){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},k_(n,f,K);var ot=(f&62914560)===f?gc-tn():(f&4194048)===f?H_-tn():0;if(ot=LS(K,ot),ot!==null){ts=f,e.cancelPendingCommit=ot(ey.bind(null,e,n,f,a,o,h,p,E,I,F,K,null,q,B)),qs(e,f,p,!k);return}}ey(e,n,f,a,o,h,p,E,I)}function WA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,a,o){n&=~ud,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&_r(e,a,n)}function yc(){return(Bt&6)===0?(vl(0),!1):!0}function md(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,Hi=Mr=null,Nf(e),Va=null,el=0,e=Rt;for(;e!==null;)b_(e.alternate,e),e=e.return;Rt=null}}function Ba(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,vS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ts=0,md(),te=e,Rt=a=ji(e.current,null),Ct=n,Kt=0,Tn=null,Us=!1,ka=Bn(e,n),ld=!1,qa=An=ud=Br=Ls=he=0,hn=_l=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Wi=n,ku(),a}function Y_(e,n){At=null,Q.H=ul,n===Oa||n===Ku?(n=cp(),Kt=3):n===yf?(n=cp(),Kt=4):Kt=n===Gf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Rt===null&&(he=1,oc(e,Nn(n,e.current)))}function X_(){var e=vn.current;return e===null?!0:(Ct&4194048)===Ct?xn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===xn:!1}function Z_(){var e=Q.H;return Q.H=ul,e===null?ul:e}function J_(){var e=Q.A;return Q.A=JA,e}function vc(){he=4,Us||(Ct&4194048)!==Ct&&vn.current!==null||(ka=!0),(Ls&134217727)===0&&(Br&134217727)===0||te===null||qs(te,Ct,An,!1)}function gd(e,n,a){var o=Bt;Bt|=2;var h=Z_(),f=J_();(te!==e||Ct!==n)&&(_c=null,Ba(e,n)),n=!1;var p=he;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,I=Tn;switch(Kt){case 8:md(),p=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var k=Kt;if(Kt=0,Tn=null,Ha(e,E,I,k),a&&ka){p=0;break t}break;default:k=Kt,Kt=0,Tn=null,Ha(e,E,I,k)}}tS(),p=he;break}catch(F){Y_(e,F)}while(!0);return n&&e.shellSuspendCounter++,Hi=Mr=null,Bt=o,Q.H=h,Q.A=f,Rt===null&&(te=null,Ct=0,ku()),p}function tS(){for(;Rt!==null;)$_(Rt)}function eS(e,n){var a=Bt;Bt|=2;var o=Z_(),h=J_();te!==e||Ct!==n?(_c=null,pc=tn()+500,Ba(e,n)):ka=Bn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=Tn;e:switch(Kt){case 1:Kt=0,Tn=null,Ha(e,n,f,1);break;case 2:case 9:if(lp(f)){Kt=0,Tn=null,W_(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ii(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:lp(f)?(Kt=0,Tn=null,W_(n)):(Kt=0,Tn=null,Ha(e,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(p?Py(p):E.stateNode.complete){Kt=0,Tn=null;var I=E.sibling;if(I!==null)Rt=I;else{var k=E.return;k!==null?(Rt=k,Ec(k)):Rt=null}break e}}Kt=0,Tn=null,Ha(e,n,f,5);break;case 6:Kt=0,Tn=null,Ha(e,n,f,6);break;case 8:md(),he=6;break t;default:throw Error(r(462))}}nS();break}catch(F){Y_(e,F)}while(!0);return Hi=Mr=null,Q.H=o,Q.A=h,Bt=a,Rt!==null?0:(te=null,Ct=0,ku(),he)}function nS(){for(;Rt!==null&&!Fh();)$_(Rt)}function $_(e){var n=A_(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,n===null?Ec(e):Rt=n}function W_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=p_(a,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=p_(a,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:Nf(n);default:b_(a,n),n=Rt=Jg(n,Wi),n=A_(a,n,Wi)}e.memoizedProps=e.pendingProps,n===null?Ec(e):Rt=n}function Ha(e,n,a,o){Hi=Mr=null,Nf(n),Va=null,el=0;var h=n.return;try{if(FA(e,h,n,a,Ct)){he=1,oc(e,Nn(a,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;he=1,oc(e,Nn(a,e.current)),Rt=null;return}n.flags&32768?(xt||o===1?e=!0:ka||(Ct&536870912)!==0?e=!1:(Us=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ty(n,e)):Ec(n)}function Ec(e){var n=e;do{if((n.flags&32768)!==0){ty(n,Us);return}e=n.return;var a=KA(n.alternate,n,Wi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);he===0&&(he=5)}function ty(e,n){do{var a=YA(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);he=6,Rt=null}function ey(e,n,a,o,h,f,p,E,I){e.cancelPendingCommit=null;do Tc();while(Me!==0);if((Bt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=nf,Kh(e,a,f,p,E,I),e===te&&(Rt=te=null,Ct=0),ja=n,ks=e,ts=a,hd=f,fd=h,F_=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,aS(ps,function(){return ay(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=nt.p,nt.p=2,p=Bt,Bt|=4;try{XA(e,n,a)}finally{Bt=p,nt.p=h,Q.T=o}}Me=1,ny(),iy(),sy()}}function ny(){if(Me===1){Me=0;var e=ks,n=ja,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{U_(n,e);var f=Id,p=Bg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&jg(E.ownerDocument.documentElement,E)){if(I!==null&&Jh(E)){var k=I.start,F=I.end;if(F===void 0&&(F=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,q=K&&K.defaultView||window;if(q.getSelection){var B=q.getSelection(),ot=E.textContent.length,dt=Math.min(I.start,ot),$t=I.end===void 0?dt:Math.min(I.end,ot);!B.extend&&dt>$t&&(p=$t,$t=dt,dt=p);var x=qg(E,dt),N=qg(E,$t);if(x&&N&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var P=K.createRange();P.setStart(x.node,x.offset),B.removeAllRanges(),dt>$t?(B.addRange(P),B.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),B.addRange(P))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Mc=!!Rd,Id=Rd=null}finally{Bt=h,nt.p=o,Q.T=a}}e.current=n,Me=2}}function iy(){if(Me===2){Me=0;var e=ks,n=ja,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{O_(e,n.alternate,n)}finally{Bt=h,nt.p=o,Q.T=a}}Me=3}}function sy(){if(Me===4||Me===3){Me=0,hu();var e=ks,n=ja,a=ts,o=F_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,ja=ks=null,ry(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ps=null),Li(a),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=nt.p,nt.p=2,Q.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,nt.p=h}}(ts&3)!==0&&Tc(),Ii(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===dd?yl++:(yl=0,dd=e):yl=0,vl(0)}}function ry(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Wo(n)))}function Tc(){return ny(),iy(),sy(),ay()}function ay(){if(Me!==5)return!1;var e=ks,n=hd;hd=0;var a=Li(ts),o=Q.T,h=nt.p;try{nt.p=32>a?32:a,Q.T=null,a=fd,fd=null;var f=ks,p=ts;if(Me=0,ja=ks=null,ts=0,(Bt&6)!==0)throw Error(r(331));var E=Bt;if(Bt|=4,j_(f.current),P_(f,f.current,p,a),Bt=E,vl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{nt.p=h,Q.T=o,ry(e,n)}}function oy(e,n,a){n=Nn(a,n),n=Qf(e.stateNode,n,2),e=Vs(e,n,2),e!==null&&(pr(e,2),Ii(e))}function Yt(e,n,a){if(e.tag===3)oy(e,e,a);else for(;n!==null;){if(n.tag===3){oy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ps===null||!Ps.has(o))){e=Nn(a,e),a=l_(2),o=Vs(n,a,2),o!==null&&(u_(a,o,n,e),pr(o,2),Ii(o));break}}n=n.return}}function pd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new $A;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ld=!0,h.add(a),e=iS.bind(null,e,n,a),n.then(e,e))}function iS(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Ct&a)===a&&(he===4||he===3&&(Ct&62914560)===Ct&&300>tn()-gc?(Bt&2)===0&&Ba(e,0):ud|=a,qa===Ct&&(qa=0)),Ii(e)}function ly(e,n){n===0&&(n=_u()),e=Nr(e,n),e!==null&&(pr(e,n),Ii(e))}function sS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),ly(e,a)}function rS(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),ly(e,a)}function aS(e,n){return Ve(e,n)}var Ac=null,Fa=null,_d=!1,Sc=!1,yd=!1,js=0;function Ii(e){e!==Fa&&e.next===null&&(Fa===null?Ac=Fa=e:Fa=Fa.next=e),Sc=!0,_d||(_d=!0,lS())}function vl(e,n){if(!yd&&Sc){yd=!0;do for(var a=!1,o=Ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,fy(o,f))}else f=Ct,f=ui(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,fy(o,f));o=o.next}while(a);yd=!1}}function oS(){uy()}function uy(){Sc=_d=!1;var e=0;js!==0&&yS()&&(e=js);for(var n=tn(),a=null,o=Ac;o!==null;){var h=o.next,f=cy(o,n);f===0?(o.next=null,a===null?Ac=h:a.next=h,h===null&&(Fa=a)):(a=o,(e!==0||(f&3)!==0)&&(Sc=!0)),o=h}Me!==0&&Me!==5||vl(e),js!==0&&(js=0)}function cy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-fe(f),E=1<<p,I=h[p];I===-1?((E&a)===0||(E&o)!==0)&&(h[p]=Gh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,a=Ct,a=ui(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&gs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&gs(o),Li(a)){case 2:case 8:a=Do;break;case 32:a=ps;break;case 268435456:a=fu;break;default:a=ps}return o=hy.bind(null,e),a=Ve(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&gs(o),e.callbackPriority=2,e.callbackNode=null,2}function hy(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Tc()&&e.callbackNode!==a)return null;var o=Ct;return o=ui(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(G_(e,o,n),cy(e,tn()),e.callbackNode!=null&&e.callbackNode===a?hy.bind(null,e):null)}function fy(e,n){if(Tc())return null;G_(e,n,!0)}function lS(){ES(function(){(Bt&6)!==0?Ve(Co,oS):uy()})}function vd(){if(js===0){var e=Da;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),js=e}return js}function dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ma(""+e)}function my(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function uS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=dy((h[ze]||null).action),p=o.submitter;p&&(n=(n=p[ze]||null)?dy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ei("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(js!==0){var I=p?my(h,p):new FormData(h);kf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?my(h,p):new FormData(h),kf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Ed=0;Ed<ef.length;Ed++){var Td=ef[Ed],cS=Td.toLowerCase(),hS=Td[0].toUpperCase()+Td.slice(1);Zn(cS,"on"+hS)}Zn(Qg,"onAnimationEnd"),Zn(Gg,"onAnimationIteration"),Zn(Kg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(IA,"onTransitionRun"),Zn(CA,"onTransitionStart"),Zn(DA,"onTransitionCancel"),Zn(Yg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function gy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,k=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(F){Pu(F)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,k=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(F){Pu(F)}h.currentTarget=null,f=I}}}}function It(e,n){var a=n[ua];a===void 0&&(a=n[ua]=new Set);var o=e+"__bubble";a.has(o)||(py(n,e,2,!1),a.add(o))}function Ad(e,n,a){var o=0;n&&(o|=4),py(a,e,o,n)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[bc]){e[bc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(fS.has(a)||Ad(a,!1,e),Ad(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bc]||(n[bc]=!0,Ad("selectionchange",!1,n))}}function py(e,n,a,o){switch(Qy(n)){case 2:var h=qS;break;case 8:h=jS;break;default:h=Pd}a=h.bind(null,n,a,e),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function bd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=di(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}E=E.parentNode}}o=o.return}As(function(){var k=f,F=Rn(a),K=[];t:{var q=Xg.get(e);if(q!==void 0){var B=Ei,ot=e;switch(e){case"keypress":if(br(a)===0)break t;case"keydown":case"keyup":B=zu;break;case"focusin":ot="focus",B=Rr;break;case"focusout":ot="blur",B=Rr;break;case"beforeblur":case"afterblur":B=Rr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case Qg:case Gg:case Kg:B=Cu;break;case Yg:B=A;break;case"scroll":case"scrollend":B=Fo;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=qi;break;case"toggle":case"beforetoggle":B=Tt}var dt=(n&4)!==0,$t=!dt&&(e==="scroll"||e==="scrollend"),x=dt?q!==null?q+"Capture":null:q;dt=[];for(var N=k,P;N!==null;){var G=N;if(P=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||P===null||x===null||(G=Gn(N,x),G!=null&&dt.push(Tl(N,G,P))),$t)break;N=N.return}0<dt.length&&(q=new B(q,ot,null,a,F),K.push({event:q,listeners:dt}))}}if((n&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",q&&a!==jo&&(ot=a.relatedTarget||a.fromElement)&&(di(ot)||ot[hi]))break t;if((B||q)&&(q=F.window===F?F:(q=F.ownerDocument)?q.defaultView||q.parentWindow:window,B?(ot=a.relatedTarget||a.toElement,B=k,ot=ot?di(ot):null,ot!==null&&($t=c(ot),dt=ot.tag,ot!==$t||dt!==5&&dt!==27&&dt!==6)&&(ot=null)):(B=null,ot=k),B!==ot)){if(dt=Qo,G="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(dt=qi,G="onPointerLeave",x="onPointerEnter",N="pointer"),$t=B==null?q:gn(B),P=ot==null?q:gn(ot),q=new dt(G,N+"leave",B,a,F),q.target=$t,q.relatedTarget=P,G=null,di(F)===k&&(dt=new dt(x,N+"enter",ot,a,F),dt.target=P,dt.relatedTarget=$t,G=dt),$t=G,B&&ot)e:{for(dt=dS,x=B,N=ot,P=0,G=x;G;G=dt(G))P++;G=0;for(var ut=N;ut;ut=dt(ut))G++;for(;0<P-G;)x=dt(x),P--;for(;0<G-P;)N=dt(N),G--;for(;P--;){if(x===N||N!==null&&x===N.alternate){dt=x;break e}x=dt(x),N=dt(N)}dt=null}else dt=null;B!==null&&_y(K,q,B,dt,!1),ot!==null&&$t!==null&&_y(K,$t,ot,dt,!0)}}t:{if(q=k?gn(k):window,B=q.nodeName&&q.nodeName.toLowerCase(),B==="select"||B==="input"&&q.type==="file")var kt=xg;else if(Vg(q))if(zg)kt=bA;else{kt=AA;var lt=TA}else B=q.nodeName,!B||B.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?k&&da(k.elementType)&&(kt=xg):kt=SA;if(kt&&(kt=kt(e,k))){Mg(K,kt,a,F);break t}lt&&lt(e,q,k),e==="focusout"&&k&&q.type==="number"&&k.memoizedProps.value!=null&&Po(q,"number",q.value)}switch(lt=k?gn(k):window,e){case"focusin":(Vg(lt)||lt.contentEditable==="true")&&(Ta=lt,$h=k,Zo=null);break;case"focusout":Zo=$h=Ta=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Hg(K,a,F);break;case"selectionchange":if(RA)break;case"keydown":case"keyup":Hg(K,a,F)}var bt;if(jt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Ea?Ir(e,a)&&(Dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(Si&&a.locale!=="ko"&&(Ea||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Ea&&(bt=Ho()):(vi=F,Bo="value"in vi?vi.value:vi.textContent,Ea=!0)),lt=wc(k,Dt),0<lt.length&&(Dt=new Ai(Dt,e,null,a,F),K.push({event:Dt,listeners:lt}),bt?Dt.data=bt:(bt=va(a),bt!==null&&(Dt.data=bt)))),(bt=Cn?_A(e,a):yA(e,a))&&(Dt=wc(k,"onBeforeInput"),0<Dt.length&&(lt=new Ai("onBeforeInput","beforeinput",null,a,F),K.push({event:lt,listeners:Dt}),lt.data=bt)),uS(K,e,k,a,F)}gy(K,n)})}function Tl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function wc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,a),h!=null&&o.unshift(Tl(e,h,f)),h=Gn(e,n),h!=null&&o.push(Tl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function dS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _y(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,I=E.alternate,k=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||k===null||(I=k,h?(k=Gn(a,f),k!=null&&p.unshift(Tl(a,k,I))):h||(k=Gn(a,f),k!=null&&p.push(Tl(a,k,I)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var mS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function yy(e){return(typeof e=="string"?e:""+e).replace(mS,`
`).replace(gS,"")}function vy(e,n){return n=yy(n),yy(e)===n}function Jt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||on(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&on(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":qo(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ma(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ma(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ma(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),ha(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ha(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,ha(e,a,o))}}function wd(e,n,a,o,h,f){switch(a){case"style":qo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?on(e,o):(typeof o=="number"||typeof o=="bigint")&&on(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ze]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ha(e,a,o)}}}function Qe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,f,p,a,null)}}h&&Jt(e,n,"srcSet",a.srcSet,a,null),o&&Jt(e,n,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=p=h=null,I=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":I=F;break;case"defaultChecked":k=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Jt(e,n,o,F,a,null)}}Au(e,f,E,I,k,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Jt(e,n,h,E,a,null)}n=f,a=p,e.multiple=!!o,n!=null?ys(e,!!o,n,!1):a!=null&&ys(e,!!o,a,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(e,n,p,E,a,null)}vs(e,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,I,o,a,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<El.length;o++)It(El[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,k,o,a,null)}return;default:if(da(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&wd(e,n,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Jt(e,n,E,o,a,null))}function pS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,k=null,F=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":I=K;default:o.hasOwnProperty(B)||Jt(e,n,B,null,o,K)}}for(var q in o){var B=o[q];if(K=a[q],o.hasOwnProperty(q)&&(B!=null||K!=null))switch(q){case"type":f=B;break;case"name":h=B;break;case"checked":k=B;break;case"defaultChecked":F=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==K&&Jt(e,n,q,B,o,K)}}fa(e,p,E,I,k,F,f,h);return;case"select":B=p=E=q=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":B=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&Jt(e,n,h,f,o,I)}n=E,a=p,o=B,q!=null?ys(e,!!a,q,!1):!!o!=!!a&&(n!=null?ys(e,!!a,n,!0):ys(e,!!a,a?[]:"",!1));return;case"textarea":B=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Jt(e,n,p,h,o,f)}Su(e,q,B);return;case"option":for(var ot in a)if(q=a[ot],a.hasOwnProperty(ot)&&q!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Jt(e,n,ot,null,o,q)}for(I in o)if(q=o[I],B=a[I],o.hasOwnProperty(I)&&q!==B&&(q!=null||B!=null))switch(I){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Jt(e,n,I,q,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)q=a[dt],a.hasOwnProperty(dt)&&q!=null&&!o.hasOwnProperty(dt)&&Jt(e,n,dt,null,o,q);for(k in o)if(q=o[k],B=a[k],o.hasOwnProperty(k)&&q!==B&&(q!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Jt(e,n,k,q,o,B)}return;default:if(da(n)){for(var $t in a)q=a[$t],a.hasOwnProperty($t)&&q!==void 0&&!o.hasOwnProperty($t)&&wd(e,n,$t,void 0,o,q);for(F in o)q=o[F],B=a[F],!o.hasOwnProperty(F)||q===B||q===void 0&&B===void 0||wd(e,n,F,q,o,B);return}}for(var x in a)q=a[x],a.hasOwnProperty(x)&&q!=null&&!o.hasOwnProperty(x)&&Jt(e,n,x,null,o,q);for(K in o)q=o[K],B=a[K],!o.hasOwnProperty(K)||q===B||q==null&&B==null||Jt(e,n,K,q,o,B)}function Ey(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _S(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Ey(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],k=I.startTime;if(k>E)break;var F=I.transferSize,K=I.initiatorType;F&&Ey(K)&&(I=I.responseEnd,p+=F*(I<E?1:(E-k)/(I-k)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rd=null,Id=null;function Rc(e){return e.nodeType===9?e:e.ownerDocument}function Ty(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ay(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Dd=null;function yS(){var e=window.event;return e&&e.type==="popstate"?e===Dd?!1:(Dd=e,!0):(Dd=null,!1)}var Sy=typeof setTimeout=="function"?setTimeout:void 0,vS=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(e){return by.resolve(null).then(e).catch(TS)}:Sy;function TS(e){setTimeout(function(){throw e})}function Bs(e){return e==="head"}function wy(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ya(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Al(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Al(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Al(e.ownerDocument.body);a=h}while(a);Ya(n)}function Ry(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Nd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function AS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[fi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function SS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function Iy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function Od(e){return e.data==="$?"||e.data==="$~"}function Vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Md=null;function Cy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return zn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Dy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Ny(e,n,a){switch(n=Rc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ca(e)}var Un=new Map,Oy=new Set;function Ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=nt.d;nt.d={f:wS,r:RS,D:IS,C:CS,L:DS,m:NS,X:VS,S:OS,M:MS};function wS(){var e=es.f(),n=yc();return e||n}function RS(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?Yp(n):es.r(e)}var Qa=typeof document>"u"?null:document;function Vy(e,n,a){var o=Qa;if(o&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Oy.has(h)||(Oy.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Qe(n,"link",e),Ee(n),o.head.appendChild(n)))}}function IS(e){es.D(e),Vy("dns-prefetch",e,null)}function CS(e,n){es.C(e,n),Vy("preconnect",e,n)}function DS(e,n,a){es.L(e,n,a);var o=Qa;if(o&&e&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var f=h;switch(n){case"style":f=Ga(e);break;case"script":f=Ka(e)}Un.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Sl(f))||n==="script"&&o.querySelector(bl(f))||(n=o.createElement("link"),Qe(n,"link",e),Ee(n),o.head.appendChild(n)))}}function NS(e,n){es.m(e,n);var a=Qa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(e)}if(!Un.has(f)&&(e=b({rel:"modulepreload",href:e},n),Un.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(f)))return}o=a.createElement("link"),Qe(o,"link",e),Ee(o),a.head.appendChild(o)}}}function OS(e,n,a){es.S(e,n,a);var o=Qa;if(o&&e){var h=mi(o).hoistableStyles,f=Ga(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(Sl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Un.get(f))&&xd(e,a);var I=p=o.createElement("link");Ee(I),Qe(I,"link",e),I._p=new Promise(function(k,F){I.onload=k,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function VS(e,n){es.X(e,n);var a=Qa;if(a&&e){var o=mi(a).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(e=b({src:e,async:!0},n),(n=Un.get(h))&&zd(e,n),f=a.createElement("script"),Ee(f),Qe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function MS(e,n){es.M(e,n);var a=Qa;if(a&&e){var o=mi(a).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&zd(e,n),f=a.createElement("script"),Ee(f),Qe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function My(e,n,a,o){var h=(h=St.current)?Ic(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ga(a.href),a=mi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ga(a.href);var f=mi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(Sl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),f||xS(h,e,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ka(a),a=mi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ga(e){return'href="'+an(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function xy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function xS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qe(n,"link",a),Ee(n),e.head.appendChild(n))}function Ka(e){return'[src="'+an(e)+'"]'}function bl(e){return"script[async]"+e}function zy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Qe(o,"style",h),Cc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ga(a.href);var f=e.querySelector(Sl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=xy(a),(h=Un.get(h))&&xd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Qe(f,"link",o),n.state.loading|=4,Cc(f,a.precedence,e),n.instance=f;case"script":return f=Ka(a.src),(h=e.querySelector(bl(f)))?(n.instance=h,Ee(h),h):(o=a,(h=Un.get(f))&&(o=b({},a),zd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Cc(o,a.precedence,e));return n.instance}function Cc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function zd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Dc=null;function Uy(e,n,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[fi]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function Ly(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function zS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Py(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function US(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(o.href),f=n.querySelector(Sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Nc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,o=xy(o),(h=Un.get(h))&&xd(o,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Qe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Nc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ud=0;function LS(e,n){return e.stylesheets&&e.count===0&&Vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ud===0&&(Ud=62500*_S());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ud?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oc=null;function Vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oc=new Map,n.forEach(PS,e),Oc=null,Nc.call(e))}function PS(e,n){if(!(n.state.loading&4)){var a=Oc.get(e);if(a)var o=a.get(null);else{a=new Map,Oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var wl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function kS(e,n,a,o,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function ky(e,n,a,o,h,f,p,E,I,k,F,K){return e=new kS(e,n,a,p,I,k,F,K,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=gf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},vf(f),e}function qy(e){return e?(e=ba,e):ba}function jy(e,n,a,o,h,f){h=qy(h),o.context===null?o.context=h:o.pendingContext=h,o=Os(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Vs(e,o,n),a!==null&&(fn(a,e,n),il(a,e,n))}function By(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Ld(e,n){By(e,n),(e=e.alternate)&&By(e,n)}function Hy(e){if(e.tag===13||e.tag===31){var n=Nr(e,67108864);n!==null&&fn(n,e,67108864),Ld(e,67108864)}}function Fy(e){if(e.tag===13||e.tag===31){var n=Sn();n=yr(n);var a=Nr(e,n);a!==null&&fn(a,e,n),Ld(e,n)}}var Mc=!0;function qS(e,n,a,o){var h=Q.T;Q.T=null;var f=nt.p;try{nt.p=2,Pd(e,n,a,o)}finally{nt.p=f,Q.T=h}}function jS(e,n,a,o){var h=Q.T;Q.T=null;var f=nt.p;try{nt.p=8,Pd(e,n,a,o)}finally{nt.p=f,Q.T=h}}function Pd(e,n,a,o){if(Mc){var h=kd(o);if(h===null)bd(e,n,o,xc,a),Gy(e,o);else if(HS(h,e,n,a,o))o.stopPropagation();else if(Gy(e,o),n&4&&-1<BS.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=li(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-fe(p);E.entanglements[1]|=I,p&=~I}Ii(f),(Bt&6)===0&&(pc=tn()+500,vl(0))}}break;case 31:case 13:E=Nr(f,2),E!==null&&fn(E,f,2),yc(),Ld(f,2)}if(f=kd(o),f===null&&bd(e,n,o,xc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else bd(e,n,o,null,a)}}function kd(e){return e=Rn(e),qd(e)}var xc=null;function qd(e){if(xc=null,e=di(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return xc=e,null}function Qy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case Co:return 2;case Do:return 8;case ps:case Qh:return 32;case fu:return 268435456;default:return 32}default:return 32}}var jd=!1,Hs=null,Fs=null,Qs=null,Rl=new Map,Il=new Map,Gs=[],BS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gy(e,n){switch(e){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(n.pointerId)}}function Cl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&Hy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function HS(e,n,a,o,h){switch(n){case"focusin":return Hs=Cl(Hs,e,n,a,o,h),!0;case"dragenter":return Fs=Cl(Fs,e,n,a,o,h),!0;case"mouseover":return Qs=Cl(Qs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,Cl(Rl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Il.set(f,Cl(Il.get(f)||null,e,n,a,o,h)),!0}return!1}function Ky(e){var n=di(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){Fy(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){Fy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=kd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);jo=o,a.target.dispatchEvent(o),jo=null}else return n=wn(a),n!==null&&Hy(n),e.blockedOn=a,!1;n.shift()}return!0}function Yy(e,n,a){zc(e)&&a.delete(n)}function FS(){jd=!1,Hs!==null&&zc(Hs)&&(Hs=null),Fs!==null&&zc(Fs)&&(Fs=null),Qs!==null&&zc(Qs)&&(Qs=null),Rl.forEach(Yy),Il.forEach(Yy)}function Uc(e,n){e.blockedOn===n&&(e.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,FS)))}var Lc=null;function Xy(e){Lc!==e&&(Lc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===e&&(Lc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(qd(o||a)===null)continue;break}var f=wn(a);f!==null&&(e.splice(n,3),n-=3,kf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ya(e){function n(I){return Uc(I,e)}Hs!==null&&Uc(Hs,e),Fs!==null&&Uc(Fs,e),Qs!==null&&Uc(Qs,e),Rl.forEach(n),Il.forEach(n);for(var a=0;a<Gs.length;a++){var o=Gs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Gs.length&&(a=Gs[0],a.blockedOn===null);)Ky(a),a.blockedOn===null&&Gs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[ze]||null;if(typeof f=="function")p||Xy(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ze]||null)E=p.formAction;else if(qd(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Xy(a)}}}function Zy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Bd(e){this._internalRoot=e}Pc.prototype.render=Bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Sn();jy(a,o,e,n,null,null)},Pc.prototype.unmount=Bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;jy(e.current,2,null,e,null,null),yc(),n[hi]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=yu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Gs.length&&n!==0&&n<Gs[a].priority;a++);Gs.splice(a,0,e),a===0&&Ky(e)}};var Jy=t.version;if(Jy!=="19.2.0")throw Error(r(527,Jy,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var QS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{jn=kc.inject(QS),qe=kc}catch{}}return Nl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=s_,f=r_,p=a_;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=ky(e,1,!1,null,null,a,o,null,h,f,p,Zy),e[hi]=n.current,Sd(e),new Bd(n)},Nl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=s_,p=r_,E=a_,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=ky(e,1,!0,n,a??null,o,h,I,f,p,E,Zy),n.context=qy(null),a=n.current,o=Sn(),o=yr(o),h=Os(o),h.callback=null,Vs(a,h,o),a=o,n.current.lanes=a,pr(n,a),Ii(n),e[hi]=n.current,Sd(e),new Pc(n)},Nl.version="19.2.0",Nl}var ov;function e1(){if(ov)return Qd.exports;ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Qd.exports=t1(),Qd.exports}var n1=e1();const LE={apiKey:"AIzaSyDkjv1utwG6_M2hR3gaQ-Q-c32E1zNEoTU",authDomain:"quiz-builder-b6495.firebaseapp.com",projectId:"quiz-builder-b6495",storageBucket:"quiz-builder-b6495.firebasestorage.app",messagingSenderId:"294092108303",appId:"1:294092108303:web:0e560cf2ef9ddb7556297a"},i1=()=>{};var lv={};const PE=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},s1=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},kE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,T=c>>2,b=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,H=y&63;_||(H=64,d||(O=64)),r.push(i[T],i[b],i[O],i[H])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(PE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):s1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||b==null)throw new r1;const O=c<<2|g>>4;if(r.push(O),y!==64){const H=g<<4&240|y>>2;if(r.push(H),b!==64){const $=y<<6&192|b;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class r1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a1=function(s){const t=PE(s);return kE.encodeByteArray(t,!0)},nh=function(s){return a1(s).replace(/\./g,"")},qE=function(s){try{return kE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function o1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const l1=()=>o1().__FIREBASE_DEFAULTS__,u1=()=>{if(typeof process>"u"||typeof lv>"u")return;const s=lv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},c1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&qE(s[1]);return t&&JSON.parse(t)},Sh=()=>{try{return i1()||l1()||u1()||c1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},jE=s=>Sh()?.emulatorHosts?.[s],h1=s=>{const t=jE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},BE=()=>Sh()?.config,HE=s=>Sh()?.[`_${s}`];class f1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function go(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FE(s){return(await fetch(s,{credentials:"include"})).ok}function d1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(i)),nh(JSON.stringify(d)),""].join(".")}const Pl={};function m1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Pl))Pl[t]?s.emulator.push(t):s.prod.push(t);return s}function g1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let uv=!1;function QE(s,t){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Pl[s]===t||Pl[s]||uv)return;Pl[s]=t;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=m1().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,H){O.setAttribute("width","24"),O.setAttribute("id",H),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{uv=!0,d()},O}function T(O,H){O.setAttribute("id",H),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function b(){const O=g1(r),H=i("text"),$=document.getElementById(H)||document.createElement("span"),tt=i("learnmore"),J=document.getElementById(tt)||document.createElement("a"),et=i("preprendIcon"),pt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ht=O.element;g(ht),T(J,tt);const Pt=y();_(pt,et),ht.append(pt,$,J,Pt),document.body.appendChild(ht)}c?($.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function _1(){const s=Sh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function E1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T1(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function A1(){return!_1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S1(){try{return typeof indexedDB=="object"}catch{return!1}}function b1(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const w1="FirebaseError";class ds extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=w1,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?R1(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ds(l,g,r)}}function R1(s,t){return s.replace(I1,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const I1=/\{\$([^}]+)}/g;function C1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Yr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(cv(c)&&cv(d)){if(!Yr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function cv(s){return s!==null&&typeof s=="object"}function Wl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Vl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Ml(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function D1(s,t){const i=new N1(s,t);return i.subscribe.bind(i)}class N1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");O1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Xd),l.error===void 0&&(l.error=Xd),l.complete===void 0&&(l.complete=Xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Xd(){}function mn(s){return s&&s._delegate?s._delegate:s}class Xr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fr="[DEFAULT]";class V1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new f1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(x1(t))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fr){return this.instances.has(t)}getOptions(t=Fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:M1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Fr){return this.component?this.component.multipleInstances?t:Fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M1(s){return s===Fr?void 0:s}function x1(s){return s.instantiationMode==="EAGER"}class z1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new V1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const U1={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},L1=Nt.INFO,P1={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},k1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=P1[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zm{constructor(t){this.name=t,this._logLevel=L1,this._logHandler=k1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?U1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const q1=(s,t)=>t.some(i=>s instanceof i);let hv,fv;function j1(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B1(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,om=new WeakMap,KE=new WeakMap,Zd=new WeakMap,Um=new WeakMap;function H1(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(tr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&GE.set(i,s)}).catch(()=>{}),Um.set(t,s),t}function F1(s){if(om.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,t)}let lm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return om.get(s);if(t==="objectStoreNames")return s.objectStoreNames||KE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return tr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Q1(s){lm=s(lm)}function G1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Jd(this),t,...i);return KE.set(r,t.sort?t.sort():[t]),tr(r)}:B1().includes(s)?function(...t){return s.apply(Jd(this),t),tr(GE.get(this))}:function(...t){return tr(s.apply(Jd(this),t))}}function K1(s){return typeof s=="function"?G1(s):(s instanceof IDBTransaction&&F1(s),q1(s,j1())?new Proxy(s,lm):s)}function tr(s){if(s instanceof IDBRequest)return H1(s);if(Zd.has(s))return Zd.get(s);const t=K1(s);return t!==s&&(Zd.set(s,t),Um.set(t,s)),t}const Jd=s=>Um.get(s);function Y1(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=tr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(tr(d.result),_.oldVersion,_.newVersion,tr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const X1=["get","getKey","getAll","getAllKeys","count"],Z1=["put","add","delete","clear"],$d=new Map;function dv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=Z1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||X1.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return $d.set(t,c),c}Q1(s=>({...s,get:(t,i,r)=>dv(t,i)||s.get(t,i,r),has:(t,i)=>!!dv(t,i)||s.has(t,i)}));class J1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function $1(s){return s.getComponent()?.type==="VERSION"}const um="@firebase/app",mv="0.14.5";const ls=new zm("@firebase/app"),W1="@firebase/app-compat",tb="@firebase/analytics-compat",eb="@firebase/analytics",nb="@firebase/app-check-compat",ib="@firebase/app-check",sb="@firebase/auth",rb="@firebase/auth-compat",ab="@firebase/database",ob="@firebase/data-connect",lb="@firebase/database-compat",ub="@firebase/functions",cb="@firebase/functions-compat",hb="@firebase/installations",fb="@firebase/installations-compat",db="@firebase/messaging",mb="@firebase/messaging-compat",gb="@firebase/performance",pb="@firebase/performance-compat",_b="@firebase/remote-config",yb="@firebase/remote-config-compat",vb="@firebase/storage",Eb="@firebase/storage-compat",Tb="@firebase/firestore",Ab="@firebase/ai",Sb="@firebase/firestore-compat",bb="firebase",wb="12.5.0";const cm="[DEFAULT]",Rb={[um]:"fire-core",[W1]:"fire-core-compat",[eb]:"fire-analytics",[tb]:"fire-analytics-compat",[ib]:"fire-app-check",[nb]:"fire-app-check-compat",[sb]:"fire-auth",[rb]:"fire-auth-compat",[ab]:"fire-rtdb",[ob]:"fire-data-connect",[lb]:"fire-rtdb-compat",[ub]:"fire-fn",[cb]:"fire-fn-compat",[hb]:"fire-iid",[fb]:"fire-iid-compat",[db]:"fire-fcm",[mb]:"fire-fcm-compat",[gb]:"fire-perf",[pb]:"fire-perf-compat",[_b]:"fire-rc",[yb]:"fire-rc-compat",[vb]:"fire-gcs",[Eb]:"fire-gcs-compat",[Tb]:"fire-fst",[Sb]:"fire-fst-compat",[Ab]:"fire-vertex","fire-js":"fire-js",[bb]:"fire-js-all"};const ih=new Map,Ib=new Map,hm=new Map;function gv(s,t){try{s.container.addComponent(t)}catch(i){ls.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ro(s){const t=s.name;if(hm.has(t))return ls.debug(`There were multiple attempts to register component ${t}.`),!1;hm.set(t,s);for(const i of ih.values())gv(i,s);for(const i of Ib.values())gv(i,s);return!0}function Lm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Ln(s){return s==null?!1:s.settings!==void 0}const Cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new $l("app","Firebase",Cb);class Db{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const po=wb;function Pm(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:cm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw er.create("bad-app-name",{appName:String(l)});if(i||(i=BE()),!i)throw er.create("no-options");const c=ih.get(l);if(c){if(Yr(i,c.options)&&Yr(r,c.config))return c;throw er.create("duplicate-app",{appName:l})}const d=new z1(l);for(const _ of hm.values())d.addComponent(_);const g=new Db(i,r,d);return ih.set(l,g),g}function YE(s=cm){const t=ih.get(s);if(!t&&s===cm&&BE())return Pm();if(!t)throw er.create("no-app",{appName:s});return t}function nr(s,t,i){let r=Rb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ls.warn(d.join(" "));return}ro(new Xr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Nb="firebase-heartbeat-database",Ob=1,Fl="firebase-heartbeat-store";let Wd=null;function XE(){return Wd||(Wd=Y1(Nb,Ob,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Fl)}catch(i){console.warn(i)}}}}).catch(s=>{throw er.create("idb-open",{originalErrorMessage:s.message})})),Wd}async function Vb(s){try{const i=(await XE()).transaction(Fl),r=await i.objectStore(Fl).get(ZE(s));return await i.done,r}catch(t){if(t instanceof ds)ls.warn(t.message);else{const i=er.create("idb-get",{originalErrorMessage:t?.message});ls.warn(i.message)}}}async function pv(s,t){try{const r=(await XE()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(t,ZE(s)),await r.done}catch(i){if(i instanceof ds)ls.warn(i.message);else{const r=er.create("idb-set",{originalErrorMessage:i?.message});ls.warn(r.message)}}}function ZE(s){return`${s.name}!${s.options.appId}`}const Mb=1024,xb=30;class zb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Lb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>xb){const l=Pb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ls.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_v(),{heartbeatsToSend:i,unsentEntries:r}=Ub(this._heartbeatsCache.heartbeats),l=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ls.warn(t),""}}}function _v(){return new Date().toISOString().substring(0,10)}function Ub(s,t=Mb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),yv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Lb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S1()?b1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Vb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function yv(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function Pb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function kb(s){ro(new Xr("platform-logger",t=>new J1(t),"PRIVATE")),ro(new Xr("heartbeat",t=>new zb(t),"PRIVATE")),nr(um,mv,s),nr(um,mv,"esm2020"),nr("fire-js","")}kb("");var qb="firebase",jb="12.5.0";nr(qb,jb,"app");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ir,JE;(function(){var s;function t(C,S){function w(){}w.prototype=S.prototype,C.F=S.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(V,D,z){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return S.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,w){w||(w=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(D=0;D<16;++D)V[D]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=C.g[0],w=C.g[1],D=C.g[2];let z=C.g[3],R;R=S+(z^w&(D^z))+V[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(D^S&(w^D))+V[1]+3905402710&4294967295,z=S+(R<<12&4294967295|R>>>20),R=D+(w^z&(S^w))+V[2]+606105819&4294967295,D=z+(R<<17&4294967295|R>>>15),R=w+(S^D&(z^S))+V[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(z^w&(D^z))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(D^S&(w^D))+V[5]+1200080426&4294967295,z=S+(R<<12&4294967295|R>>>20),R=D+(w^z&(S^w))+V[6]+2821735955&4294967295,D=z+(R<<17&4294967295|R>>>15),R=w+(S^D&(z^S))+V[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(z^w&(D^z))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(D^S&(w^D))+V[9]+2336552879&4294967295,z=S+(R<<12&4294967295|R>>>20),R=D+(w^z&(S^w))+V[10]+4294925233&4294967295,D=z+(R<<17&4294967295|R>>>15),R=w+(S^D&(z^S))+V[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(z^w&(D^z))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(D^S&(w^D))+V[13]+4254626195&4294967295,z=S+(R<<12&4294967295|R>>>20),R=D+(w^z&(S^w))+V[14]+2792965006&4294967295,D=z+(R<<17&4294967295|R>>>15),R=w+(S^D&(z^S))+V[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(D^z&(w^D))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^D&(S^w))+V[6]+3225465664&4294967295,z=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(z^S))+V[11]+643717713&4294967295,D=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(D^z))+V[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^z&(w^D))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^D&(S^w))+V[10]+38016083&4294967295,z=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(z^S))+V[15]+3634488961&4294967295,D=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(D^z))+V[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^z&(w^D))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^D&(S^w))+V[14]+3275163606&4294967295,z=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(z^S))+V[3]+4107603335&4294967295,D=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(D^z))+V[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^z&(w^D))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^D&(S^w))+V[2]+4243563512&4294967295,z=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(z^S))+V[7]+1735328473&4294967295,D=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(D^z))+V[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(w^D^z)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^D)+V[8]+2272392833&4294967295,z=S+(R<<11&4294967295|R>>>21),R=D+(z^S^w)+V[11]+1839030562&4294967295,D=z+(R<<16&4294967295|R>>>16),R=w+(D^z^S)+V[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^z)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^D)+V[4]+1272893353&4294967295,z=S+(R<<11&4294967295|R>>>21),R=D+(z^S^w)+V[7]+4139469664&4294967295,D=z+(R<<16&4294967295|R>>>16),R=w+(D^z^S)+V[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^z)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^D)+V[0]+3936430074&4294967295,z=S+(R<<11&4294967295|R>>>21),R=D+(z^S^w)+V[3]+3572445317&4294967295,D=z+(R<<16&4294967295|R>>>16),R=w+(D^z^S)+V[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^z)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^D)+V[12]+3873151461&4294967295,z=S+(R<<11&4294967295|R>>>21),R=D+(z^S^w)+V[15]+530742520&4294967295,D=z+(R<<16&4294967295|R>>>16),R=w+(D^z^S)+V[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(D^(w|~z))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~D))+V[7]+1126891415&4294967295,z=S+(R<<10&4294967295|R>>>22),R=D+(S^(z|~w))+V[14]+2878612391&4294967295,D=z+(R<<15&4294967295|R>>>17),R=w+(z^(D|~S))+V[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~z))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~D))+V[3]+2399980690&4294967295,z=S+(R<<10&4294967295|R>>>22),R=D+(S^(z|~w))+V[10]+4293915773&4294967295,D=z+(R<<15&4294967295|R>>>17),R=w+(z^(D|~S))+V[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~z))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~D))+V[15]+4264355552&4294967295,z=S+(R<<10&4294967295|R>>>22),R=D+(S^(z|~w))+V[6]+2734768916&4294967295,D=z+(R<<15&4294967295|R>>>17),R=w+(z^(D|~S))+V[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~z))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~D))+V[11]+3174756917&4294967295,z=S+(R<<10&4294967295|R>>>22),R=D+(S^(z|~w))+V[2]+718787259&4294967295,D=z+(R<<15&4294967295|R>>>17),R=w+(z^(D|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+z&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const w=S-this.blockSize,V=this.C;let D=this.h,z=0;for(;z<S;){if(D==0)for(;z<=w;)l(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<S;)if(V[D++]=C.charCodeAt(z++),D==this.blockSize){l(this,V),D=0;break}}else for(;z<S;)if(V[D++]=C[z++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)C[S++]=this.g[w]>>>V&255;return C};function c(C,S){var w=g;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=S(C)}function d(C,S){this.h=S;const w=[];let V=!0;for(let D=C.length-1;D>=0;D--){const z=C[D]|0;V&&z==S||(w[D]=z,V=!1)}this.g=w}var g={};function _(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return J(y(-C));const S=[];let w=1;for(let V=0;C>=w;V++)S[V]=C/w|0,w*=4294967296;return new d(S,0)}function T(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return J(T(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(S,8));let V=b;for(let z=0;z<C.length;z+=8){var D=Math.min(8,C.length-z);const R=parseInt(C.substring(z,z+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(R))):(V=V.j(w),V=V.add(y(R)))}return V}var b=_(0),O=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-J(this).m();let C=0,S=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(tt(this))return"-"+J(this).toString(C);const S=y(Math.pow(C,6));var w=this;let V="";for(;;){const D=Pt(w,S).g;w=et(w,D.j(S));let z=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=D,$(w))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function tt(C){return C.h==-1}s.l=function(C){return C=et(this,C),tt(C)?-1:$(C)?0:1};function J(C){const S=C.g.length,w=[];for(let V=0;V<S;V++)w[V]=~C.g[V];return new d(w,~C.h).add(O)}s.abs=function(){return tt(this)?J(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),w=[];let V=0;for(let D=0;D<=S;D++){let z=V+(this.i(D)&65535)+(C.i(D)&65535),R=(z>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=R>>>16,z&=65535,R&=65535,w[D]=R<<16|z}return new d(w,w[w.length-1]&-2147483648?-1:0)};function et(C,S){return C.add(J(S))}s.j=function(C){if($(this)||$(C))return b;if(tt(this))return tt(C)?J(this).j(J(C)):J(J(this).j(C));if(tt(C))return J(this.j(J(C)));if(this.l(H)<0&&C.l(H)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,w=[];for(var V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const z=this.i(V)>>>16,R=this.i(V)&65535,re=C.i(D)>>>16,Ne=C.i(D)&65535;w[2*V+2*D]+=R*Ne,pt(w,2*V+2*D),w[2*V+2*D+1]+=z*Ne,pt(w,2*V+2*D+1),w[2*V+2*D+1]+=R*re,pt(w,2*V+2*D+1),w[2*V+2*D+2]+=z*re,pt(w,2*V+2*D+2)}for(C=0;C<S;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=S;C<2*S;C++)w[C]=0;return new d(w,0)};function pt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ht(C,S){this.g=C,this.h=S}function Pt(C,S){if($(S))throw Error("division by zero");if($(C))return new ht(b,b);if(tt(C))return S=Pt(J(C),S),new ht(J(S.g),J(S.h));if(tt(S))return S=Pt(C,J(S)),new ht(J(S.g),S.h);if(C.g.length>30){if(tt(C)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=O,V=S;V.l(C)<=0;)w=Ft(w),V=Ft(V);var D=Mt(w,1),z=Mt(V,1);for(V=Mt(V,2),w=Mt(w,2);!$(V);){var R=z.add(V);R.l(C)<=0&&(D=D.add(w),z=R),V=Mt(V,1),w=Mt(w,1)}return S=et(C,D.j(S)),new ht(D,S)}for(D=b;C.l(S)>=0;){for(w=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=y(w),R=z.j(S);tt(R)||R.l(C)>0;)w-=V,z=y(w),R=z.j(S);$(z)&&(z=O),D=D.add(z),C=et(C,R)}return new ht(D,C)}s.B=function(C){return Pt(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),w=[];for(let V=0;V<S;V++)w[V]=this.i(V)&C.i(V);return new d(w,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),w=[];for(let V=0;V<S;V++)w[V]=this.i(V)|C.i(V);return new d(w,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),w=[];for(let V=0;V<S;V++)w[V]=this.i(V)^C.i(V);return new d(w,this.h^C.h)};function Ft(C){const S=C.g.length+1,w=[];for(let V=0;V<S;V++)w[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(w,C.h)}function Mt(C,S){const w=S>>5;S%=32;const V=C.g.length-w,D=[];for(let z=0;z<V;z++)D[z]=S>0?C.i(z+w)>>>S|C.i(z+w+1)<<32-S:C.i(z+w);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,JE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,ir=d}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $E,xl,WE,Gc,fm,tT,eT,nT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break t;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,j){for(var W=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)W[Tt-2]=arguments[Tt];return m.prototype[L].apply(A,W)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function $(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const j=L.length||0;u.length=v+j;for(let W=0;W<j;W++)u[v+W]=L[W]}else u.push(L)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function et(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,v){const A=ht.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ht=new tt(()=>new Pt,u=>u.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,Mt=!1,C=new pt,S=()=>{const u=Promise.resolve(void 0);Ft=()=>{u.then(w)}};function w(){for(var u;u=et();){try{u.h.call(u.g)}catch(v){J(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(re,D),re.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),Q=0;function nt(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++Q,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let j=0;j<Y.length;j++)v=Y[j],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,A,L){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const W=St(u,m,A,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new nt(m,this.src,j,!!A,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),j;(j=L>=0)&&Array.prototype.splice.call(A,L,1),j&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,A){for(let L=0;L<u.length;++L){const j=u[L];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==A)return L}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Oe={};function ae(u,m,v,A,L){if(Array.isArray(m)){for(let j=0;j<m.length;j++)ae(u,m[j],v,A,L);return null}return v=Io(v),u&&u[Ne]?u.J(m,v,g(A)?!!A.capture:!1,L):fr(u,m,v,!1,A,L)}function fr(u,m,v,A,L,j){if(!m)throw Error("Invalid event type");const W=g(L)?!!L.capture:!!L;let Tt=dr(u);if(Tt||(u[zt]=Tt=new at(u)),v=Tt.add(m,v,A,W,j),v.proxy)return v;if(A=ra(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)z||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(ai(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ra(){function u(v){return m.call(u.src,u.listener,v)}const m=wo;return u}function aa(u,m,v,A,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)aa(u,m[j],v,A,L);else A=g(A)?!!A.capture:!!A,v=Io(v),u&&u[Ne]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=St(m,v,A,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=dr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,A,L)),(v=u>-1?m[u]:null)&&oa(v))}function oa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])_t(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ai(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=dr(m))?(_t(v,u),v.h==0&&(v.src=null,m[zt]=null)):ft(u)}}}function ai(u){return u in Oe?Oe[u]:Oe[u]="on"+u}function wo(u,m){if(u.da)u=!0;else{m=new re(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&oa(u),u=v.call(A,m)}return u}function dr(u){return u=u[zt],u instanceof at?u:null}var Ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(u){return typeof u=="function"?u:(u[Ro]||(u[Ro]=function(m){return u.handleEvent(m)}),u[Ro])}function _e(){V.call(this),this.i=new at(this),this.M=this,this.G=null}b(_e,V),_e.prototype[Ne]=!0,_e.prototype.removeEventListener=function(u,m,v,A){aa(this,u,m,v,A)};function Ve(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(A,u),it(m,L)}L=!0;let j,W;if(v)for(W=v.length-1;W>=0;W--)j=m.g=v[W],L=gs(j,A,!0,m)&&L;if(j=m.g=u,L=gs(j,A,!0,m)&&L,L=gs(j,A,!1,m)&&L,v)for(W=0;W<v.length;W++)j=m.g=v[W],L=gs(j,A,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ft(v[A]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},_e.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function gs(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let j=0;j<m.length;++j){const W=m[j];if(W&&!W.da&&W.capture==v){const Tt=W.listener,de=W.ha||W.src;W.fa&&_t(u.i,W),L=Tt.call(de,A)!==!1&&L}}return L&&!A.defaultPrevented}function Fh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function hu(u){u.g=Fh(()=>{u.g=null,u.i&&(u.i=!1,hu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){V.call(this),this.h=u,this.g={}}b(mr,V);var Co=[];function Do(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&oa(m)},u),u.g={}}mr.prototype.N=function(){mr.Z.N.call(this),Do(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=d.JSON.stringify,Qh=d.JSON.parse,fu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function du(){}function mu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){D.call(this,"d")}b(qe,D);function bn(){D.call(this,"c")}b(bn,D);var fe={},gu=null;function la(){return gu=gu||new _e}fe.Ia="serverreachability";function pu(u){D.call(this,fe.Ia,u)}b(pu,D);function oi(u){const m=la();Ve(m,new pu(m))}fe.STAT_EVENT="statevent";function gr(u,m){D.call(this,fe.STAT_EVENT,u),this.stat=m}b(gr,D);function ye(u){const m=la();Ve(m,new gr(m,u))}fe.Ja="timingevent";function li(u,m){D.call(this,fe.Ja,u),this.size=m}b(li,D);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Gh(u,m,v,A,L,j){u.info(function(){if(u.g)if(j){var W="",Tt=j.split("&");for(let jt=0;jt<Tt.length;jt++){var de=Tt[jt].split("=");if(de.length>1){const oe=de[0];de=de[1];const Cn=oe.split("_");W=Cn.length>=2&&Cn[1]=="type"?W+(oe+"="+de+"&"):W+(oe+"=redacted&")}}}else W=null;else W=j;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function _u(u,m,v,A,L,j,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+j+" "+W})}function ci(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kh(u,v)+(A?" "+A:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Kh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<A.length;W++)A[W]=""}}}}return ps(j)}catch{return m}}var _r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function yr(){}b(yr,du),yr.prototype.g=function(){return new XMLHttpRequest},Oo=new yr;function Li(u){return encodeURIComponent(String(u))}function yu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var ve={},ze={};function hi(u,m,v){u.M=1,u.A=vr(Te(m)),u.u=v,u.R=!0,ua(u,null)}function ua(u,m){u.F=Date.now(),fi(u),u.B=Te(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),da(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Fn,u.g=Mu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Co[0]=L.toString()),L=Co);for(let j=0;j<L.length;j++){const W=ae(v,L[j],A||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Gh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Kn(this.g),de=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Tt!=4||de==7||(de==8||jt<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var v=Yh(this);if(this.o=m==200,_u(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var j=A;break e}}j=null}if(u=j)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,ye(12),gn(this),wn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Eu(this,v),oe==ze){Tt==4&&(this.m=4,ye(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==ve){this.m=4,ye(15),ci(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,oe,null),mi(this,oe);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(W),W.P=!0,ye(11))}}else ci(this.i,this.l,v,null),mi(this,v);Tt==4&&gn(this),this.o&&!this.K&&(Tt==4?Du(this.j,this):(this.o=!1,fi(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),gn(this),wn(this)}}}catch{}finally{}};function Yh(u){if(!vu(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const A=m.length,L=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<A;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(L&&j==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function vu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Eu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?ze:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?ze:(m=m.slice(A,A+v),u.C=A+v,m)))}Hn.prototype.cancel=function(){this.K=!0,gn(this)};function fi(u){u.T=Date.now()+u.H,ca(u,u.H)}function ca(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(y(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(oi(),ye(17)),gn(this),this.m=2,wn(this)):ca(this,this.T-u)};function wn(u){u.j.I==0||u.K||Du(u.j,u)}function gn(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Do(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ya(v),bs(v);else break t;Rr(v),ye(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(y(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((u.L||v.g==u)&&ya(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const oe=jt[0];if(!(oe<=v.K))if(v.K=oe,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const Cn=jt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const Si=jt[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Yn=jt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xn=u.g;if(Xn){const Ir=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var j=A.h;j.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(xo(j,j.h),j.h=null))}if(A.G){const va=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(A.wa=va,Gt(A.J,A.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var W=u;if(A.na=Vu(A,A.L?A.ba:null,A.W),W.L){zo(A.h,W);var Tt=W,de=A.O;de&&(Tt.H=de),Tt.D&&(di(Tt),fi(Tt)),A.g=W}else Iu(A);v.i.length>0&&Ti(v)}else jt[0]!="stop"&&jt[0]!="close"||Ai(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Ai(v,7):Fo(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}oi(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function Vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xo(u,m){u.g?u.g.add(m):u.h=m}function zo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Uo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,j=null;A>=0?(L=u[v].substring(0,A),j=u[v].substring(A+1)):L=u[v],m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,_s(this,u.u),this.h=u.h,Lo(this,wu(u.i)),this.m=u.m):u&&(m=String(u).match(Tu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),_s(this,m[4]),this.h=_i(m[5]||"",!0),Lo(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,fa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,fa,!0),"@"),u.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Er(v,v.charAt(0)=="/"?Po:Au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Er(v,Su)),u.join("")},pn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)_s(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let W=0;W<L.length;){const Tt=L[W++];Tt=="."?A&&W==L.length&&j.push(""):Tt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&W==L.length&&j.push("")):(j.push(Tt),A=!0)}A=j.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?Lo(m,wu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new pn(u)}function Ue(u,m,v){u.j=v?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function _s(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Lo(u,m,v){m instanceof vs?(u.i=m,ma(u.i,u.l)):(v||(m=Er(m,ys)),u.i=new vs(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function vr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,an),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fa=/[#\/\?@]/g,Au=/[#\?:]/g,Po=/[#\?]/g,ys=/[#\?@]/g,Su=/#/g;function vs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&ha(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=vs.prototype,s.add=function(u,m){on(this),this.i=null,u=Es(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function bu(u,m){on(u),m=Es(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ko(u,m){return on(u),m=Es(u,m),u.g.has(m)}s.forEach=function(u,m){on(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function qo(u,m){on(u);let v=[];if(typeof m=="string")ko(u,m)&&(v=v.concat(u.g.get(Es(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return on(this),this.i=null,u=Es(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=qo(this,u),u.length>0?String(u[0]):m):m};function da(u,m,v){bu(u,m),v.length>0&&(u.i=null,u.g.set(Es(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Li(v);v=qo(this,v);for(let j=0;j<v.length;j++){let W=L;v[j]!==""&&(W+="="+Li(v[j])),u.push(W)}}return this.i=u.join("&")};function wu(u){const m=new vs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Es(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ma(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(bu(this,A),da(this,L,v))},u)),u.j=m}function Qn(u,m){const v=new Bn;if(d.Image){const A=new Image;A.onload=T(Rn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Rn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Rn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Rn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function jo(u,m){const v=new Bn,A=new AbortController,L=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(L),j.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function Ts(){this.g=new fu}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(yi,du),yi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Tr,_e),s=Tr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?As(this):Gn(this),this.readyState==3&&ga(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,As(this))},s.Na=function(u){this.g&&(this.response=u,As(this))},s.ga=function(){this.g&&As(this)};function As(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return Lt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=In(v),typeof u=="string"?v!=null&&Li(v):Gt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xt,_e);var vi=/^https?$/i,Bo=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Sr(this,j);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bo,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of v)this.g.setRequestHeader(j,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){Sr(this,j)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ho(u),Pi(u)}function Ho(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Pi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},s.Xa=function(){br(this)};function br(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=j===0){let W=String(u.D).match(Tu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),A=!vi.test(W?W.toLowerCase():"")}v=A}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var L=Kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ho(u)}}finally{Pi(u)}}}}function Pi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Qh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=yu(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[L]||[];m[L]=j,j.push(v)}Qt(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ss(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(u&&u.concurrentRequestLimit),this.Ba=new Ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ss.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){ye(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Vu(this,null,this.W),Ti(this)};function Fo(u){if(pa(u),u.I==3){var m=u.V++,v=Te(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),wr(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=vr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}Ou(u)}function bs(u){u.g&&(Go(u),u.g.cancel(),u.g=null)}function pa(u){bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!Mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ft||S(),Mt||(Ft(),Mt=!0),C.add(m,u),u.D=0}}function _a(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(y(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Hn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=M(j),it(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Ru(this,L,m),v=Te(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),wr(this,v),j&&(this.R?m="headers="+Li(In(j))+"&"+m:this.u&&Ar(v,this.u,j)),xo(this.h,L),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),L.U=!0,hi(L,v,null)):hi(L,v,m),this.I=2}}else this.I==3&&(u?Qo(this,u):this.i.length==0||Mo(this.h)||Qo(this))};function Qo(u,m){var v;m?v=m.l:v=u.V++;const A=Te(u.J);Gt(A,"SID",u.M),Gt(A,"RID",v),Gt(A,"AID",u.K),wr(u,A),u.u&&u.o&&Ar(A,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ru(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xo(u.h,v),hi(v,A,m)}function wr(u,m){u.H&&Lt(u.H,function(v,A){Gt(m,A,v)}),u.l&&Lt({},function(v,A){Gt(m,A,v)})}function Ru(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const de=["count="+v];Tt==-1?v>0?(Tt=L[0].g,de.push("ofs="+Tt)):Tt=0:de.push("ofs="+Tt);let jt=!0;for(let oe=0;oe<v;oe++){var j=L[oe].g;const Cn=L[oe].map;if(j-=Tt,j<0)Tt=Math.max(0,L[oe].g-100),jt=!1;else try{j="req"+j+"_"||"";try{var W=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Si,Yn]of W){let Xn=Yn;g(Yn)&&(Xn=ps(Yn)),de.push(j+Si+"="+encodeURIComponent(Xn))}}catch(Si){throw de.push(j+"type="+encodeURIComponent("_badmap")),Si}}catch{A&&A(Cn)}}if(jt){W=de.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function Iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ft||S(),Mt||(Ft(),Mt=!0),C.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(y(u.Da,u),Nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),bs(this),Cu(this))};function Go(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Cu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=vr(Te(m)),v.u=null,v.R=!0,ua(v,u)}s.Va=function(){this.C!=null&&(this.C=null,bs(this),Rr(this),ye(19))};function ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,m){var v=null;if(u.g==m){ya(u),Go(u),u.g=null;var A=2}else if(pi(u.h,m))v=m.G,zo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=la(),Ve(A,new li(A,v)),Ti(u)}else Iu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&_a(u,m)||A==2&&Rr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const L=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(A,"https"),vr(A),L?Qn(A.toString(),v):jo(A.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),Ou(u),pa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Ou(u){if(u.I=0,u.ja=[],u.l){const m=Uo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Vu(u,m,v){var A=v instanceof pn?Te(v):new pn(v);if(A.g!="")m&&(A.g=m+"."+A.g),_s(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const j=new pn(null);A&&Ue(j,A),m&&(j.g=m),L&&_s(j,L),v&&(j.h=v),A=j}return v=u.G,m=u.wa,v&&m&&Gt(A,v,m),Gt(A,"VER",u.ka),wr(u,A),A}function Mu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new yi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ws(){}ws.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new Ss(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}b(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Fo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ps(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&Ti(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,en.Z.N.call(this)};function zu(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(zu,qe);function Uu(){bn.call(this),this.status=1}b(Uu,bn);function qi(u){this.g=u}b(qi,xu),qi.prototype.ra=function(){Ve(this.g,"a")},qi.prototype.qa=function(u){Ve(this.g,new zu(u))},qi.prototype.pa=function(u){Ve(this.g,new Uu)},qi.prototype.oa=function(){Ve(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,nT=function(){return new ws},eT=function(){return la()},tT=fe,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Gc=_r,No.COMPLETE="complete",WE=No,mu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,xl=mu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,$E=Xt}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const Ev="@firebase/firestore",Tv="4.9.2";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let _o="12.3.0";const Zr=new zm("@firebase/firestore");function Xa(){return Zr.logLevel}function rt(s,...t){if(Zr.logLevel<=Nt.DEBUG){const i=t.map(km);Zr.debug(`Firestore (${_o}): ${s}`,...i)}}function us(s,...t){if(Zr.logLevel<=Nt.ERROR){const i=t.map(km);Zr.error(`Firestore (${_o}): ${s}`,...i)}}function ao(s,...t){if(Zr.logLevel<=Nt.WARN){const i=t.map(km);Zr.warn(`Firestore (${_o}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,iT(s,r,i)}function iT(s,t,i){let r=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw us(r),new Error(r)}function Ht(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||iT(t,l,r)}function Et(s,t){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ds{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class sT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Bb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class Hb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Fb{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new as;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new as,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new as)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new sT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class Qb{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gb{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new Qb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const r=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Yb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class qm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Yb(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Ot(s,t){return s<t?-1:s>t?1:0}function dm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return tm(l)===tm(c)?Ot(l,c):tm(l)?1:-1}return Ot(s.length,t.length)}const Xb=55296,Zb=57343;function tm(s){const t=s.charCodeAt(0);return t>=Xb&&t<=Zb}function oo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const Sv="__name__";class Di{constructor(t,i,r){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&gt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Di.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const r=Di.isNumericId(t),l=Di.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Di.extractNumericId(t).compare(Di.extractNumericId(i)):dm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ir.fromString(t.substring(4,t.length-2))}}class ee extends Di{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const Jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Di{construct(t,i,r){return new Ke(t,i,r)}static isValidIdentifier(t){return Jb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sv}static keyField(){return new Ke([Sv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(i)}static emptyPath(){return new Ke([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ee.fromString(t))}static fromName(t){return new ct(ee.fromString(t).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ee(t.slice()))}}function rT(s,t,i){if(!i)throw new st(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function $b(s,t,i,r){if(t===!0&&r===!0)throw new st(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function bv(s){if(!ct.isDocumentKey(s))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function wv(s){if(ct.isDocumentKey(s))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function aT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function bh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function cs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bh(s);throw new st(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ce(s,t){const i={typeString:s};return t&&(i.value=t),i}function tu(s,t){if(!aT(s))throw new st(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new st(X.INVALID_ARGUMENT,i);return!0}const Rv=-62135596800,Iv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Iv);return new se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Rv)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new se(0,0))}static max(){return new yt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function Wb(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new rr(l,ct.empty(),t)}function tw(s){return new rr(s.readTime,s.key,Ql)}class rr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new rr(yt.min(),ct.empty(),Ql)}static max(){return new rr(yt.max(),ct.empty(),Ql)}}function ew(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}const nw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function yo(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==nw)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,r)=>{i(t)}))}static reject(t){return new Z(((i,r)=>{r(t)}))}static waitFor(t){return new Z(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new Z(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++g,g===c&&r(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new Z(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function sw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vo(s){return s.name==="IndexedDbTransactionError"}class wh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}wh.ce=-1;const jm=-1;function Rh(s){return s==null}function sh(s){return s===0&&1/s==-1/0}function rw(s){return typeof s=="number"&&Number.isInteger(s)&&!sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const oT="";function aw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Cv(t)),t=ow(s.get(i),t);return Cv(t)}function ow(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case oT:i+="";break;default:i+=c}}return i}function Cv(s){return s+oT+""}function Dv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ta(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function lT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jc(this.root,t,this.comparator,!0)}}class jc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(t){return new Nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class Nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new ei([])}unionWith(t){let i=new xe(Ke.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ei(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class uT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new uT("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const lw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const i=lw.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pe(s.seconds),nanos:pe(s.nanos)}}function pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function or(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const cT="server_timestamp",hT="__type__",fT="__previous_value__",dT="__local_write_time__";function Bm(s){return(s?.mapValue?.fields||{})[hT]?.stringValue===cT}function Ih(s){const t=s.mapValue.fields[fT];return Bm(t)?Ih(t):t}function Gl(s){const t=ar(s.mapValue.fields[dT].timestampValue);return new se(t.seconds,t.nanos)}class uw{constructor(t,i,r,l,c,d,g,_,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const rh="(default)";class Kl{constructor(t,i){this.projectId=t,this.database=i||rh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof Kl&&t.projectId===this.projectId&&t.database===this.database}}const mT="__type__",cw="__max__",Bc={mapValue:{}},gT="__vector__",ah="value";function lr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Bm(s)?4:fw(s)?9007199254740991:hw(s)?10:11:gt(28295,{value:s})}function Ui(s,t){if(s===t)return!0;const i=lr(s);if(i!==lr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Gl(s).isEqual(Gl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ar(l.timestampValue),g=ar(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return or(l.bytesValue).isEqual(or(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),g=pe(c.doubleValue);return d===g?sh(d)===sh(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return oo(s.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Dv(d)!==Dv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ui(d[_],g[_])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Yl(s,t){return(s.values||[]).find((i=>Ui(i,t)))!==void 0}function lo(s,t){if(s===t)return 0;const i=lr(s),r=lr(t);if(i!==r)return Ot(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=pe(c.integerValue||c.doubleValue),_=pe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return Ov(s.timestampValue,t.timestampValue);case 4:return Ov(Gl(s),Gl(t));case 5:return dm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=or(c),_=or(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const T=Ot(g[y],_[y]);if(T!==0)return T}return Ot(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ot(pe(c.latitude),pe(d.latitude));return g!==0?g:Ot(pe(c.longitude),pe(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Vv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[ah]?.arrayValue,T=_[ah]?.arrayValue,b=Ot(y?.values?.length||0,T?.values?.length||0);return b!==0?b:Vv(y,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Bc.mapValue&&d===Bc.mapValue)return 0;if(c===Bc.mapValue)return 1;if(d===Bc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let b=0;b<_.length&&b<T.length;++b){const O=dm(_[b],T[b]);if(O!==0)return O;const H=lo(g[_[b]],y[T[b]]);if(H!==0)return H}return Ot(_.length,T.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Ov(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=ar(s),r=ar(t),l=Ot(i.seconds,r.seconds);return l!==0?l:Ot(i.nanos,r.nanos)}function Vv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=lo(i[l],r[l]);if(c)return c}return Ot(i.length,r.length)}function uo(s){return mm(s)}function mm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=ar(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return or(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=mm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${mm(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function Kc(s){switch(lr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ih(s);return t?16+Kc(t):16;case 5:return 2*s.stringValue.length;case 6:return or(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Kc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ta(r.fields,((c,d)=>{l+=c.length+Kc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function Mv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function gm(s){return!!s&&"integerValue"in s}function Hm(s){return!!s&&"arrayValue"in s}function xv(s){return!!s&&"nullValue"in s}function zv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function hw(s){return(s?.mapValue?.fields||{})[mT]?.stringValue===gT}function kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ta(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=kl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=kl(s.arrayValue.values[i]);return t}return{...s}}function fw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===cw}class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Yc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=kl(i)}setAll(t){let i=Ke.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=kl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){ta(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Pn(kl(this.value))}}function pT(s){const t=[];return ta(s.fields,((i,r)=>{const l=new Ke([i]);if(Yc(r)){const c=pT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new ei(t)}class $e{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,yt.min(),yt.min(),yt.min(),Pn.empty(),0)}static newFoundDocument(t,i,r,l){return new $e(t,1,i,yt.min(),r,l,0)}static newNoDocument(t,i){return new $e(t,2,i,yt.min(),yt.min(),Pn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,yt.min(),yt.min(),Pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(t,i){this.position=t,this.inclusive=i}}function Uv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=lo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ui(s.position[i],t.position[i]))return!1;return!0}class lh{constructor(t,i="asc"){this.field=t,this.dir=i}}function dw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class _T{}class Ie extends _T{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new gw(t,i,r):i==="array-contains"?new yw(t,r):i==="in"?new vw(t,r):i==="not-in"?new Ew(t,r):i==="array-contains-any"?new Tw(t,r):new Ie(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new pw(t,r):new _w(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(lo(i,this.value)):i!==null&&lr(this.value)===lr(i)&&this.matchesComparison(lo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends _T{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new si(t,i)}matches(t){return yT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yT(s){return s.op==="and"}function vT(s){return mw(s)&&yT(s)}function mw(s){for(const t of s.filters)if(t instanceof si)return!1;return!0}function pm(s){if(s instanceof Ie)return s.field.canonicalString()+s.op.toString()+uo(s.value);if(vT(s))return s.filters.map((t=>pm(t))).join(",");{const t=s.filters.map((i=>pm(i))).join(",");return`${s.op}(${t})`}}function ET(s,t){return s instanceof Ie?(function(r,l){return l instanceof Ie&&r.op===l.op&&r.field.isEqual(l.field)&&Ui(r.value,l.value)})(s,t):s instanceof si?(function(r,l){return l instanceof si&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&ET(d,l.filters[g])),!0):!1})(s,t):void gt(19439)}function TT(s){return s instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${uo(i.value)}`})(s):s instanceof si?(function(i){return i.op.toString()+" {"+i.getFilters().map(TT).join(" ,")+"}"})(s):"Filter"}class gw extends Ie{constructor(t,i,r){super(t,i,r),this.key=ct.fromName(r.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class pw extends Ie{constructor(t,i){super(t,"in",i),this.keys=AT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class _w extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=AT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function AT(s,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class yw extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&Yl(i.arrayValue,this.value)}}class vw extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class Ew extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class Tw extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}class Aw{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Pv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new Aw(s,t,i,r,l,c,d)}function Fm(s){const t=Et(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>pm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Rh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>uo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>uo(r))).join(",")),t.Te=i}return t.Te}function Qm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!dw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!ET(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Lv(s.startAt,t.startAt)&&Lv(s.endAt,t.endAt)}function _m(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class eu{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Sw(s,t,i,r,l,c,d,g){return new eu(s,t,i,r,l,c,d,g)}function Gm(s){return new eu(s)}function kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ST(s){return s.collectionGroup!==null}function ql(s){const t=Et(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new xe(Ke.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new lh(c,r))})),i.has(Ke.keyField().canonicalString())||t.Ie.push(new lh(Ke.keyField(),r))}return t.Ie}function Ni(s){const t=Et(s);return t.Ee||(t.Ee=bw(t,ql(s))),t.Ee}function bw(s,t){if(s.limitType==="F")return Pv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new lh(l.field,c)}));const i=s.endAt?new oh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new oh(s.startAt.position,s.startAt.inclusive):null;return Pv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function ym(s,t){const i=s.filters.concat([t]);return new eu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function vm(s,t,i){return new eu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Ch(s,t){return Qm(Ni(s),Ni(t))&&s.limitType===t.limitType}function bT(s){return`${Fm(Ni(s))}|lt:${s.limitType}`}function Za(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>TT(l))).join(", ")}]`),Rh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>uo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>uo(l))).join(",")),`Target(${r})`})(Ni(s))}; limitType=${s.limitType})`}function Dh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ct.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of ql(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=Uv(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,ql(r),l)||r.endAt&&!(function(d,g,_){const y=Uv(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,ql(r),l))})(s,t)}function ww(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function wT(s){return(t,i)=>{let r=!1;for(const l of ql(s)){const c=Rw(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Rw(s,t,i){const r=s.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?lo(_,y):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:s.dir})}}class ea{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ta(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return lT(this.inner)}size(){return this.innerSize}}const Iw=new ue(ct.comparator);function hs(){return Iw}const RT=new ue(ct.comparator);function zl(...s){let t=RT;for(const i of s)t=t.insert(i.key,i);return t}function IT(s){let t=RT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Gr(){return jl()}function CT(){return jl()}function jl(){return new ea((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Cw=new ue(ct.comparator),Dw=new xe(ct.comparator);function Vt(...s){let t=Dw;for(const i of s)t=t.add(i);return t}const Nw=new xe(Ot);function Ow(){return Nw}function Km(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(t)?"-0":t}}function DT(s){return{integerValue:""+s}}function Vw(s,t){return rw(t)?DT(t):Km(s,t)}class Nh{constructor(){this._=void 0}}function Mw(s,t,i){return s instanceof uh?(function(l,c){const d={fields:{[hT]:{stringValue:cT},[dT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Bm(c)&&(c=Ih(c)),c&&(d.fields[fT]=c),{mapValue:d}})(i,t):s instanceof Xl?OT(s,t):s instanceof Zl?VT(s,t):(function(l,c){const d=NT(l,c),g=qv(d)+qv(l.Ae);return gm(d)&&gm(l.Ae)?DT(g):Km(l.serializer,g)})(s,t)}function xw(s,t,i){return s instanceof Xl?OT(s,t):s instanceof Zl?VT(s,t):i}function NT(s,t){return s instanceof ch?(function(r){return gm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class uh extends Nh{}class Xl extends Nh{constructor(t){super(),this.elements=t}}function OT(s,t){const i=MT(t);for(const r of s.elements)i.some((l=>Ui(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Zl extends Nh{constructor(t){super(),this.elements=t}}function VT(s,t){let i=MT(t);for(const r of s.elements)i=i.filter((l=>!Ui(l,r)));return{arrayValue:{values:i}}}class ch extends Nh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function qv(s){return pe(s.integerValue||s.doubleValue)}function MT(s){return Hm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function zw(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Xl&&l instanceof Xl||r instanceof Zl&&l instanceof Zl?oo(r.elements,l.elements,Ui):r instanceof ch&&l instanceof ch?Ui(r.Ae,l.Ae):r instanceof uh&&l instanceof uh})(s.transform,t.transform)}class Uw{constructor(t,i){this.version=t,this.transformResults=i}}class ii{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Oh{}function xT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Ym(s.key,ii.none()):new nu(s.key,s.data,ii.none());{const i=s.data,r=Pn.empty();let l=new xe(Ke.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new na(s.key,r,new ei(l.toArray()),ii.none())}}function Lw(s,t,i){s instanceof nu?(function(l,c,d){const g=l.value.clone(),_=Bv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof na?(function(l,c,d){if(!Xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Bv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(zT(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Bl(s,t,i,r){return s instanceof nu?(function(c,d,g,_){if(!Xc(c.precondition,d))return g;const y=c.value.clone(),T=Hv(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof na?(function(c,d,g,_){if(!Xc(c.precondition,d))return g;const y=Hv(c.fieldTransforms,_,d),T=d.data;return T.setAll(zT(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(c,d,g){return Xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function Pw(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=NT(r.transform,l||null);c!=null&&(i===null&&(i=Pn.empty()),i.set(r.field,c))}return i||null}function jv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&oo(r,l,((c,d)=>zw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class nu extends Oh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class na extends Oh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Bv(s,t,i){const r=new Map;Ht(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,xw(d,g,i[l]))}return r}function Hv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Mw(c,d,t))}return r}class Ym extends Oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kw extends Oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Lw(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Bl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Bl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=CT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=xT(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,((i,r)=>jv(i,r)))&&oo(this.baseMutations,t.baseMutations,((i,r)=>jv(i,r)))}}class Xm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Ht(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Cw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Xm(t,i,r,l)}}class jw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Bw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Ut;function Hw(s){switch(s){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function UT(s){if(s===void 0)return us("GRPC error has no .code"),X.UNKNOWN;switch(s){case Re.OK:return X.OK;case Re.CANCELLED:return X.CANCELLED;case Re.UNKNOWN:return X.UNKNOWN;case Re.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Re.INTERNAL:return X.INTERNAL;case Re.UNAVAILABLE:return X.UNAVAILABLE;case Re.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Re.NOT_FOUND:return X.NOT_FOUND;case Re.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Re.ABORTED:return X.ABORTED;case Re.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Re.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:s})}}(Ut=Re||(Re={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function Fw(){return new TextEncoder}const Qw=new ir([4294967295,4294967295],0);function Fv(s){const t=Fw().encode(s),i=new JE;return i.update(t),new Uint8Array(i.digest())}function Qv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ir([i,r],0),new ir([l,c],0)]}class Zm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ul(`Invalid padding: ${i}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ir.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(ir.fromNumber(r)));return l.compare(Qw)===1&&(l=new ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Fv(t),[r,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Zm(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Fv(t),[r,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Vh(yt.min(),l,new ue(Ot),hs(),Vt())}}class iu{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new iu(r,i,Vt(),Vt(),Vt())}}class Zc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class LT{constructor(t,i){this.targetId=t,this.Ce=i}}class PT{constructor(t,i,r=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Gv{constructor(){this.ve=0,this.Fe=Kv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:gt(38017,{changeType:c})}})),new iu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Kv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Gw{constructor(t){this.Ge=t,this.ze=new Map,this.je=hs(),this.Je=Hc(),this.He=Hc(),this.Ye=new ue(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(_m(c))if(r===0){const d=new ct(c.path);this.et(i,d,$e.newNoDocument(d,yt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=or(r).toUint8Array()}catch(_){if(_ instanceof uT)return ao("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Zm(d,l,c)}catch(_){return ao(_ instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&_m(g.target)){const _=new ct(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,$e.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Vt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Vh(t,i,this.Ye,this.je,r);return this.je=hs(),this.Je=Hc(),this.He=Hc(),this.Ye=new ue(Ot),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Gv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new xe(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new xe(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Gv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Hc(){return new ue(ct.comparator)}function Kv(){return new ue(ct.comparator)}const Kw={asc:"ASCENDING",desc:"DESCENDING"},Yw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xw={and:"AND",or:"OR"};class Zw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Em(s,t){return s.useProto3Json||Rh(t)?t:{value:t}}function hh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Jw(s,t){return hh(s,t.toTimestamp())}function Oi(s){return Ht(!!s,49232),yt.fromTimestamp((function(i){const r=ar(i);return new se(r.seconds,r.nanos)})(s))}function Jm(s,t){return Tm(s,t).canonicalString()}function Tm(s,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function qT(s){const t=ee.fromString(s);return Ht(QT(t),10190,{key:t.toString()}),t}function Am(s,t){return Jm(s.databaseId,t.path)}function em(s,t){const i=qT(t);if(i.get(1)!==s.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(BT(i))}function jT(s,t){return Jm(s.databaseId,t)}function $w(s){const t=qT(s);return t.length===4?ee.emptyPath():BT(t)}function Sm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function BT(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Yv(s,t,i){return{name:Am(s,t),fields:i.value.mapValue.fields}}function Ww(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?X.UNKNOWN:UT(y.code);return new st(T,y.message||"")})(d);i=new PT(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=em(s,r.document.name),c=Oi(r.document.updateTime),d=r.document.createTime?Oi(r.document.createTime):yt.min(),g=new Pn({mapValue:{fields:r.document.fields}}),_=$e.newFoundDocument(l,c,d,g),y=r.targetIds||[],T=r.removedTargetIds||[];i=new Zc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=em(s,r.document),c=r.readTime?Oi(r.readTime):yt.min(),d=$e.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Zc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=em(s,r.document),c=r.removedTargetIds||[];i=new Zc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Bw(l,c),g=r.targetId;i=new LT(g,d)}}return i}function tR(s,t){let i;if(t instanceof nu)i={update:Yv(s,t.key,t.value)};else if(t instanceof Ym)i={delete:Am(s,t.key)};else if(t instanceof na)i={update:Yv(s,t.key,t.data),updateMask:uR(t.fieldMask)};else{if(!(t instanceof kw))return gt(16599,{Vt:t.type});i={verify:Am(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ch)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Jw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function eR(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Oi(l.updateTime):Oi(c);return d.isEqual(yt.min())&&(d=Oi(c)),new Uw(d,l.transformResults||[])})(i,t)))):[]}function nR(s,t){return{documents:[jT(s,t.path)]}}function iR(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=jT(s,l);const c=(function(y){if(y.length!==0)return FT(si.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(O){return{field:Ja(O.field),direction:aR(O.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Em(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function sR(s){let t=$w(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ht(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(b){const O=HT(b);return O instanceof si&&vT(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((O=>(function($){return new lh($a($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let O;return O=typeof b=="object"?b.value:b,Rh(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(b){const O=!!b.before,H=b.values||[];return new oh(H,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const O=!b.before,H=b.values||[];return new oh(H,O)})(i.endAt)),Sw(t,l,d,c,g,"F",_,y)}function rR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function HT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=$a(i.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ie.create($a(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return si.create(i.compositeFilter.filters.map((r=>HT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function aR(s){return Kw[s]}function oR(s){return Yw[s]}function lR(s){return Xw[s]}function Ja(s){return{fieldPath:s.canonicalString()}}function $a(s){return Ke.fromServerFormat(s.fieldPath)}function FT(s){return s instanceof Ie?(function(i){if(i.op==="=="){if(zv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(xv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(zv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(xv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:oR(i.op),value:i.value}}})(s):s instanceof si?(function(i){const r=i.getFilters().map((l=>FT(l)));return r.length===1?r[0]:{compositeFilter:{op:lR(i.op),filters:r}}})(s):gt(54877,{filter:s})}function uR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function QT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ws{constructor(t,i,r,l,c=yt.min(),d=yt.min(),g=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Ws(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class cR{constructor(t){this.yt=t}}function hR(s){const t=sR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vm(t,t.limit,"L"):t}class fR{constructor(){this.Cn=new dR}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(rr.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class dR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new xe(ee.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new xe(ee.comparator)).toArray()}}const Xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GT=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(GT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class co{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}const Zv="LruGarbageCollector",mR=1048576;function Jv([s,t],[i,r]){const l=Ot(s,i);return l===0?Ot(t,r):l}class gR{constructor(t){this.Ir=t,this.buffer=new xe(Jv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Jv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vo(i)?rt(Zv,"Ignoring IndexedDB error during garbage collection: ",i):await yo(i)}await this.Vr(3e5)}))}}class _R{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(wh.ce);const r=new gR(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Xv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,g=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),Xa()<=Nt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function yR(s,t){return new _R(s,t)}class vR{constructor(){this.changes=new ea((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ER{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class TR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Bl(r.mutation,l,ei.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Vt()){const l=Gr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=zl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Gr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Vt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=hs();const d=jl(),g=(function(){return jl()})();return i.forEach(((_,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof na)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Bl(T.mutation,y,T.mutation.getFieldMask(),se.now())):d.set(y.key,ei.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new ER(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=jl();let l=new ue(((d,g)=>d-g)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=r.get(_)||ei.empty();T=g.applyToLocalView(y,T),r.set(_,T);const b=(l.get(g.batchId)||Vt()).add(_);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,T=_.value,b=CT();T.forEach((O=>{if(!c.has(O)){const H=xT(i.get(O),r.get(O));H!==null&&b.set(O,H),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ST(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Z.resolve(Gr());let g=Ql,_=c;return d.next((y=>Z.forEach(y,((T,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((O=>{_=_.insert(T,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Vt()))).next((T=>({batchId:g,changes:IT(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((r=>{let l=zl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(_=>{const y=(function(b,O){return new eu(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((T=>{T.forEach(((b,O)=>{d=d.insert(b,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,$e.newInvalidDocument(T)))}));let g=zl();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Bl(T.mutation,y,ei.empty(),se.now()),Dh(i,y)&&(g=g.insert(_,y))})),g}))}}class AR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:hR(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),Z.resolve()}}class SR{constructor(){this.overlays=new ue(ct.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Gr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=Gr(),c=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new ue(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=Gr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Gr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return Z.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new jw(i,r));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class bR{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class $m{constructor(){this.Qr=new xe(Pe.$r),this.Ur=new xe(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Pe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ct(new ee([])),r=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new ee([])),r=new Pe(i,t),l=new Pe(i,t+1);let c=Vt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class wR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Pe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qw(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new xe(Ot);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ct.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ct(c),0);let g=new xe(Ot);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Pe(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class RR{constructor(t){this.ri=t,this.docs=(function(){return new ue(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let r=hs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=hs();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||ew(tw(T),r)<=0||(l.has(T.key)||Dh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,r,l){gt(9500)}ii(t,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new IR(this)}getSize(t){return Z.resolve(this.size)}}class IR extends vR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class CR{constructor(t){this.persistence=t,this.si=new ea((i=>Fm(i)),Qm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=co.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new co(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class KT{constructor(t,i){this.ui={},this.overlays={},this.ci=new wh(0),this.li=!1,this.li=!0,this.hi=new bR,this.referenceDelegate=t(this),this.Pi=new CR(this),this.indexManager=new fR,this.remoteDocumentCache=(function(l){return new RR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new cR(i),this.Ii=new AR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new SR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new wR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){rt("MemoryPersistence","Starting transaction:",t);const l=new DR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class DR extends iw{constructor(t){super(),this.currentSequenceNumber=t}}class Wm{constructor(t){this.persistence=t,this.Ri=new $m,this.Vi=null}static mi(t){return new Wm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=ct.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class fh{constructor(t,i){this.persistence=t,this.pi=new ea((r=>aw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=yR(this,i)}static mi(t,i){return new fh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Kc(t.data.value)),i}br(t,i,r){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class tg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tg(t,i.fromCache,r,l)}}class NR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class OR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return A1()?8:sw(We())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new NR;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Xa()<=Nt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Xa()<=Nt.DEBUG&&rt("QueryEngine","Query:",Za(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Xa()<=Nt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(i))):Z.resolve())}ys(t,i){if(kv(i))return Z.resolve(null);let r=Ni(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=vm(i,null,"F"),r=Ni(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,vm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return kv(i)||l.isEqual(yt.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(Xa()<=Nt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Za(i)),this.vs(t,d,i,Wb(l,Ql)).next((g=>g)))}))}Ds(t,i){let r=new xe(wT(t));return i.forEach(((l,c)=>{Dh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Xa()<=Nt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(t,i,rr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const eg="LocalStore",VR=3e8;class MR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Ot),this.xs=new ea((c=>Fm(c)),Qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function xR(s,t,i,r){return new MR(s,t,i,r)}async function YT(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Vt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function zR(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,T){const b=y.batch,O=b.keys();let H=Z.resolve();return O.forEach(($=>{H=H.next((()=>T.getEntry(_,$))).next((tt=>{const J=y.docVersions.get($);Ht(J!==null,48541),tt.version.compareTo(J)<0&&(b.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),T.addEntry(tt)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(_,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function XT(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function UR(s,t){const i=Et(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((T,b)=>{const O=l.get(b);if(!O)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,b))));let H=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(Ye.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,r)),l=l.insert(b,H),(function(tt,J,et){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=VR?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(O,H,T)&&g.push(i.Pi.updateTargetData(c,H))}));let _=hs(),y=Vt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(LR(c,d,t.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!r.isEqual(yt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function LR(s,t,i){let r=Vt(),l=Vt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=hs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(yt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):rt(eg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function PR(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function kR(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Ws(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function bm(s,t,i){const r=Et(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!vo(d))throw d;rt(eg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function $v(s,t,i){const r=Et(s);let l=yt.min(),c=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const b=Et(_),O=b.xs.get(T);return O!==void 0?Z.resolve(b.Ms.get(O)):b.Pi.getTargetData(y,T)})(r,d,Ni(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Vt()))).next((g=>(qR(r,ww(t),g),{documents:g,Qs:c})))))}function qR(s,t,i){let r=s.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class Wv{constructor(){this.activeTargetIds=Ow()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jR{constructor(){this.Mo=new Wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Wv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class BR{Oo(t){}shutdown(){}}const tE="ConnectivityMonitor";class eE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(tE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(tE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function wm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const nm="RestConnection",HR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=wm(),g=this.zo(t,i.toUriEncodedString());rt(nm,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),T=go(y);return this.Jo(t,g,_,r,T).then((b=>(rt(nm,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw ao(nm,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=HR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class QR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ze="WebChannelConnection";class GR extends FR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=wm();return new Promise(((g,_)=>{const y=new $E;y.setWithCredentials(!0),y.listenOnce(WE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const b=y.getResponseJson();rt(Ze,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Gc.TIMEOUT:rt(Ze,`RPC '${t}' ${d} timed out`),_(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const O=y.getStatus();if(rt(Ze,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const $=H?.error;if($&&$.status&&$.message){const tt=(function(et){const pt=et.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(pt)>=0?pt:X.UNKNOWN})($.status);_(new st(tt,$.message))}else _(new st(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new st(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Ze,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);rt(Ze,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,r,15)}))}T_(t,i,r){const l=wm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=nT(),g=eT(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const T=c.join("");rt(Ze,`Creating RPC '${t}' stream ${l}: ${T}`,_);const b=d.createWebChannel(T,_);this.I_(b);let O=!1,H=!1;const $=new QR({Yo:J=>{H?rt(Ze,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(O||(rt(Ze,`Opening RPC '${t}' stream ${l} transport.`),b.open(),O=!0),rt(Ze,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Zo:()=>b.close()}),tt=(J,et,pt)=>{J.listen(et,(ht=>{try{pt(ht)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return tt(b,xl.EventType.OPEN,(()=>{H||(rt(Ze,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),tt(b,xl.EventType.CLOSE,(()=>{H||(H=!0,rt(Ze,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(b))})),tt(b,xl.EventType.ERROR,(J=>{H||(H=!0,ao(Ze,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new st(X.UNAVAILABLE,"The operation could not be completed")))})),tt(b,xl.EventType.MESSAGE,(J=>{if(!H){const et=J.data[0];Ht(!!et,16349);const pt=et,ht=pt?.error||pt[0]?.error;if(ht){rt(Ze,`RPC '${t}' stream ${l} received error:`,ht);const Pt=ht.status;let Ft=(function(S){const w=Re[S];if(w!==void 0)return UT(w)})(Pt),Mt=ht.message;Ft===void 0&&(Ft=X.INTERNAL,Mt="Unknown error status: "+Pt+" with message "+ht.message),H=!0,$.a_(new st(Ft,Mt)),b.close()}else rt(Ze,`RPC '${t}' stream ${l} received:`,et),$.u_(et)}})),tt(g,tT.STAT_EVENT,(J=>{J.stat===fm.PROXY?rt(Ze,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===fm.NOPROXY&&rt(Ze,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function im(){return typeof document<"u"?document:null}function Mh(s){return new Zw(s,!0)}class ZT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nE="PersistentStream";class JT{constructor(t,i,r,l,c,d,g,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new st(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(nE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KR extends JT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Ww(this.serializer,t),r=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Oi(d.readTime):yt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Sm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=_m(_)?{documents:nR(c,_)}:{query:iR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=kT(c,d.resumeToken);const y=Em(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=hh(c,d.snapshotVersion.toTimestamp());const y=Em(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=rR(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Sm(this.serializer),i.removeTarget=t,this.q_(i)}}class YR extends JT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=eR(t.writeResults,t.commitTime),r=Oi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Sm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>tR(this.serializer,r)))};this.q_(i)}}class XR{}class ZR extends XR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Tm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(X.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Tm(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class JR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class $R{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ia(this)&&(rt(Jr,"Restarting streams for network reachability change."),await(async function(_){const y=Et(_);y.Ea.add(4),await su(y),y.Ra.set("Unknown"),y.Ea.delete(4),await xh(y)})(this))}))})),this.Ra=new JR(r,l)}}async function xh(s){if(ia(s))for(const t of s.da)await t(!0)}async function su(s){for(const t of s.da)await t(!1)}function $T(s,t){const i=Et(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),rg(i)?sg(i):Eo(i).O_()&&ig(i,t))}function ng(s,t){const i=Et(s),r=Eo(i);i.Ia.delete(t),r.O_()&&WT(i,t),i.Ia.size===0&&(r.O_()?r.L_():ia(i)&&i.Ra.set("Unknown"))}function ig(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Eo(s).Y_(t)}function WT(s,t){s.Va.Ue(t),Eo(s).Z_(t)}function sg(s){s.Va=new Gw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Eo(s).start(),s.Ra.ua()}function rg(s){return ia(s)&&!Eo(s).x_()&&s.Ia.size>0}function ia(s){return Et(s).Ea.size===0}function t0(s){s.Va=void 0}async function WR(s){s.Ra.set("Online")}async function tI(s){s.Ia.forEach(((t,i)=>{ig(s,t)}))}async function eI(s,t){t0(s),rg(s)?(s.Ra.ha(t),sg(s)):s.Ra.set("Unknown")}async function nI(s,t,i){if(s.Ra.set("Online"),t instanceof PT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){rt(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await dh(s,r)}else if(t instanceof Zc?s.Va.Ze(t):t instanceof LT?s.Va.st(t):s.Va.tt(t),!i.isEqual(yt.min()))try{const r=await XT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),WT(c,_);const b=new Ws(T.target,_,y,T.sequenceNumber);ig(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){rt(Jr,"Failed to raise snapshot:",r),await dh(s,r)}}async function dh(s,t,i){if(!vo(t))throw t;s.Ea.add(1),await su(s),s.Ra.set("Offline"),i||(i=()=>XT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(Jr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await xh(s)}))}function e0(s,t){return t().catch((i=>dh(s,i,t)))}async function zh(s){const t=Et(s),i=ur(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:jm;for(;iI(t);)try{const l=await PR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,sI(t,l)}catch(l){await dh(t,l)}n0(t)&&i0(t)}function iI(s){return ia(s)&&s.Ta.length<10}function sI(s,t){s.Ta.push(t);const i=ur(s);i.O_()&&i.X_&&i.ea(t.mutations)}function n0(s){return ia(s)&&!ur(s).x_()&&s.Ta.length>0}function i0(s){ur(s).start()}async function rI(s){ur(s).ra()}async function aI(s){const t=ur(s);for(const i of s.Ta)t.ea(i.mutations)}async function oI(s,t,i){const r=s.Ta.shift(),l=Xm.from(r,t,i);await e0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await zh(s)}async function lI(s,t){t&&ur(s).X_&&await(async function(r,l){if((function(d){return Hw(d)&&d!==X.ABORTED})(l.code)){const c=r.Ta.shift();ur(r).B_(),await e0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await zh(r)}})(s,t),n0(s)&&i0(s)}async function iE(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),rt(Jr,"RemoteStore received new credentials");const r=ia(i);i.Ea.add(3),await su(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await xh(i)}async function uI(s,t){const i=Et(s);t?(i.Ea.delete(2),await xh(i)):t||(i.Ea.add(2),await su(i),i.Ra.set("Unknown"))}function Eo(s){return s.ma||(s.ma=(function(i,r,l){const c=Et(i);return c.sa(),new KR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:WR.bind(null,s),t_:tI.bind(null,s),r_:eI.bind(null,s),H_:nI.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),rg(s)?sg(s):s.Ra.set("Unknown")):(await s.ma.stop(),t0(s))}))),s.ma}function ur(s){return s.fa||(s.fa=(function(i,r,l){const c=Et(i);return c.sa(),new YR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:rI.bind(null,s),r_:lI.bind(null,s),ta:aI.bind(null,s),na:oI.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ag{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new ag(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(s,t){if(us("AsyncQueue",`${t}: ${s}`),vo(s))return new st(X.UNAVAILABLE,`${t}: ${s}`);throw s}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=zl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new to;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class sE{constructor(){this.ga=new ue(ct.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class ho{constructor(t,i,r,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ho(t,i,to.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class cI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class hI{constructor(){this.queries=rE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Et(i),c=l.queries;l.queries=rE(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new st(X.ABORTED,"Firestore shutting down"))}}function rE(){return new ea((s=>bT(s)),Ch)}async function s0(s,t){const i=Et(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new cI,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=og(d,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&lg(i)}async function r0(s,t){const i=Et(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function fI(s,t){const i=Et(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&lg(i)}function dI(s,t,i){const r=Et(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function lg(s){s.Ca.forEach((t=>{t.next()}))}var Rm,aE;(aE=Rm||(Rm={})).Ma="default",aE.Cache="cache";class a0{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new ho(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rm.Cache}}class o0{constructor(t){this.key=t}}class l0{constructor(t){this.key=t}}class mI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=wT(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new sE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,b)=>{const O=l.get(T),H=Dh(this.query,b)?b:null,$=!!O&&this.mutatedKeys.has(O.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;O&&H?O.data.isEqual(H.data)?$!==tt&&(r.track({type:3,doc:H}),J=!0):this.su(O,H)||(r.track({type:2,doc:H}),J=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(g=!0)):!O&&H?(r.track({type:0,doc:H}),J=!0):O&&!H&&(r.track({type:1,doc:O}),J=!0,(_||y)&&(g=!0)),J&&(H?(d=d.add(H),c=tt?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,b)=>(function(H,$){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:J})}};return tt(H)-tt($)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new ho(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new l0(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new o0(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class gI{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class pI{constructor(t){this.key=t,this.hu=!1}}class _I{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ea((g=>bT(g)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new ue(ct.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yI(s,t,i=!0){const r=m0(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await u0(r,t,i,!0),l}async function vI(s,t){const i=m0(s);await u0(i,t,!0,!1)}async function u0(s,t,i,r){const l=await kR(s.localStore,Ni(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await EI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&$T(s.remoteStore,l),g}async function EI(s,t,i,r,l){s.pu=(b,O,H)=>(async function(tt,J,et,pt){let ht=J.view.ru(et);ht.Cs&&(ht=await $v(tt.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,ht))));const Pt=pt&&pt.targetChanges.get(J.targetId),Ft=pt&&pt.targetMismatches.get(J.targetId)!=null,Mt=J.view.applyChanges(ht,tt.isPrimaryClient,Pt,Ft);return lE(tt,J.targetId,Mt.au),Mt.snapshot})(s,b,O,H);const c=await $v(s.localStore,t,!0),d=new mI(t,c.Qs),g=d.ru(c.documents),_=iu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);lE(s,i,y.au);const T=new gI(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function TI(s,t,i){const r=Et(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Ch(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&ng(r.remoteStore,l.targetId),Im(r,l.targetId)})).catch(yo)):(Im(r,l.targetId),await bm(r.localStore,l.targetId,!0))}async function AI(s,t){const i=Et(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ng(i.remoteStore,r.targetId))}async function SI(s,t,i){const r=NI(s);try{const l=await(function(d,g){const _=Et(d),y=se.now(),T=g.reduce(((H,$)=>H.add($.key)),Vt());let b,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let $=hs(),tt=Vt();return _.Ns.getEntries(H,T).next((J=>{$=J,$.forEach(((et,pt)=>{pt.isValidDocument()||(tt=tt.add(et))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,$))).next((J=>{b=J;const et=[];for(const pt of g){const ht=Pw(pt,b.get(pt.key).overlayedDocument);ht!=null&&et.push(new na(pt.key,ht,pT(ht.value.mapValue),ii.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,et,g)})).next((J=>{O=J;const et=J.applyToLocalDocumentSet(b,tt);return _.documentOverlayCache.saveOverlays(H,J.batchId,et)}))})).then((()=>({batchId:O.batchId,changes:IT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ue(Ot)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await ru(r,l.changes),await zh(r.remoteStore)}catch(l){const c=og(l,"Failed to persist write");i.reject(c)}}async function c0(s,t){const i=Et(s);try{const r=await UR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await ru(i,r,t)}catch(r){await yo(r)}}function oE(s,t,i){const r=Et(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Et(d);_.onlineState=g;let y=!1;_.queries.forEach(((T,b)=>{for(const O of b.Sa)O.va(g)&&(y=!0)})),y&&lg(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bI(s,t,i){const r=Et(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ue(ct.comparator);d=d.insert(c,$e.newNoDocument(c,yt.min()));const g=Vt().add(c),_=new Vh(yt.min(),new Map,new ue(Ot),d,g);await c0(r,_),r.du=r.du.remove(c),r.Au.delete(t),cg(r)}else await bm(r.localStore,t,!1).then((()=>Im(r,t,i))).catch(yo)}async function wI(s,t){const i=Et(s),r=t.batch.batchId;try{const l=await zR(i.localStore,t);f0(i,r,null),h0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await ru(i,l)}catch(l){await yo(l)}}async function RI(s,t,i){const r=Et(s);try{const l=await(function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,g).next((b=>(Ht(b!==null,37113),T=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);f0(r,t,i),h0(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await ru(r,l)}catch(l){await yo(l)}}function h0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function f0(s,t,i){const r=Et(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Im(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||d0(s,r)}))}function d0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(ng(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),cg(s))}function lE(s,t,i){for(const r of i)r instanceof o0?(s.Ru.addReference(r.key,t),II(s,r)):r instanceof l0?(rt(ug,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||d0(s,r.key)):gt(19791,{wu:r})}function II(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(rt(ug,"New document in limbo: "+i),s.Eu.add(r),cg(s))}function cg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ct(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new pI(i)),s.du=s.du.insert(i,r),$T(s.remoteStore,new Ws(Ni(Gm(i.path)),r,"TargetPurposeLimboResolution",wh.ce))}}async function ru(s,t,i){const r=Et(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=tg.As(_.targetId,y);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const T=Et(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(y,(O=>Z.forEach(O.Es,(H=>T.persistence.referenceDelegate.addReference(b,O.targetId,H))).next((()=>Z.forEach(O.ds,(H=>T.persistence.referenceDelegate.removeReference(b,O.targetId,H)))))))))}catch(b){if(!vo(b))throw b;rt(eg,"Failed to update sequence numbers: "+b)}for(const b of y){const O=b.targetId;if(!b.fromCache){const H=T.Ms.get(O),$=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion($);T.Ms=T.Ms.insert(O,tt)}}})(r.localStore,c))}async function CI(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){rt(ug,"User change. New user:",t.toKey());const r=await YT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new st(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ru(i,r.Ls)}}function DI(s,t){const i=Et(s),r=i.Au.get(t);if(r&&r.hu)return Vt().add(r.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function m0(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=c0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bI.bind(null,t),t.Pu.H_=fI.bind(null,t.eventManager),t.Pu.yu=dI.bind(null,t.eventManager),t}function NI(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RI.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return xR(this.persistence,new OR,t.initialUser,this.serializer)}Cu(t){return new KT(Wm.mi,this.serializer)}Du(t){return new jR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class OI extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new KT((r=>fh.mi(r,i)),this.serializer)}}class Cm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CI.bind(null,this.syncEngine),await uI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hI})()}createDatastore(t){const i=Mh(t.databaseInfo.databaseId),r=(function(c){return new GR(c)})(t.databaseInfo);return(function(c,d,g,_){return new ZR(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new $R(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>oE(this.syncEngine,i,0)),(function(){return eE.v()?new eE:new BR})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,T){const b=new _I(l,c,d,g,_,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Et(i);rt(Jr,"RemoteStore shutting down."),r.Ea.add(5),await su(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class g0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const cr="FirestoreClient";class VI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{rt(cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(rt(cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=og(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function sm(s,t){s.asyncQueue.verifyOperationInProgress(),rt(cr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await YT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function uE(s,t){s.asyncQueue.verifyOperationInProgress();const i=await MI(s);rt(cr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>iE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>iE(t.remoteStore,l))),s._onlineComponents=t}async function MI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(cr,"Using user provided OfflineComponentProvider");try{await sm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ao("Error using user provided cache. Falling back to memory cache: "+i),await sm(s,new mh)}}else rt(cr,"Using default OfflineComponentProvider"),await sm(s,new OI(void 0));return s._offlineComponents}async function p0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(cr,"Using user provided OnlineComponentProvider"),await uE(s,s._uninitializedComponentsProvider._online)):(rt(cr,"Using default OnlineComponentProvider"),await uE(s,new Cm))),s._onlineComponents}function xI(s){return p0(s).then((t=>t.syncEngine))}async function _0(s){const t=await p0(s),i=t.eventManager;return i.onListen=yI.bind(null,t.syncEngine),i.onUnlisten=TI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=vI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=AI.bind(null,t.syncEngine),i}function zI(s,t,i={}){const r=new as;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const T=new g0({next:O=>{T.Nu(),d.enqueueAndForget((()=>r0(c,b)));const H=O.docs.has(g);!H&&O.fromCache?y.reject(new st(X.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&O.fromCache&&_&&_.source==="server"?y.reject(new st(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),b=new a0(Gm(g.path),T,{includeMetadataChanges:!0,qa:!0});return s0(c,b)})(await _0(s),s.asyncQueue,t,i,r))),r.promise}function UI(s,t,i={}){const r=new as;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const T=new g0({next:O=>{T.Nu(),d.enqueueAndForget((()=>r0(c,b))),O.fromCache&&_.source==="server"?y.reject(new st(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),b=new a0(g,T,{includeMetadataChanges:!0,qa:!0});return s0(c,b)})(await _0(s),s.asyncQueue,t,i,r))),r.promise}function y0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const cE=new Map;const v0="firestore.googleapis.com",hE=!0;class fE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v0,this.ssl=hE}else this.host=t.host,this.ssl=t.ssl??hE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mR)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$b("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Bb;switch(r.type){case"firstParty":return new Gb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=cE.get(i);r&&(rt("ComponentProvider","Removing Datastore"),cE.delete(i),r.terminate())})(this),Promise.resolve()}}function LI(s,t,i,r={}){s=cs(s,Uh);const l=go(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(FE(`https://${g}`),QE("Firestore",!0)),c.host!==v0&&c.host!==g&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!Yr(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Je.MOCK_USER;else{y=d1(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(b)}s._authCredentials=new Hb(new sT(y,T))}}class To{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new To(this.firestore,t,this._query)}}class De{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new De(this.firestore,t,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(tu(i,De._jsonSchema))return new De(t,r||null,new ct(ee.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ce("string",De._jsonSchemaVersion),referencePath:Ce("string")};class sr extends To{constructor(t,i,r){super(t,i,Gm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new De(this.firestore,null,new ct(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function fo(s,t,...i){if(s=mn(s),rT("collection","path",t),s instanceof Uh){const r=ee.fromString(t,...i);return wv(r),new sr(s,null,r)}{if(!(s instanceof De||s instanceof sr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...i));return wv(r),new sr(s.firestore,null,r)}}function Ao(s,t,...i){if(s=mn(s),arguments.length===1&&(t=qm.newId()),rT("doc","path",t),s instanceof Uh){const r=ee.fromString(t,...i);return bv(r),new De(s,null,new ct(r))}{if(!(s instanceof De||s instanceof sr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...i));return bv(r),new De(s.firestore,s instanceof sr?s.converter:null,new ct(r))}}const dE="AsyncQueue";class mE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZT(this,"async_queue_retry"),this._c=()=>{const r=im();r&&rt(dE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=im();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=im();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!vo(t))throw t;rt(dE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",gE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ag.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:gE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function gE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class So extends Uh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new mE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mE(t),this._firestoreClient=void 0,await t}}}function PI(s,t){const i=typeof s=="object"?s:YE(),r=typeof s=="string"?s:rh,l=Lm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=h1("firestore");c&&LI(l,...c)}return l}function hg(s){if(s._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||kI(s),s._firestoreClient}function kI(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new uw(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,y0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new VI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Ye.fromBase64String(t))}catch(i){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tu(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ce("string",kn._jsonSchemaVersion),bytes:Ce("string")};class fg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class E0{constructor(t){this._methodName=t}}class Vi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(tu(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ce("string",Vi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Mi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tu(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Mi(t.vectorValues);throw new st(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Ce("string",Mi._jsonSchemaVersion),vectorValues:Ce("object")};const qI=/^__.*__$/;class jI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new na(t,this.data,this.fieldMask,i,this.fieldTransforms):new nu(t,this.data,i,this.fieldTransforms)}}function T0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class dg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new dg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return gh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(T0(this.Ac)&&qI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class BI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Mh(t)}Cc(t,i,r,l=!1){return new dg({Ac:t,methodName:i,Dc:r,path:Ke.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mg(s){const t=s._freezeSettings(),i=Mh(s._databaseId);return new BI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function A0(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);w0("Data must be an object, but it was:",d,r);const g=S0(r,d);let _,y;if(c.merge)_=new ei(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const O=FI(t,b,i);if(!d.contains(O))throw new st(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);GI(T,O)||T.push(O)}_=new ei(T),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new jI(new Pn(g),_,y)}function HI(s,t,i,r=!1){return gg(i,s.Cc(r?4:3,t))}function gg(s,t){if(b0(s=mn(s)))return w0("Unsupported field value:",t,s),S0(s,t);if(s instanceof E0)return(function(r,l){if(!T0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=gg(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=se.fromDate(r);return{timestampValue:hh(l.serializer,c)}}if(r instanceof se){const c=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(l.serializer,c)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:kT(l.serializer,r._byteString)};if(r instanceof De){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Mi)return(function(d,g){return{mapValue:{fields:{[mT]:{stringValue:gT},[ah]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Km(g.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${bh(r)}`)})(s,t)}function S0(s,t){const i={};return lT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ta(s,((r,l)=>{const c=gg(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function b0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Vi||s instanceof kn||s instanceof De||s instanceof E0||s instanceof Mi)}function w0(s,t,i){if(!b0(i)||!aT(i)){const r=bh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function FI(s,t,i){if((t=mn(t))instanceof fg)return t._internalPath;if(typeof t=="string")return R0(s,t);throw gh("Field path arguments must be of type string or ",s,!1,void 0,i)}const QI=new RegExp("[~\\*/\\[\\]]");function R0(s,t,i){if(t.search(QI)>=0)throw gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new fg(...t.split("."))._internalPath}catch{throw gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function gh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new st(X.INVALID_ARGUMENT,g+s+_)}function GI(s,t){return s.some((i=>i.isEqual(t)))}class I0{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(pg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class KI extends I0{data(){return super.data()}}function pg(s,t){return typeof t=="string"?R0(s,t):t instanceof fg?t._internalPath:t._delegate._internalPath}function YI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class XI extends _g{}function ZI(s,t,...i){let r=[];t instanceof _g&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof yg)).length,g=c.filter((_=>_ instanceof Lh)).length;if(d>1||d>0&&g>0)throw new st(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Lh extends XI{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Lh(t,i,r)}_apply(t){const i=this._parse(t);return C0(t._query,i),new To(t.firestore,t.converter,ym(t._query,i))}_parse(t){const i=mg(t.firestore);return(function(c,d,g,_,y,T,b){let O;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){_E(b,T);const $=[];for(const tt of b)$.push(pE(_,c,tt));O={arrayValue:{values:$}}}else O=pE(_,c,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||_E(b,T),O=HI(g,d,b,T==="in"||T==="not-in");return Ie.create(y,T,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function JI(s,t,i){const r=t,l=pg("where",s);return Lh._create(l,r,i)}class yg extends _g{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new yg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:si.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const _ of g)C0(d,_),d=ym(d,_)})(t._query,i),new To(t.firestore,t.converter,ym(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pE(s,t,i){if(typeof(i=mn(i))=="string"){if(i==="")throw new st(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ST(t)&&i.indexOf("/")!==-1)throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ee.fromString(i));if(!ct.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mv(s,new ct(r))}if(i instanceof De)return Mv(s,i._key);throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(i)}.`)}function _E(s,t){if(!Array.isArray(s)||s.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function C0(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class $I{convertValue(t,i="none"){switch(lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return ta(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[ah].arrayValue?.values?.map((r=>pe(r.doubleValue)));return new Mi(i)}convertGeoPoint(t){return new Vi(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Ih(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Gl(t));default:return null}}convertTimestamp(t){const i=ar(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);Ht(QT(r),9688,{name:t});const l=new Kl(r.get(1),r.get(3)),c=new ct(r.popFirst(5));return l.isEqual(i)||us(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function D0(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Ll{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends I0{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(pg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Ce("string",Kr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Jc extends Kr{data(t={}){return super.data(t)}}class eo{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ll(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Jc(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ll(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ll(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:WI(g.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}function tC(s){s=cs(s,De);const t=cs(s.firestore,So);return zI(hg(t),s._key).then((i=>eC(t,s,i)))}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Ce("string",eo._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class N0 extends $I{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,i)}}function vg(s){s=cs(s,To);const t=cs(s.firestore,So),i=hg(t),r=new N0(t);return YI(s._query),UI(i,s._query).then((l=>new eo(t,r,s,l)))}function O0(s,t,i){s=cs(s,De);const r=cs(s.firestore,So),l=D0(s.converter,t);return Eg(r,[A0(mg(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ii.none())])}function V0(s){return Eg(cs(s.firestore,So),[new Ym(s._key,ii.none())])}function Dm(s,t){const i=cs(s.firestore,So),r=Ao(s),l=D0(s.converter,t);return Eg(i,[A0(mg(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ii.exists(!1))]).then((()=>r))}function Eg(s,t){return(function(r,l){const c=new as;return r.asyncQueue.enqueueAndForget((async()=>SI(await xI(r),l,c))),c.promise})(hg(s),t)}function eC(s,t,i){const r=i.docs.get(t._key),l=new N0(s);return new Kr(s,l,t._key,r,new Ll(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){_o=l})(po),ro(new Xr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new So(new Fb(r.getProvider("auth-internal")),new Kb(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),nr(Ev,Tv,t),nr(Ev,Tv,"esm2020")})();function M0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nC=M0,x0=new $l("auth","Firebase",M0());const ph=new zm("@firebase/auth");function iC(s,...t){ph.logLevel<=Nt.WARN&&ph.warn(`Auth (${po}): ${s}`,...t)}function $c(s,...t){ph.logLevel<=Nt.ERROR&&ph.error(`Auth (${po}): ${s}`,...t)}function ri(s,...t){throw Tg(s,...t)}function xi(s,...t){return Tg(s,...t)}function z0(s,t,i){const r={...nC(),[t]:i};return new $l("auth","Firebase",r).create(t,{appName:s.name})}function os(s){return z0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tg(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return x0.create(s,...t)}function mt(s,t,...i){if(!s)throw Tg(t,...i)}function ss(s){const t="INTERNAL ASSERTION FAILED: "+s;throw $c(t),new Error(t)}function fs(s,t){s||ss(t)}function Nm(){return typeof self<"u"&&self.location?.href||""}function sC(){return yE()==="http:"||yE()==="https:"}function yE(){return typeof self<"u"&&self.location?.protocol||null}function rC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sC()||v1()||"connection"in navigator)?navigator.onLine:!0}function aC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class au{constructor(t,i){this.shortDelay=t,this.longDelay=i,fs(i>t,"Short delay should be less than long delay!"),this.isMobile=p1()||E1()}get(){return rC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ag(s,t){fs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class U0{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uC=new au(3e4,6e4);function hr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ms(s,t,i,r,l={}){return L0(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Wl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return y1()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&go(s.emulatorConfig.host)&&(y.credentials="include"),U0.fetch()(await P0(s,s.config.apiHost,i,g),y)})}async function L0(s,t,i){s._canInitEmulator=!1;const r={...oC,...t};try{const l=new hC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Qc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Qc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Qc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw z0(s,T,y);ri(s,T)}}catch(l){if(l instanceof ds)throw l;ri(s,"network-request-failed",{message:String(l)})}}async function ou(s,t,i,r,l={}){const c=await ms(s,t,i,r,l);return"mfaPendingCredential"in c&&ri(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function P0(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Ag(s.config,l):`${s.config.apiScheme}://${l}`;return lC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function cC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),uC.get())})}}function Qc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=xi(s,t,r);return l.customData._tokenResponse=i,l}function vE(s){return s!==void 0&&s.enterprise!==void 0}class fC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return cC(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dC(s,t){return ms(s,"GET","/v2/recaptchaConfig",hr(s,t))}async function mC(s,t){return ms(s,"POST","/v1/accounts:delete",t)}async function _h(s,t){return ms(s,"POST","/v1/accounts:lookup",t)}function Hl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gC(s,t=!1){const i=mn(s),r=await i.getIdToken(t),l=Sg(r);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Hl(rm(l.auth_time)),issuedAtTime:Hl(rm(l.iat)),expirationTime:Hl(rm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Sg(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const l=qE(i);return l?JSON.parse(l):($c("Failed to decode base64 JWT payload"),null)}catch(l){return $c("Caught error parsing JWT payload as JSON",l?.toString()),null}}function EE(s){const t=Sg(s);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function mo(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ds&&pC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function pC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class _C{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Om{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yh(s){const t=s.auth,i=await s.getIdToken(),r=await mo(s,_h(t,{idToken:i}));mt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?k0(l.providerUserInfo):[],d=vC(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Om(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function yC(s){const t=mn(s);await yh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vC(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function k0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function EC(s,t){const i=await L0(s,{},async()=>{const r=Wl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await P0(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&go(s.emulatorConfig.host)&&(_.credentials="include"),U0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function TC(s,t){return ms(s,"POST","/v2/accounts:revokeToken",hr(s,t))}class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):EE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=EE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await EC(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new no;return r&&(mt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Ys(s,t){mt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new _C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await mo(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return gC(this,t)}reload(){return yC(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(os(this.auth));const t=await this.getIdToken();return await mo(this,mC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:b,emailVerified:O,isAnonymous:H,providerData:$,stsTokenManager:tt}=i;mt(b&&tt,t,"internal-error");const J=no.fromJSON(this.name,tt);mt(typeof b=="string",t,"internal-error"),Ys(r,t.name),Ys(l,t.name),mt(typeof O=="boolean",t,"internal-error"),mt(typeof H=="boolean",t,"internal-error"),Ys(c,t.name),Ys(d,t.name),Ys(g,t.name),Ys(_,t.name),Ys(y,t.name),Ys(T,t.name);const et=new ni({uid:b,auth:t,email:l,emailVerified:O,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:y,lastLoginAt:T});return $&&Array.isArray($)&&(et.providerData=$.map(pt=>({...pt}))),_&&(et._redirectEventId=_),et}static async _fromIdTokenResponse(t,i,r=!1){const l=new no;l.updateFromServerResponse(i);const c=new ni({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await yh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?k0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new no;g.updateFromIdToken(r);const _=new ni({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const TE=new Map;function rs(s){fs(s instanceof Function,"Expected a class definition");let t=TE.get(s);return t?(fs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,TE.set(s,t),t)}class q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}q0.type="NONE";const AE=q0;function Wc(s,t,i){return`firebase:${s}:${t}:${i}`}class io{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Wc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Wc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await _h(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new io(rs(AE),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||rs(AE);const d=Wc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const T=await y._get(d);if(T){let b;if(typeof T=="string"){const O=await _h(t,{idToken:T}).catch(()=>{});if(!O)break;b=await ni._fromGetAccountInfoResponse(t,O,T)}else b=ni._fromJSON(t,T);y!==c&&(g=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new io(c,t,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new io(c,t,r))}}function SE(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(F0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(j0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(G0(t))return"Blackberry";if(K0(t))return"Webos";if(B0(t))return"Safari";if((t.includes("chrome/")||H0(t))&&!t.includes("edge/"))return"Chrome";if(Q0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function j0(s=We()){return/firefox\//i.test(s)}function B0(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function H0(s=We()){return/crios\//i.test(s)}function F0(s=We()){return/iemobile/i.test(s)}function Q0(s=We()){return/android/i.test(s)}function G0(s=We()){return/blackberry/i.test(s)}function K0(s=We()){return/webos/i.test(s)}function bg(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function AC(s=We()){return bg(s)&&!!window.navigator?.standalone}function SC(){return T1()&&document.documentMode===10}function Y0(s=We()){return bg(s)||Q0(s)||K0(s)||G0(s)||/windows phone/i.test(s)||F0(s)}function X0(s,t=[]){let i;switch(s){case"Browser":i=SE(We());break;case"Worker":i=`${SE(We())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${po}/${r}`}class bC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function wC(s,t={}){return ms(s,"GET","/v2/passwordPolicy",hr(s,t))}const RC=6;class IC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??RC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class CC{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bE(this),this.idTokenSubscription=new bE(this),this.beforeStateQueue=new bC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await io.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await _h(this,{idToken:t}),r=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await yh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(os(this));const i=t?mn(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wC(this),i=new IC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $l("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await TC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rs(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=X0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&iC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function sa(s){return mn(s)}class bE{constructor(t){this.auth=t,this.observer=null,this.addObserver=D1(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DC(s){Ph=s}function Z0(s){return Ph.loadJS(s)}function NC(){return Ph.recaptchaEnterpriseScript}function OC(){return Ph.gapiScript}function VC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class MC{constructor(){this.enterprise=new xC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class xC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const zC="recaptcha-enterprise",J0="NO_RECAPTCHA";class UC{constructor(t){this.type=zC,this.auth=sa(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{dC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new fC(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{g(_)})})}function l(c,d,g){const _=window.grecaptcha;vE(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(J0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(g=>{if(!i&&vE(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=NC();_.length!==0&&(_+=g),Z0(_).then(()=>{l(g,c,d)}).catch(y=>{d(y)})}}).catch(g=>{d(g)})})}}async function wE(s,t,i,r=!1,l=!1){const c=new UC(s);let d;if(l)d=J0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Vm(s,t,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wE(s,t,i,i==="getOobCode");return r(s,c)}else return r(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await wE(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function LC(s,t){const i=Lm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Yr(c,t??{}))return l;ri(l,"already-initialized")}return i.initialize({options:t})}function PC(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(rs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function kC(s,t,i){const r=sa(s);mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=$0(t),{host:d,port:g}=qC(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mt(Yr(y,r.config.emulator)&&Yr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,go(d)?(FE(`${c}//${d}${_}`),QE("Auth",!0)):jC()}function $0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function qC(s){const t=$0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:RE(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:RE(d)}}}function RE(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function jC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class wg{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,i){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}async function BC(s,t){return ms(s,"POST","/v1/accounts:signUp",t)}async function HC(s,t){return ou(s,"POST","/v1/accounts:signInWithPassword",hr(s,t))}async function FC(s,t){return ou(s,"POST","/v1/accounts:signInWithEmailLink",hr(s,t))}async function QC(s,t){return ou(s,"POST","/v1/accounts:signInWithEmailLink",hr(s,t))}class Jl extends wg{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Jl(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Jl(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(t,i,"signInWithPassword",HC);case"emailLink":return FC(t,{email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(t,r,"signUpPassword",BC);case"emailLink":return QC(t,{idToken:i,email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function so(s,t){return ou(s,"POST","/v1/accounts:signInWithIdp",hr(s,t))}const GC="http://localhost";class $r extends wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new $r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new $r(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return so(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,so(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,so(t,i)}buildRequest(){const t={requestUri:GC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Wl(i)}return t}}function KC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YC(s){const t=Vl(Ml(s)).link,i=t?Vl(Ml(t)).deep_link_id:null,r=Vl(Ml(s)).deep_link_id;return(r?Vl(Ml(r)).link:null)||r||i||t||s}class Rg{constructor(t){const i=Vl(Ml(t)),r=i.apiKey??null,l=i.oobCode??null,c=KC(i.mode??null);mt(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=YC(t);try{return new Rg(i)}catch{return null}}}class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(t,i){return Jl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Rg.parseLink(i);return mt(r,"argument-error"),Jl._fromEmailAndCode(t,r.code,r.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class W0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class lu extends W0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Xs extends lu{constructor(){super("facebook.com")}static credential(t){return $r._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";class Zs extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return $r._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Zs.credential(i,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";class Js extends lu{constructor(){super("github.com")}static credential(t){return $r._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";class $s extends lu{constructor(){super("twitter.com")}static credential(t,i){return $r._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return $s.credential(i,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";async function XC(s,t){return ou(s,"POST","/v1/accounts:signUp",hr(s,t))}class Wr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ni._fromIdTokenResponse(t,r,l),d=IE(r);return new Wr({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=IE(r);return new Wr({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function IE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class vh extends ds{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new vh(t,i,r,l)}}function tA(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(s,c,t,r):c})}async function ZC(s,t,i=!1){const r=await mo(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Wr._forOperation(s,"link",r)}async function JC(s,t,i=!1){const{auth:r}=s;if(Ln(r.app))return Promise.reject(os(r));const l="reauthenticate";try{const c=await mo(s,tA(r,l,t,s),i);mt(c.idToken,r,"internal-error");const d=Sg(c.idToken);mt(d,r,"internal-error");const{sub:g}=d;return mt(s.uid===g,r,"user-mismatch"),Wr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ri(r,"user-mismatch"),c}}async function eA(s,t,i=!1){if(Ln(s.app))return Promise.reject(os(s));const r="signIn",l=await tA(s,r,t),c=await Wr._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function $C(s,t){return eA(sa(s),t)}async function nA(s){const t=sa(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function WC(s,t,i){if(Ln(s.app))return Promise.reject(os(s));const r=sa(s),d=await Vm(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XC).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&nA(s),_}),g=await Wr._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function t2(s,t,i){return Ln(s.app)?Promise.reject(os(s)):$C(mn(s),bo.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nA(s),r})}async function e2(s,t){return ms(s,"POST","/v1/accounts:update",t)}async function n2(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const r=mn(s),c={idToken:await r.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await mo(r,e2(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const g=r.providerData.find(({providerId:_})=>_==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function i2(s,t,i,r){return mn(s).onIdTokenChanged(t,i,r)}function s2(s,t,i){return mn(s).beforeAuthStateChanged(t,i)}const Eh="__sak";class iA{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const r2=1e3,a2=10;class sA extends iA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);SC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,a2):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}sA.type="LOCAL";const o2=sA;class rA extends iA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}rA.type="SESSION";const aA=rA;function l2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class kh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new kh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await l2(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];function Ig(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class u2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Ig("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const O=b;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function zi(){return window}function c2(s){zi().location.href=s}function oA(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function h2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){return navigator?.serviceWorker?.controller||null}function d2(){return oA()?self:null}const lA="firebaseLocalStorageDb",m2=1,Th="firebaseLocalStorage",uA="fbase_key";class uu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function qh(s,t){return s.transaction([Th],t?"readwrite":"readonly").objectStore(Th)}function g2(){const s=indexedDB.deleteDatabase(lA);return new uu(s).toPromise()}function Mm(){const s=indexedDB.open(lA,m2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Th,{keyPath:uA})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Th)?t(r):(r.close(),await g2(),t(await Mm()))})})}async function CE(s,t,i){const r=qh(s,!0).put({[uA]:t,value:i});return new uu(r).toPromise()}async function p2(s,t){const i=qh(s,!1).get(t),r=await new uu(i).toPromise();return r===void 0?null:r.value}function DE(s,t){const i=qh(s,!0).delete(t);return new uu(i).toPromise()}const _2=800,y2=3;class cA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>y2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(d2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mm();return await CE(t,Eh,"1"),await DE(t,Eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>CE(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>p2(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>DE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=qh(l,!1).getAll();return new uu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cA.type="LOCAL";const v2=cA;new au(3e4,6e4);function E2(s,t){return t?rs(t):(mt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Cg extends wg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return so(t,this._buildIdpRequest())}_linkToIdToken(t,i){return so(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return so(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function T2(s){return eA(s.auth,new Cg(s),s.bypassAuthState)}function A2(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),JC(i,new Cg(s),s.bypassAuthState)}async function S2(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),ZC(i,new Cg(s),s.bypassAuthState)}class hA{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return S2;case"reauthViaPopup":case"reauthViaRedirect":return A2;default:ri(this.auth,"internal-error")}}resolve(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const b2=new au(2e3,1e4);class Wa extends hA{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const t=Ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,b2.get())};t()}}Wa.currentPopupAction=null;const w2="pendingRedirect",th=new Map;class R2 extends hA{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=th.get(this.auth._key());if(!t){try{const r=await I2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}th.set(this.auth._key(),t)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I2(s,t){const i=N2(t),r=D2(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function C2(s,t){th.set(s._key(),t)}function D2(s){return rs(s._redirectPersistence)}function N2(s){return Wc(w2,s.config.apiKey,s.name)}async function O2(s,t,i=!1){if(Ln(s.app))return Promise.reject(os(s));const r=sa(s),l=E2(r,t),d=await new R2(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const V2=600*1e3;class M2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!x2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!fA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=V2&&this.cachedEventUids.clear(),this.cachedEventUids.has(NE(t))}saveEventToCache(t){this.cachedEventUids.add(NE(t)),this.lastProcessedEventTime=Date.now()}}function NE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function fA({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function x2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fA(s);default:return!1}}async function z2(s,t={}){return ms(s,"GET","/v1/projects",t)}const U2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L2=/^https?/;async function P2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await z2(s);for(const i of t)try{if(k2(i))return}catch{}ri(s,"unauthorized-domain")}function k2(s){const t=Nm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!L2.test(i))return!1;if(U2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const q2=new au(3e4,6e4);function OE(){const s=zi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function j2(s){return new Promise((t,i)=>{function r(){OE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{OE(),i(xi(s,"network-request-failed"))},timeout:q2.get()})}if(zi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(zi().gapi?.load)r();else{const l=VC("iframefcb");return zi()[l]=()=>{gapi.load?r():i(xi(s,"network-request-failed"))},Z0(`${OC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw eh=null,t})}let eh=null;function B2(s){return eh=eh||j2(s),eh}const H2=new au(5e3,15e3),F2="__/auth/iframe",Q2="emulator/auth/iframe",G2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(s){const t=s.config;mt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Ag(t,Q2):`https://${s.config.authDomain}/${F2}`,r={apiKey:t.apiKey,appName:s.name,v:po},l=K2.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Wl(r).slice(1)}`}async function X2(s){const t=await B2(s),i=zi().gapi;return mt(i,s,"internal-error"),t.open({where:document.body,url:Y2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G2,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=xi(s,"network-request-failed"),g=zi().setTimeout(()=>{c(d)},H2.get());function _(){zi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const Z2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J2=500,$2=600,W2="_blank",tD="http://localhost";class VE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eD(s,t,i,r=J2,l=$2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...Z2,width:r.toString(),height:l.toString(),top:c,left:d},y=We().toLowerCase();i&&(g=H0(y)?W2:i),j0(y)&&(t=t||tD,_.scrollbars="yes");const T=Object.entries(_).reduce((O,[H,$])=>`${O}${H}=${$},`,"");if(AC(y)&&g!=="_self")return nD(t||"",g),new VE(null);const b=window.open(t||"",g,T);mt(b,s,"popup-blocked");try{b.focus()}catch{}return new VE(b)}function nD(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const iD="__/auth/handler",sD="emulator/auth/handler",rD=encodeURIComponent("fac");async function ME(s,t,i,r,l,c){mt(s.config.authDomain,s,"auth-domain-config-required"),mt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:po,eventId:l};if(t instanceof W0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",C1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(t instanceof lu){const T=t.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),y=_?`#${rD}=${encodeURIComponent(_)}`:"";return`${aD(s)}?${Wl(g).slice(1)}${y}`}function aD({config:s}){return s.emulator?Ag(s,sD):`https://${s.authDomain}/${iD}`}const am="webStorageSupport";class oD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aA,this._completeRedirectFn=O2,this._overrideRedirectResult=C2}async _openPopup(t,i,r,l){fs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await ME(t,i,r,Nm(),l);return eD(t,c,Ig())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await ME(t,i,r,Nm(),l);return c2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(fs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await X2(t),r=new M2(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(am,{type:am},l=>{const c=l?.[0]?.[am];c!==void 0&&i(!!c),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=P2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Y0()||B0()||bg()}}const lD=oD;var xE="@firebase/auth",zE="1.11.1";class uD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hD(s){ro(new Xr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X0(s)},y=new CC(r,l,c,_);return PC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),ro(new Xr("auth-internal",t=>{const i=sa(t.getProvider("auth").getImmediate());return(r=>new uD(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(xE,zE,cD(s)),nr(xE,zE,"esm2020")}const fD=300,dD=HE("authIdTokenMaxAge")||fD;let UE=null;const mD=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>dD)return;const l=i?.token;UE!==l&&(UE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function gD(s=YE()){const t=Lm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=LC(s,{popupRedirectResolver:lD,persistence:[v2,o2,aA]}),r=HE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=mD(c.toString());s2(i,d,()=>d(i.currentUser)),i2(i,g=>d(g))}}const l=jE("auth");return l&&kC(i,`http://${l}`),i}function pD(){return document.getElementsByTagName("head")?.[0]??document}DC({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=xi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",pD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hD("Browser");let Wt=null,is=null;async function _D(){const s=Pm(LE);return PI(s)}async function yD(){const s=Pm(LE);return gD(s)}async function qn(){if(Wt){if(Wt)return Wt}else return Wt=await _D(),Wt}async function dA(){if(is){if(is)return is}else return is=await yD(),is}async function vD(s,t,i){is||await dA();let r=null;return await WC(is,t,i).then(l=>(r=l.user,n2(r,{displayName:s}))).catch(l=>{const c=l.code,d=l.message;console.log(c,d)}),r}async function ED(s,t){is||await dA();let i=null;return await t2(is,s,t).then(r=>{i=r.user}).catch(r=>{const l=r.code,c=r.message;console.log(l,c)}),i}async function TD(){Wt||await qn();const s=fo(Wt,"Quizzes"),t=await vg(s),i=[];return t?(t.forEach(r=>{i.push(cu.fromFirestore(r))}),i):(console.log("No such document!"),null)}async function AD(s){Wt||await qn();const t=ZI(fo(Wt,"Quizzes"),JI("authorId","==",s)),i=await vg(t),r=[];return i?(i.forEach(l=>{r.push(cu.fromFirestore(l))}),r):(console.log("No quizzes found"),null)}async function jh(s){Wt||await qn();const t=Ao(Wt,"Quizzes",s),i=await tC(t);return i.exists()?cu.fromFirestore(i):(console.log("No document found at id",s),null)}async function SD(s){Wt||await qn(),s.results=[pA];const t=await Dm(fo(Wt,"Quizzes"),cu.toFirestore(s));let i=Qr;return i.order=0,await Dm(fo(Wt,"Quizzes",t.id,"Quiz Questions"),Hh.toFirestore(i)),t.id}async function Dg(s){Wt||await qn();const t=Ao(Wt,"Quizzes",s.qId).withConverter(cu);await O0(t,s)}async function bD(s){Wt||await qn();const t=Ao(Wt,"Quizzes",s);await V0(t)}async function Bh(s){Wt||await qn();const t=fo(Wt,"Quizzes",s,"Quiz Questions"),i=await vg(t),r=[];return i?(i.forEach(l=>{r.push(Hh.fromFirestore(l))}),r.sort((l,c)=>l.order-c.order),r):(console.log("Error"),null)}async function Ng(s,t,i){Wt||await qn();const r=Ao(Wt,"Quizzes",s,"Quiz Questions",t).withConverter(Hh);await O0(r,i)}async function wD(s,t){Wt||await qn();const i=fo(Wt,"Quizzes",s,"Quiz Questions").withConverter(Hh);await Dm(i,t)}async function RD(s,t){Wt||await qn();const i=Ao(Wt,"Quizzes",s,"Quiz Questions",t);await V0(i)}async function ID(s){Wt||await qn();const t=await jh(s);t.results.push(pA),await Dg(t),(await Bh(s)).forEach(async r=>{for(let l=0;l<r.responses.length;l++)r.weights[l].push(1);await Ng(s,r.qId,r)})}async function CD(s,t){Wt||await qn();const i=await jh(s);i.results.splice(t.rId,1),Dg(i),(await Bh(s)).forEach(async l=>{for(let c=0;c<l.responses.length;c++)l.weights[c].splice(t.rId,1);await Ng(s,l.qId,l)})}class mA{constructor(t,i,r,l,c,d,g){this.qId=t,this.author=i,this.aId=r,this.description=l,this.image=c,this.name=d,this.results=g}}const cu={toFirestore:s=>({author:s.author,authorId:s.aId,description:s.description,image:s.image,"quiz-name":s.name,results:s.results.map(t=>DD.toFirestore(t))}),fromFirestore:s=>{const t=s.data(),i=[];for(let r=0;r<t.results.length;r++)i.push(new Og(r,t.results[r].title,t.results[r].description,t.results[r].image));return new mA(s.id,t.author,t.authorId,t.description,t.image,t["quiz-name"],i)}};let gA=class{constructor(t,i,r,l,c,d){this.qId=t,this.question=i,this.responses=r,this.weights=l,this.constrained=c,this.order=d}};const Hh={toFirestore:s=>({question:s.question,responses:s.responses,weights:s.weights,constrained:s.constrained,order:s.order}),fromFirestore:s=>{const t=s.data();return new gA(s.id,t.question,t.responses,t.weights,t.constrained,t.order)}};class Og{constructor(t,i,r,l){this.rId=t,this.title=i,this.description=r,this.image=l}}const DD={toFirestore:s=>({description:s.description,image:s.image,title:s.title}),fromFirestore:s=>{const t=s.data();return new Og(null,t.title,t.description,Database.image)}},Qr=new gA(null,"Sample Question",["Sample Response 1","Sample Response 2"],{0:[1],1:[1]},!0,null),pA=new Og(null,"Sample Result","Sample Result Description","https://placehold.co/800x800?text=Sample+Result"),ND="_header_1eo8i_1",OD="_sidebar_1eo8i_1",VD="_content_1eo8i_1",MD="_editor_1eo8i_1",ns={"builder-page-layout":"_builder-page-layout_1eo8i_1","page-element":"_page-element_1eo8i_16",header:ND,sidebar:OD,content:VD,editor:MD},xD={"question-options":"_question-options_c75n9_1"};function zD({quiz:s,initializeQuiz:t,lastIndex:i}){const r=async()=>{Qr.order=i,Qr.weights[0].length!=s.results.length&&Object.keys(Qr.weights).forEach(c=>{Qr.weights[c]=[];for(let d=0;d<s.results.length;d++)Qr.weights[c].push(1)}),await wD(s.qId,Qr),t()},l=async()=>{await ID(s.qId),t()};return U.jsxs("ul",{id:xD["question-options"],children:[U.jsx("li",{children:U.jsx("button",{onClick:r,children:"Multiple Choice"})}),U.jsx("li",{children:U.jsx("button",{onClick:l,children:"Result"})})]})}const Ah={"quiz-container":"_quiz-container_nnnou_1","quiz-question":"_quiz-question_nnnou_9","quiz-result":"_quiz-result_nnnou_42","quiz-result-img-container":"_quiz-result-img-container_nnnou_75"};function UD({question:s=U.jsx("p",{children:"placeholder question"}),responses:t=[1,2,3,4],qIndex:i,onClick:r}){const l=t.map(c=>U.jsx("li",{children:c},c));return U.jsxs("div",{className:Ah["quiz-question"],"q-index":i,onClick:r,children:[U.jsx("nav",{children:"Quiz Operations (TODO)"}),s,U.jsx("ul",{children:l})]})}function LD({rIndex:s,result:t,onClick:i}){return U.jsxs("div",{className:Ah["quiz-result"],"r-index":s,onClick:i,children:[U.jsx("nav",{children:t.title}),U.jsx("p",{children:t.description}),U.jsx("div",{className:Ah["quiz-result-img-container"],children:U.jsx("img",{src:t.image})})]})}function PD({quiz:s,questions:t,state:i,setState:r}){const l=O=>{r({...i,activeQuestion:O.currentTarget.getAttribute("q-index"),activeResult:null}),y(d())},c=O=>{r({...i,activeResult:O.currentTarget.getAttribute("r-index")}),b(g())},d=()=>t.map((O,H)=>U.jsx(UD,{qIndex:H,question:O.question,responses:O.responses,onClick:l},O.qId)),g=()=>s.results.map((O,H)=>U.jsx(LD,{rIndex:H,result:O,onClick:c})),[_,y]=wt.useState(d()),[T,b]=wt.useState(g());return wt.useEffect(()=>{y(d()),b(g())},[t]),U.jsxs("div",{className:Ah["quiz-container"],children:[_,T]})}const rn={"quiz-editor":"_quiz-editor_iw70c_1","quiz-editor-question":"_quiz-editor-question_iw70c_13","quiz-editor-responses":"_quiz-editor-responses_iw70c_40","quiz-editor-weights":"_quiz-editor-weights_iw70c_85","weight-entry":"_weight-entry_iw70c_98","save-button-active":"_save-button-active_iw70c_109","save-button-inactive":"_save-button-inactive_iw70c_125","delete-button":"_delete-button_iw70c_147","quiz-editor-result-title":"_quiz-editor-result-title_iw70c_170","quiz-editor-result-save-button-active":"_quiz-editor-result-save-button-active_iw70c_200","quiz-editor-result-delete-button":"_quiz-editor-result-delete-button_iw70c_214","quiz-editor-result-description":"_quiz-editor-result-description_iw70c_228","quiz-editor-result-image":"_quiz-editor-result-image_iw70c_255","quiz-editor-result-image-container":"_quiz-editor-result-image-container_iw70c_273"};function kD({quiz:s,result:t,initQuiz:i}){const[r,l]=wt.useState(t.title),[c,d]=wt.useState(t.description),[g,_]=wt.useState(t.image),[y,T]=wt.useState(!1);wt.useEffect(()=>{l(t.title),d(t.description),_(t.image)},[t]);const b=J=>{t.title=J.target.value,l(J.target.value),T(!0)},O=J=>{t.description=J.target.value,d(J.target.value),T(!0)},H=J=>{t.image=J.target.value,_(J.target.value),T(!0)},$=async J=>{T(!1),s.results[t.rId]=t,await Dg(s),await i()},tt=async J=>{await CD(s.qId,t),await i()};return U.jsxs("form",{className:rn["quiz-editor"],action:$,children:[U.jsxs("div",{className:rn["quiz-editor-result-title"],children:[U.jsx("label",{htmlFor:"title-input",children:"Result Title"}),U.jsx("input",{id:"title-input",type:"text",value:r,onChange:b}),y?U.jsx("button",{className:rn["quiz-editor-result-save-button-active"],type:"submit",children:"Save Changes"}):U.jsx("button",{type:"button",children:"Save Changes"}),U.jsx("button",{className:rn["quiz-editor-result-delete-button"],onClick:tt,type:"button",children:"Delete Result"})]}),U.jsx("div",{className:rn["quiz-editor-result-description"],children:U.jsx("textarea",{placeholder:"Result Description",value:c,onChange:O})}),U.jsxs("div",{className:rn["quiz-editor-result-image"],children:[U.jsx("input",{id:"image-input",type:"text",placeholder:"Image URL",value:g,onChange:H}),U.jsx("div",{className:rn["quiz-editor-result-image-container"],children:U.jsx("img",{src:g,alt:"An image for "+r})})]})]})}let Hr=0;function qD({quiz:s,question:t,initQuiz:i}){const r=()=>s.results.length-t.weights[Hr].reduce((S,w)=>S+w,0),l=S=>t.responses.map((w,V)=>U.jsx("input",{"r-id":V,type:"text",value:w,onChange:S,onFocus:_},V)),c=S=>t.weights[Hr].map((w,V)=>U.jsxs("div",{className:rn["weight-entry"],children:[U.jsxs("label",{children:[s.results[V].title,": "]}),U.jsx("input",{type:"number",id:V,"w-id":V,value:w,onChange:S})]},V)),d=S=>{t.question=S.target.value,tt(S.target.value),C(!0)},g=S=>{t.responses[S.target.getAttribute("r-id")]=S.target.value,et(l(g)),C(!0)},_=S=>{Hr=S.target.getAttribute("r-id"),ht(c(b)),Ft(r())},y=S=>{t.responses.push(""),t.weights[t.responses.length-1]=new Array(s.results.length).fill(1),et(l(g)),C(!0)},T=S=>{if(t.responses.length<=1){alert("Cannot have a question with no responses");return}t.responses.pop(),delete t.weights[t.responses.length],Hr-=1,et(l(g)),C(!0)},b=S=>{if(isNaN(S.target.value)||S.target.value==""||parseInt(S.target.value)<0)return;let w=t.weights[Hr];w[S.target.getAttribute("w-id")]=parseInt(S.target.value),w=w.reduce((V,D)=>V+D,0),!(w>s.results.length)&&(t.weights[Hr][S.target.getAttribute("w-id")]=parseInt(S.target.value),ht(c(b)),Ft(r()),C(!0))},O=async S=>{if(t.question==""){alert("Question body can't be empty");return}t.responses.forEach(V=>{if(V==""){alert("Response bodies can't be empty");return}});let w;for(let V=0;V<t.responses.length;V++)if(w=t.weights[V].reduce((D,z)=>D+z,0),w!=s.results.length){alert("Not all result weights assigned");return}C(!1),await Ng(s.qId,t.qId,t),await i()},H=async()=>{confirm("You are about to delete a question, this action is irreversible")&&(await RD(s.qId,t.qId),await i())},[$,tt]=wt.useState(),[J,et]=wt.useState(),[pt,ht]=wt.useState(),[Pt,Ft]=wt.useState(),[Mt,C]=wt.useState();return wt.useEffect(()=>{Hr=0,tt(t.question),et(l(g)),ht(c(b)),Ft(r())},[t]),U.jsxs("form",{className:rn["quiz-editor"],action:O,children:[U.jsx("div",{className:rn["quiz-editor-question"],children:U.jsx("textarea",{placeholder:"Enter the question here",value:$,onChange:d})}),U.jsxs("div",{className:rn["quiz-editor-responses"],children:[J,U.jsx("button",{type:"button",onClick:y,children:"+ add response"}),U.jsx("button",{type:"button",onClick:T,children:"- remove response"})]}),U.jsxs("div",{className:rn["quiz-editor-weights"],children:[U.jsxs("h4",{children:["Weights left to Assign: ",Pt]}),pt]}),Mt?U.jsx("button",{type:"submit",className:rn["save-button-active"],children:"Save Changes"}):U.jsx("button",{type:"button",className:rn["save-button-inactive"],children:"Save Changes"}),U.jsx("button",{type:"button",className:rn["delete-button"],onClick:H,children:"Delete Question"})]})}function jD({quiz:s,question:t,result:i,resultId:r,initializeQuiz:l}){return i?U.jsx(kD,{quiz:s,result:i,rId:r,initQuiz:l}):U.jsx(qD,{quiz:s,question:t,initQuiz:l})}function BD({setPage:s,quizId:t,header:i=U.jsx("p",{children:"Back to Homepage"})}){const[r,l]=wt.useState({quiz:null,questions:null,activeQuestion:0,activeResult:null});wt.useEffect(()=>{c()},[]);async function c(){const d=await jh(t),g=await Bh(t);l({...r,quiz:d,questions:g,activeQuestion:0})}return!r.quiz||!r.questions?U.jsx("h1",{children:"Loading..."}):U.jsxs("div",{className:ns["builder-page-layout"],children:[U.jsx("div",{className:ns["page-element"],id:ns.header,onClick:()=>s(ke.MAIN),children:i}),U.jsxs("div",{className:ns["page-element"],id:ns.sidebar,children:[U.jsx("h3",{children:"Question Options"}),U.jsx(zD,{quiz:r.quiz,initializeQuiz:c,lastIndex:r.questions[r.questions.length-1].order+1})]}),U.jsxs("div",{className:ns["page-element"],id:ns.content,children:[U.jsx("h3",{children:"Quiz Preview"}),U.jsx(PD,{quiz:r.quiz,questions:r.questions,state:r,setState:l})]}),U.jsxs("div",{className:ns["page-element"],id:ns.editor,children:[U.jsx("h3",{children:"Editor"}),U.jsx(jD,{quiz:r.quiz,question:r.questions[r.activeQuestion],result:r.activeResult?r.quiz.results[r.activeResult]:null,resultId:r.activeResult,initializeQuiz:c})]})]})}const HD="_quizzes_10p44_118",sn={"header-title":"_header-title_10p44_1","main-page":"_main-page_10p44_30","main-page-body":"_main-page-body_10p44_37","edit-button":"_edit-button_10p44_1","create-button":"_create-button_10p44_1","discover-text":"_discover-text_10p44_1","down-arrow":"_down-arrow_10p44_1",quizzes:HD,"quiz-card":"_quiz-card_10p44_125","quiz-card-image-container":"_quiz-card-image-container_10p44_144","quiz-card-name":"_quiz-card-name_10p44_161","quiz-card-author":"_quiz-card-author_10p44_165","quiz-card-desc":"_quiz-card-desc_10p44_170","quiz-card-button":"_quiz-card-button_10p44_174"},FD="_cancel_1x64k_69",QD="_confirm_1x64k_87",Ol={"add-quiz-popup":"_add-quiz-popup_1x64k_1","add-quiz-popup-window":"_add-quiz-popup-window_1x64k_15","add-quiz-popup-window-actions":"_add-quiz-popup-window-actions_1x64k_61",cancel:FD,confirm:QD};function GD({setAddingQuiz:s,setPage:t,setCurrentQuizId:i,user:r}){const[l,c]=wt.useState(""),[d,g]=wt.useState(""),[_,y]=wt.useState(""),[T,b]=wt.useState(""),O=et=>{c(et.target.value)},H=et=>{g(et.target.value)},$=et=>{y(et.target.value)},tt=et=>{b(et.target.value)},J=async et=>{let pt=T;pt||(pt="https://placehold.co/800x800?text=No+Image");const ht=new mA(null,d!=""?d:r.displayName,r.uid,_,pt,l,[]),Pt=await SD(ht);i(Pt),t(ke.BUILD)};return U.jsx("div",{className:Ol["add-quiz-popup"],children:U.jsxs("form",{className:Ol["add-quiz-popup-window"],action:J,children:[U.jsx("h3",{children:"Create a Quiz"}),U.jsxs("label",{htmlFor:"qName",children:[U.jsx("span",{children:"*"})," Quiz Name"]}),U.jsx("input",{type:"text",id:"qName",value:l,onChange:O,required:!0},"0"),U.jsx("label",{htmlFor:"qAuthor",children:"Author Alias (optional, if left empty your display name will be used)"}),U.jsx("input",{type:"text",id:"qAuthor",value:d,onChange:H},"1"),U.jsxs("label",{htmlFor:"qDesc",children:[U.jsx("span",{children:"*"})," Quiz Description"]}),U.jsx("textarea",{id:"qDesc",value:_,onChange:$,required:!0},"2"),U.jsx("label",{htmlFor:"qImg",children:"Image URL"}),U.jsx("input",{type:"text",id:"qImg",value:T,onChange:tt},"3"),U.jsxs("div",{className:Ol["add-quiz-popup-window-actions"],children:[U.jsx("button",{className:Ol.cancel,onClick:()=>s(!1),children:"Cancel"}),U.jsx("button",{className:Ol.confirm,type:"submit",children:"Create Quiz"})]})]})})}function KD({setPage:s,setCurrentQuizId:t,user:i}){const[r,l]=wt.useState(null),[c,d]=wt.useState(!1);wt.useEffect(()=>{g()},[]);async function g(){const T=await TD();l(T)}const _=T=>{t(T.target.getAttribute("q-id")),s(ke.QUIZ)};if(!r)return U.jsx("p",{children:"Loading..."});const y=r.map(T=>U.jsxs("div",{className:sn["quiz-card"],children:[U.jsx("div",{className:sn["quiz-card-image-container"],children:U.jsx("img",{src:T.image,alt:"An image for "+T.name})}),U.jsx("h3",{className:sn["quiz-card-name"],children:T.name}),U.jsx("p",{className:sn["quiz-card-author"],children:T.author}),U.jsx("p",{className:sn["quiz-card-desc"],children:T.description}),U.jsx("button",{className:sn["quiz-card-button"],"q-id":T.qId,onClick:_,children:"Take Quiz"})]}));return c?document.body.style.overflow="hidden":document.body.style.overflow="auto",U.jsxs("div",{className:sn["main-page"],children:[c&&U.jsx(GD,{setAddingQuiz:d,setPage:s,setCurrentQuizId:t,user:i}),U.jsx("h1",{id:sn["header-title"],children:"Quizland"}),U.jsxs("div",{className:sn["main-page-body"],children:[U.jsxs("div",{id:sn.actions,children:[U.jsx("button",{id:sn["edit-button"],onClick:()=>s(ke.EDIT),children:"Edit Your Quizzes"}),U.jsxs("button",{id:sn["create-button"],onClick:()=>d(!0),children:["Create New Quiz ",U.jsx("span",{children:""})]})]}),U.jsx("p",{id:sn["discover-text"],children:"discover quizzes"}),U.jsx("p",{id:sn["down-arrow"],children:""}),U.jsx("div",{className:sn.quizzes,children:y})]})]})}const ti={"quiz-page-body":"_quiz-page-body_565s4_1","quiz-page-header":"_quiz-page-header_565s4_15","quiz-page-questiton-list":"_quiz-page-questiton-list_565s4_33","quiz-page-question":"_quiz-page-question_565s4_41","quiz-page-question-response":"_quiz-page-question-response_565s4_59","quiz-page-submit-button":"_quiz-page-submit-button_565s4_67","quiz-page-result":"_quiz-page-result_565s4_90","quiz-page-result-img-container":"_quiz-page-result-img-container_565s4_111","quiz-page-result-return-buttton":"_quiz-page-result-return-buttton_565s4_123"};function YD({quiz:s,questions:t,setResult:i}){const r=t.map(c=>{const d=c.responses.map((g,_)=>U.jsxs("div",{className:ti["quiz-page-question-response"],children:[U.jsx("input",{type:"radio",id:g,name:c.question,value:c.weights[_],required:!0}),U.jsx("label",{htmlFor:g,children:g})]}));return U.jsxs("div",{className:ti["quiz-page-question"],children:[U.jsx("p",{children:c.question}),d]},c.qId)}),l=c=>{let d=new Array(s.results.length).fill(0);t.forEach(_=>{d=c.get(_.question).split(",").map(Number).map((y,T)=>y+d[T])});let g=0;for(let _=0;_<d.length;_++)d[_]>d[g]&&(g=_);i(g)};return U.jsxs("form",{className:ti["quiz-page-questiton-list"],action:l,children:[r,U.jsx("button",{className:ti["quiz-page-submit-button"],children:"Get Result"})]})}function XD({setPage:s,quizId:t}){const[i,r]=wt.useState(null),[l,c]=wt.useState(null),[d,g]=wt.useState(null);wt.useEffect(()=>{_()},[]);async function _(){const y=await jh(t),T=await Bh(t);r(y),c(T)}return i==null?U.jsx("p",{children:"Loading..."}):d!=null?U.jsxs("div",{className:ti["quiz-page-body"],children:[U.jsx("div",{className:ti["quiz-page-header"],onClick:()=>s(ke.MAIN),children:U.jsx("h1",{children:"Quizland"})}),U.jsxs("div",{className:ti["quiz-page-result"],children:[U.jsx("h3",{children:i.results[d].title}),U.jsx("p",{children:i.results[d].description})," ",U.jsx("div",{className:ti["quiz-page-result-img-container"],children:U.jsx("img",{src:i.results[d].image})})]}),U.jsx("button",{className:ti["quiz-page-result-return-buttton"],onClick:()=>g(null),children:"Return"})]}):U.jsxs("div",{className:ti["quiz-page-body"],children:[U.jsx("div",{className:ti["quiz-page-header"],onClick:()=>s(ke.MAIN),children:U.jsx("h1",{children:"Quizland"})}),U.jsx(YD,{quiz:i,questions:l,setResult:g})]})}const Ci={"login-form-wrapper":"_login-form-wrapper_dgrzl_1","login-form":"_login-form_dgrzl_1","login-form-actions":"_login-form-actions_dgrzl_43","login-form-action-button":"_login-form-action-button_dgrzl_59","login-form-alternative-button":"_login-form-alternative-button_dgrzl_78"};function ZD({setPage:s,setUser:t}){const[i,r]=wt.useState(""),[l,c]=wt.useState(""),[d,g]=wt.useState(""),[_,y]=wt.useState(""),[T,b]=wt.useState(!1),O=et=>{r(et.target.value)},H=et=>{c(et.target.value)},$=et=>{g(et.target.value)},tt=et=>{y(et.target.value)},J=async()=>{if(T){let et=await ED(l,d);console.log(et),et!=null?(t(et),s(ke.MAIN)):(c(""),g(""),y(""),alert("Invalid sign in attempt"))}else{if(d!=_){alert("Password don't match");return}let et=await vD(i,l,d);console.log(et),et!=null?(t(et),s(ke.MAIN)):(c(""),g(""),y(""),alert("Invalid sign up attempt"))}};return T?U.jsx("div",{className:Ci["login-form-wrapper"],children:U.jsxs("form",{className:Ci["login-form"],action:J,children:[U.jsx("h3",{children:"Sign In to Quizland"}),U.jsxs("label",{htmlFor:"email",children:[U.jsx("span",{children:"*"})," Email Address"]}),U.jsx("input",{type:"text",id:"email",value:l,onChange:H,required:!0},"4"),U.jsxs("label",{htmlFor:"password",children:[U.jsx("span",{children:"*"}),"Password"]}),U.jsx("input",{type:"password",id:"password",value:d,onChange:$,required:!0},"5"),U.jsxs("div",{className:Ci["login-form-actions"],children:[U.jsx("button",{type:"submit",className:Ci["login-form-action-button"],children:"Sign In"}),U.jsx("button",{type:"button",className:Ci["login-form-alternative-button"],onClick:()=>b(!1),children:"Create a new account"})]})]})}):U.jsx("div",{className:Ci["login-form-wrapper"],children:U.jsxs("form",{className:Ci["login-form"],action:J,children:[U.jsx("h3",{children:"Create a Quizland Account"}),U.jsxs("label",{htmlFor:"display-name",children:[U.jsx("span",{children:"*"})," Display Name"]}),U.jsx("input",{type:"text",id:"display-name",value:i,onChange:O,required:!0},"0"),U.jsxs("label",{htmlFor:"email",children:[U.jsx("span",{children:"*"})," Email Address"]}),U.jsx("input",{type:"text",id:"email",value:l,onChange:H,required:!0},"1"),U.jsxs("label",{htmlFor:"password",children:[U.jsx("span",{children:"*"})," New Password"]}),U.jsx("input",{type:"password",id:"password",value:d,onChange:$,required:!0},"2"),U.jsxs("label",{htmlFor:"password-repeat",children:[U.jsx("span",{children:"*"})," Repeat Password"]}),U.jsx("input",{type:"password",id:"password-repeat",value:_,onChange:tt,required:!0},"3"),U.jsxs("div",{className:Ci["login-form-actions"],children:[U.jsx("button",{type:"submit",className:Ci["login-form-action-button"],children:"Sign Up"}),U.jsx("button",{type:"button",className:Ci["login-form-alternative-button"],onClick:()=>b(!0),children:"Sign in to an existing account"})]})]})})}const JD="_quizzes_1fq3v_34",Wn={"edit-page-body":"_edit-page-body_1fq3v_1","edit-page-header":"_edit-page-header_1fq3v_16",quizzes:JD,"quiz-card":"_quiz-card_1fq3v_41","quiz-card-image-container":"_quiz-card-image-container_1fq3v_60","quiz-card-name":"_quiz-card-name_1fq3v_77","quiz-card-author":"_quiz-card-author_1fq3v_81","quiz-card-desc":"_quiz-card-desc_1fq3v_86","quiz-card-actions":"_quiz-card-actions_1fq3v_90","quiz-card-edit-button":"_quiz-card-edit-button_1fq3v_96","quiz-card-delete-button":"_quiz-card-delete-button_1fq3v_119"};function $D({setPage:s,setQuizId:t,user:i}){const[r,l]=wt.useState(null);wt.useEffect(()=>{c()},[]);const c=async()=>{const y=await AD(i.uid);l(y)},d=y=>{t(y.target.getAttribute("q-id")),s(ke.BUILD)},g=async y=>{confirm("You are about to delete your quiz, this action is irreversible")&&(await bD(y.target.getAttribute("q-id")),c())};if(!r)return U.jsx("p",{children:"Loading..."});const _=r.map(y=>U.jsxs("div",{className:Wn["quiz-card"],children:[U.jsx("div",{className:Wn["quiz-card-image-container"],children:U.jsx("img",{src:y.image,alt:"An image for "+y.name})}),U.jsx("h3",{className:Wn["quiz-card-name"],children:y.name}),U.jsx("p",{className:Wn["quiz-card-author"],children:y.author}),U.jsx("p",{className:Wn["quiz-card-desc"],children:y.description}),U.jsxs("div",{className:Wn["quiz-card-actions"],children:[U.jsx("button",{className:Wn["quiz-card-delete-button"],"q-id":y.qId,onClick:g,children:"Delete Quiz"}),U.jsx("button",{className:Wn["quiz-card-edit-button"],"q-id":y.qId,onClick:d,children:"Edit Quiz"})]})]}));return U.jsxs("div",{className:Wn["edit-page-body"],children:[U.jsx("div",{className:Wn["edit-page-header"],onClick:()=>s(ke.MAIN),children:U.jsx("h1",{children:"Quizland"})}),U.jsx("div",{className:Wn.quizzes,children:_})]})}const ke={MAIN:0,BUILD:1,QUIZ:2,LOGIN:3,EDIT:4};function WD(){const[s,t]=wt.useState(null),[i,r]=wt.useState(ke.LOGIN),[l,c]=wt.useState("p7rWH138EC8pTiSZsgfy");if(i==ke.MAIN)return U.jsx(KD,{setPage:r,setCurrentQuizId:c,user:s});if(i==ke.BUILD)return U.jsx(BD,{setPage:r,quizId:l});if(i==ke.QUIZ)return U.jsx(XD,{setPage:r,quizId:l});if(i==ke.LOGIN)return s&&r(ke.MAIN),U.jsx(ZD,{setPage:r,setUser:t});if(i==ke.EDIT)return s||r(ke.LOGIN),U.jsx($D,{setPage:r,setQuizId:c,user:s})}n1.createRoot(document.getElementById("root")).render(U.jsx(wt.StrictMode,{children:U.jsx(WD,{})}));
